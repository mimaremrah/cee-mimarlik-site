<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- GLOBAL TEMA AYARLARI - Aydınlık & Karanlık Mod Ayrı -->
    <script>
    // CEE MİMARLIK - Site Tema Ayarları
    const LIGHT_THEME_DEFAULT = {
        primary: '#5a6677', iconBg: '#5a6677', bgMain: '#ffffff',
        bgSection: '#f8f9fa', text: '#2d3748', header: '#1a202c'
    };
    const DARK_THEME_DEFAULT = {
        primary: '#5a6677', iconBg: '#5a6677', bgMain: '#111111',
        bgSection: '#1a1a1a', text: '#e2e8f0', header: '#0f0f0f'
    };
    
    if (typeof localStorage !== 'undefined') {
        if (!localStorage.getItem('light_color_settings')) {
            localStorage.setItem('light_color_settings', JSON.stringify(LIGHT_THEME_DEFAULT));
        }
        if (!localStorage.getItem('dark_color_settings')) {
            localStorage.setItem('dark_color_settings', JSON.stringify(DARK_THEME_DEFAULT));
        }
        
        // CSS Variables'ı HEMEN ayarla
        var isDarkMode = localStorage.getItem('cee_public_dark') === 'true';
        var ts = isDarkMode 
            ? JSON.parse(localStorage.getItem('dark_color_settings') || '{}')
            : JSON.parse(localStorage.getItem('light_color_settings') || '{}');
        if (!ts.bgMain) ts = isDarkMode ? DARK_THEME_DEFAULT : LIGHT_THEME_DEFAULT;
        
        document.documentElement.style.setProperty('--bg-primary', ts.bgMain);
        document.documentElement.style.setProperty('--bg-secondary', ts.bgSection);
        document.documentElement.style.setProperty('--header-bg', ts.header);
        document.documentElement.style.setProperty('--text-color', ts.text);
        document.documentElement.style.setProperty('--diagonal-color', ts.iconBg || '#5a6677');
        document.documentElement.style.setProperty('--divider-color', ts.iconBg || '#5a6677');
        document.documentElement.style.setProperty('--divider-color-light', ts.iconBgLight || '#6b7a8a');
    }
    </script>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="CEE Mimarlık - Modern mimarlık anlayışıyla villa, apartman, ofis ve ticari yapı tasarımı. Hayalinizdeki projeler, ustalıkla hayata geçiyor.">
    <meta name="keywords" content="mimarlık, inşaat, villa tasarımı, apartman projesi, ofis tasarımı, ticari yapı, CEE Mimarlık">
    <meta name="author" content="CEE Mimarlık">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="CEE Mimarlık">
    <meta property="og:description" content="Modern mimarlık anlayışıyla hayalinizdeki projeler">
    <meta property="og:type" content="website">
    
    <!-- Security Meta Tags -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta http-equiv="X-XSS-Protection" content="1; mode=block">
    <meta name="referrer" content="strict-origin-when-cross-origin">
    
    <!-- Content Security Policy -->
    <meta http-equiv="Content-Security-Policy" content="
        default-src 'self';
        script-src 'self' 'unsafe-inline' 'unsafe-eval' 
            https://maps.googleapis.com 
            https://cdnjs.cloudflare.com
            https://www.gstatic.com
            https://www.googletagmanager.com
            https://www.google-analytics.com
            https://connect.facebook.net;
        style-src 'self' 'unsafe-inline' https://fonts.googleapis.com;
        img-src 'self' data: https: blob: 
            https://firebasestorage.googleapis.com 
            https://storage.googleapis.com
            https://*.appspot.com
            https://www.google-analytics.com
            https://www.facebook.com;
        font-src 'self' data: https://fonts.gstatic.com;
        connect-src 'self' 
            https://api.whatsapp.com https://wa.me
            https://*.firebaseio.com 
            https://firestore.googleapis.com 
            https://identitytoolkit.googleapis.com
            https://firebasestorage.googleapis.com
            https://storage.googleapis.com
            https://*.googleapis.com
            https://www.google-analytics.com
            https://connect.facebook.net;
        frame-src 'self' https://www.google.com https://maps.google.com https://www.facebook.com;
        object-src 'none';
        base-uri 'self';
        form-action 'self';
        upgrade-insecure-requests;
    ">
    
    <!-- Permissions Policy -->
    <meta http-equiv="Permissions-Policy" content="
        geolocation=(self),
        microphone=(),
        camera=(),
        payment=(),
        usb=(),
        magnetometer=(),
        gyroscope=(),
        accelerometer=()
    ">
    
    <meta name="theme-color" content="#2c2c2c">
    <title>CEE Mimarlık</title>
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://www.ceemimarlik.com">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    
    <!-- Preload Critical Resources -->
    <link rel="preload" href="logo.png" as="image">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="dns-prefetch" href="https://www.google-analytics.com">
    <link rel="dns-prefetch" href="https://firebasestorage.googleapis.com">
    
    <!-- Schema.org Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "ArchitecturalService",
        "name": "CEE Mimarlık",
        "description": "Modern mimarlık anlayışıyla villa, apartman, ofis ve ticari yapı tasarımı",
        "url": "https://www.ceemimarlik.com",
        "logo": "https://www.ceemimarlik.com/logo.png",
        "image": "https://www.ceemimarlik.com/og-image.jpg",
        "telephone": "+90-537-327-8765",
        "address": {
            "@type": "PostalAddress",
            "streetAddress": "Hatip, Ali Osman Çelebi Blv. No:52 A Blok Kat 1 No:3",
            "addressLocality": "Çorlu",
            "addressRegion": "TekirdaÄŸ",
            "postalCode": "59860",
            "addressCountry": "TR"
        },
        "geo": {
            "@type": "GeoCoordinates",
            "latitude": "41.1653",
            "longitude": "27.7972"
        },
        "openingHoursSpecification": {
            "@type": "OpeningHoursSpecification",
            "dayOfWeek": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday"],
            "opens": "09:00",
            "closes": "18:00"
        },
        "sameAs": [
            "https://instagram.com/cee_mimarlik",
            "https://facebook.com/cee_mimarlik",
            "https://linkedin.com/company/cee_mimarlik"
        ],
        "priceRange": "$$",
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.9",
            "reviewCount": "234"
        }
    }
    </script>
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-XXXXXXXXXX', {
            'anonymize_ip': true,
            'cookie_flags': 'SameSite=None;Secure'
        });
        
        // Custom Events
        function trackEvent(category, action, label) {
            gtag('event', action, {
                'event_category': category,
                'event_label': label
            });
        }
    </script>
    
    <!-- Facebook Pixel -->
    <script>
        !function(f,b,e,v,n,t,s)
        {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
        n.callMethod.apply(n,arguments):n.queue.push(arguments)};
        if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
        n.queue=[];t=b.createElement(e);t.async=!0;
        t.src=v;s=b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t,s)}(window, document,'script',
        'https://connect.facebook.net/en_US/fbevents.js');
        fbq('init', 'YOUR_PIXEL_ID');
        fbq('track', 'PageView');
    </script>
    <noscript><img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=YOUR_PIXEL_ID&ev=PageView&noscript=1"/></noscript>
    <style>
        /* AI ASSISTANT PANEL - SAÄž TARAFTA */
        .ai-assistant-panel {
            position: fixed;
            top: 0;
            right: -450px;
            width: 450px;
            height: 100vh;
            background: white;
            box-shadow: -5px 0 30px rgba(0,0,0,0.2);
            display: flex;
            flex-direction: column;
            z-index: 10001;
            transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .ai-assistant-panel.active {
            right: 0;
        }

        body.dark-mode .ai-assistant-panel {
            background: #1a1a1a;
            box-shadow: -5px 0 30px rgba(0,0,0,0.5);
        }

        .ai-assistant-header {
            background: linear-gradient(135deg, #5a6677 0%, #7a8694 100%);
            color: white;
            padding: 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .ai-assistant-logo {
            width: 45px;
            height: 45px;
            background: rgba(255,255,255,0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }

        .ai-assistant-messages {
            flex: 1;
            overflow-y: auto;
            padding: 25px;
            background: #f8f9fa;
        }

        body.dark-mode .ai-assistant-messages {
            background: #2c2c2c;
        }

        .ai-assistant-welcome {
            text-align: center;
            padding: 20px 0;
        }

        .ai-assistant-welcome h3 {
            margin: 15px 0 10px;
            font-size: 22px;
            color: var(--primary);
        }

        body.dark-mode .ai-assistant-welcome h3 {
            color: var(--accent);
        }

        .ai-assistant-welcome p {
            color: #666;
            line-height: 1.6;
            margin-bottom: 25px;
        }

        body.dark-mode .ai-assistant-welcome p {
            color: #aaa;
        }

        .quick-topics {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin: 25px 0;
        }

        .quick-topic {
            background: white;
            border: 1px solid #e0e0e0;
            padding: 12px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 13px;
            text-align: center;
        }

        body.dark-mode .quick-topic {
            background: #333;
            border-color: #444;
            color: white;
        }

        .quick-topic:hover {
            background: var(--accent);
            color: white;
            border-color: var(--accent);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(212, 175, 55, 0.3);
        }

        .contact-info {
            background: #fff9e6;
            border: 1px solid #ffe066;
            padding: 15px;
            border-radius: 8px;
            font-size: 13px;
            margin-top: 20px;
            text-align: left;
        }

        body.dark-mode .contact-info {
            background: #3a3a1a;
            border-color: #5a5a3a;
        }

        .contact-info strong {
            color: var(--accent);
        }

        .ai-assistant-input {
            padding: 20px;
            background: white;
            border-top: 1px solid #e0e0e0;
            display: flex;
            gap: 10px;
        }

        body.dark-mode .ai-assistant-input {
            background: #1a1a1a;
            border-top-color: #333;
        }

        .ai-assistant-input input {
            flex: 1;
            padding: 14px 18px;
            border: 2px solid #e0e0e0;
            border-radius: 25px;
            font-size: 14px;
            outline: none;
            transition: border-color 0.3s;
        }

        body.dark-mode .ai-assistant-input input {
            background: #2c2c2c;
            border-color: #444;
            color: white;
        }

        .ai-assistant-input input:focus {
            border-color: var(--accent);
        }

        .ai-assistant-input button {
            background: linear-gradient(135deg, #5a6677 0%, #7a8694 100%);
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .ai-assistant-input button:hover {
            transform: scale(1.1);
        }

        /* Mesaj stilleri */
        .ai-msg, .user-msg {
            margin-bottom: 20px;
            animation: slideIn 0.3s ease;
        }

        .ai-msg {
            display: flex;
            gap: 12px;
        }

        .user-msg {
            display: flex;
            gap: 12px;
            flex-direction: row-reverse;
        }

        .msg-avatar {
            width: 38px;
            height: 38px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            flex-shrink: 0;
        }

        .ai-msg .msg-avatar {
            background: linear-gradient(135deg, #5a6677 0%, #7a8694 100%);
        }

        .user-msg .msg-avatar {
            background: #2c2c2c;
            color: white;
            font-size: 14px;
        }

        .msg-content {
            background: white;
            padding: 14px 18px;
            border-radius: 16px;
            max-width: 75%;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            line-height: 1.6;
            font-size: 14px;
        }

        body.dark-mode .msg-content {
            background: #333;
            color: white;
        }

        .user-msg .msg-content {
            background: var(--accent);
            color: white;
        }

        .msg-content strong {
            display: block;
            margin-bottom: 8px;
            color: var(--accent);
            font-size: 15px;
        }

        .user-msg .msg-content strong {
            color: white;
        }

        body.dark-mode .msg-content strong {
            color: #7a8694;
        }

        .typing-indicator-wrapper {
            display: flex;
            gap: 12px;
            margin-bottom: 20px;
        }

        .typing-indicator {
            display: flex;
            gap: 5px;
            padding: 14px 18px;
            background: white;
            border-radius: 16px;
        }

        body.dark-mode .typing-indicator {
            background: #333;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            background: var(--accent);
            border-radius: 50%;
            animation: typing 1.4s infinite;
        }

        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-10px); }
        }

        @media (max-width: 768px) {
            .ai-assistant-panel {
                width: 100%;
                right: -100%;
            }
            
            .msg-content {
                max-width: 85%;
                font-size: 13px;
                padding: 12px 16px;
            }
            
            .quick-topics {
                grid-template-columns: 1fr;
            }
            
            .ai-assistant-input {
                padding: 15px;
            }
            
            .ai-assistant-input input {
                font-size: 13px;
                padding: 12px 16px;
            }
        
        /* HERO MOBILE */
        @media (max-width: 768px) {
            .hero {
                height: 60vh;
                margin-top: 70px;
            }

            .hero-content {
                bottom: 30px;
                left: 30px;
                right: 30px;
            }

            .hero-title {
                font-size: 32px;
                letter-spacing: 1px;
            }

            .hero-category {
                font-size: 11px;
                letter-spacing: 2px;
            }

            .hero-meta {
                font-size: 13px;
            }

            .hero-nav {
                width: 40px;
                height: 40px;
                font-size: 16px;
            }

            .hero-nav.prev { left: 15px; }
            .hero-nav.next { right: 15px; }

            .hero-indicators {
                bottom: 20px;
                right: 30px;
            }

            .hero-indicator {
                width: 20px;
            }

            .hero-indicator.active {
                width: 35px;
            }
        }

        }

        /* =============================================
           INTERNET EXPLORER FALLBACK
           IE CSS değişkenlerini desteklemediği için
           sabit değerler kullanıyoruz
           ============================================= */
        
        /* IE için sabit renkler */
        .section-title .accent { color: #5a6677; }
        .hero-brand { color: #ffffff; }
        .hero-brand .cee-text { color: #5a6677 !important; }
        .hero-brand .mimarlik-text { color: #ffffff !important; }
        .hero-cta { background: #5a6677; color: #ffffff !important; }
        .logo-text { color: #5a6677; }
        .filter-btn.active { background: linear-gradient(135deg, #5a6677, #7a8694); border-color: #5a6677; color: white; }
        .filter-btn:hover { border-color: #5a6677; color: #5a6677; }
        .filter-btn.active:hover { color: white !important; }
        .team-cta-btn { background: #5a6677; }
        .directions-btn { background: linear-gradient(135deg, #5a6677, #7a8694); }
        .ai-assistant-header { background: linear-gradient(135deg, #5a6677, #7a8694); }
        .ai-panel-header { background: linear-gradient(135deg, #5a6677, #7a8694); }
        .section-decoration .dot { background: #5a6677; }
        nav a:hover, nav a.active { color: #5a6677; }
        nav a::after { background: #5a6677; }
        .footer-social-link:hover { background: #5a6677; border-color: #5a6677; }
        .footer-social-bottom a:hover { background: #5a6677; }
        ::selection { background: #5a6677; }
        ::-moz-selection { background: #5a6677; }
        :focus-visible { outline-color: #5a6677; }
        
        /* =============================================
           CROSS-BROWSER & MOBILE UYUMLULUK
           Tüm cihaz ve tarayıcılarda tutarlı görünüm
           ============================================= */
        
        /* CSS Reset & Normalize */
        *, *::before, *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
        }

        /* HTML & Body - Tam ekran ve scroll düzeltmeleri */
        html {
            -webkit-text-size-adjust: 100%;
            -ms-text-size-adjust: 100%;
            -moz-text-size-adjust: 100%;
            text-size-adjust: 100%;
            scroll-behavior: smooth;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            text-rendering: optimizeLegibility;
        }

        /* iOS Safari 100vh Fix */
        html, body {
            height: 100%;
            min-height: 100%;
            min-height: -webkit-fill-available;
        }

        @supports (height: 100dvh) {
            html, body {
                min-height: 100dvh;
            }
        }

        /* iPhone Notch / Safe Area DesteÄŸi */
        body {
            padding-top: env(safe-area-inset-top);
            padding-bottom: env(safe-area-inset-bottom);
            padding-left: env(safe-area-inset-left);
            padding-right: env(safe-area-inset-right);
        }

        /* Touch Cihazlar için Optimizasyon */
        * {
            -webkit-tap-highlight-color: transparent;
            -webkit-touch-callout: none;
            touch-action: manipulation;
        }

        /* iOS Smooth Scroll */
        body, .scroll-container, .ai-assistant-messages, .modal-content {
            -webkit-overflow-scrolling: touch;
            overflow-scrolling: touch;
        }

        /* Form Elemanları - Tüm Tarayıcılarda Tutarlı */
        input, button, select, textarea {
            font-family: inherit;
            font-size: inherit;
            line-height: inherit;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            border-radius: 0;
        }

        /* iOS Input Zoom Önleme (16px minimum) */
        @media screen and (max-width: 768px) {
            input[type="text"],
            input[type="email"],
            input[type="tel"],
            input[type="password"],
            input[type="number"],
            input[type="search"],
            select,
            textarea {
                font-size: 16px !important;
            }
        }

        /* Buton Stilleri - Cross Browser */
        button {
            background: none;
            border: none;
            cursor: pointer;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        /* Görseller - Responsive */
        img, video, iframe {
            max-width: 100%;
            height: auto;
            display: block;
            -webkit-user-drag: none;
            user-drag: none;
        }

        /* Link Stilleri */
        a {
            color: inherit;
            text-decoration: none;
            -webkit-tap-highlight-color: transparent;
        }

        /* Flexbox Cross-Browser */
        .flex, [class*="flex"] {
            display: -webkit-box;
            display: -webkit-flex;
            display: -ms-flexbox;
            display: flex;
        }

        /* Grid Cross-Browser */
        .grid, [class*="grid"] {
            display: -ms-grid;
            display: grid;
        }

        /* Transform Cross-Browser Helper */
        .transform-gpu {
            -webkit-transform: translateZ(0);
            -moz-transform: translateZ(0);
            -ms-transform: translateZ(0);
            transform: translateZ(0);
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            -webkit-perspective: 1000px;
            perspective: 1000px;
        }

        /* Animasyon Performans */
        .animate, [class*="animate"], .transition {
            -webkit-transform: translateZ(0);
            transform: translateZ(0);
            will-change: transform, opacity;
        }

        /* Firefox Scrollbar Düzeltmesi */
        * {
            scrollbar-width: thin;
            scrollbar-color: #5a6677 transparent;
        }

        /* Webkit Scrollbar (Chrome, Safari, Edge) */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background: #5a6677;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--primary, #2c2c2c);
        }

        /* Selection Rengi */
        ::selection {
            background: #5a6677;
            color: white;
        }

        ::-moz-selection {
            background: #5a6677;
            color: white;
        }

        /* Placeholder Stilleri - Cross Browser */
        ::placeholder {
            color: #999;
            opacity: 1;
        }

        ::-webkit-input-placeholder {
            color: #999;
        }

        ::-moz-placeholder {
            color: #999;
            opacity: 1;
        }

        :-ms-input-placeholder {
            color: #999;
        }

        /* Focus Outline - Accessibility */
        :focus {
            outline: none;
        }

        :focus-visible {
            outline: 2px solid #5a6677;
            outline-offset: 2px;
        }

        /* Print Stilleri */
        @media print {
            *, *::before, *::after {
                background: white !important;
                color: black !important;
                box-shadow: none !important;
                text-shadow: none !important;
            }
            
            a, a:visited {
                text-decoration: underline;
            }
            
            img {
                max-width: 100% !important;
            }
            
            @page {
                margin: 2cm;
            }
        }

        /* Reduced Motion - Accessibility */
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
                scroll-behavior: auto !important;
            }
        }

        /* Dark Mode Sistem DesteÄŸi */
        @media (prefers-color-scheme: dark) {
            :root:not([data-theme]) {
                color-scheme: dark;
            }
        }

        /* iOS 100vh Fix - Sabit Paneller İçin */
        :root {
            --vh: 1vh;
            --full-height: 100vh;
        }

        @supports (height: 100dvh) {
            :root {
                --full-height: 100dvh;
            }
        }

        @supports (-webkit-touch-callout: none) {
            :root {
                --full-height: -webkit-fill-available;
            }
        }

        /* Fixed pozisyonlu elementler için height düzeltmesi */
        .ai-assistant-panel,
        .ai-chat-window,
        .mobile-menu,
        [class*="modal"],
        [class*="panel"][style*="fixed"],
        [style*="position: fixed"][style*="height: 100vh"],
        [style*="position:fixed"][style*="height:100vh"] {
            height: var(--full-height, 100vh);
            max-height: var(--full-height, 100vh);
        }

        /* High Contrast Mode */
        @media (prefers-contrast: high) {
            :root {
                --border: #000;
            }
            
            button, a, input, select {
                border: 2px solid currentColor !important;
            }
        }

        /* Landscape Orientation Fix */
        @media screen and (orientation: landscape) and (max-height: 500px) {
            .hero {
                min-height: 100vh;
                height: auto;
            }
        }

        /* =============================================
           ORIJINAL CSS DEVAM EDIYOR
           ============================================= */

        :root {
            --primary: #2c2c2c;
            --secondary: #666;
            --accent: #1a1a1a;
            --bg: #fafafa;
            --white: #ffffff;
            --border: #e0e0e0;
            --shadow: rgba(0, 0, 0, 0.05);
            --whatsapp: #25D366;
            --icon-bg: #5a6677;
            --icon-bg-light: #7a8694;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            background: var(--bg);
            color: var(--primary);
            line-height: 1.8;
            overflow-x: hidden;
            transition: all 0.3s ease;
        }

        /* THEME COLORS */
        body[data-theme="blue"] {
            --primary: #1e3a5f;
            --secondary: #5c7a99;
            --accent: #2563eb;
            --border: #d1e3f8;
        }

        body[data-theme="brown"] {
            --primary: #3e2723;
            --secondary: #8d6e63;
            --accent: #5d4037;
            --bg: #f5f1ed;
            --border: #d7ccc8;
        }

        body[data-theme="green"] {
            --primary: #1b4332;
            --secondary: #52796f;
            --accent: #2d6a4f;
            --bg: #f1f8f4;
            --border: #b7e4c7;
        }

        body[data-theme="purple"] {
            --primary: #4a154b;
            --secondary: #8b7ab8;
            --accent: #6b46c1;
            --bg: #f5f3ff;
            --border: #ddd6fe;
        }

        body[data-theme="warm"] {
            --primary: #7c2d12;
            --secondary: #ea580c;
            --accent: #c2410c;
            --bg: #fff7ed;
            --border: #fed7aa;
        }

        body[data-theme="cool"] {
            --primary: #164e63;
            --secondary: #0891b2;
            --accent: #0e7490;
            --bg: #ecfeff;
            --border: #a5f3fc;
        }

        body[data-theme="elegant"] {
            --primary: #1a1a1a;
            --secondary: #8b7355;
            --accent: #5a6677;
            --bg: #fafaf8;
            --border: #e8dcc8;
        }

        /* MICRO-ANIMATIONS & SMOOTH TRANSITIONS */
        button, .btn, .btn-primary, .btn-secondary, a, input, textarea {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Ripple Effect */
        .ripple {
            position: relative;
            overflow: hidden;
        }

        .ripple::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.4);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .ripple:active::after {
            width: 300px;
            height: 300px;
        }

        /* Button Hover Lift */
        button:hover, .btn:hover, .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }

        button:active, .btn:active {
            transform: scale(0.98);
        }

        /* Card Animations */
        .project-item, .team-member {
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .project-item:hover, .team-member:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }

        /* Smooth Scroll */
        html {
            scroll-behavior: smooth;
        }

        /* Page Load Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        section {
            animation: fadeInUp 0.8s ease-out;
        }

        /* DWG TOOLS MODAL */
        .dwg-tools-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(5px);
            z-index: 10001;
            overflow-y: auto;
            padding: 20px;
        }

        .dwg-tools-modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s;
        }

        .dwg-tools-container {
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            max-width: 800px;
            width: 100%;
            padding: 40px;
            position: relative;
            animation: scaleIn 0.3s;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        body.dark-mode .dwg-tools-container {
            background: rgba(44, 44, 44, 0.98);
        }

        .modal-close-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            font-size: 32px;
            color: var(--secondary);
            cursor: pointer;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.2s;
        }

        .modal-close-btn:hover {
            background: rgba(0,0,0,0.1);
            transform: rotate(90deg);
        }

        .dwg-tools-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .dwg-tools-header svg {
            color: var(--primary);
            margin-bottom: 15px;
        }

        .dwg-tools-header h2 {
            font-size: 28px;
            margin-bottom: 10px;
            color: var(--primary);
        }

        .dwg-tools-header p {
            color: var(--secondary);
            font-size: 15px;
        }

        .dwg-tools-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            border-bottom: 2px solid var(--border);
        }

        .dwg-tab {
            flex: 1;
            background: none;
            border: none;
            padding: 15px 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            cursor: pointer;
            color: var(--secondary);
            font-weight: 500;
            border-bottom: 3px solid transparent;
            margin-bottom: -2px;
            transition: all 0.3s;
        }

        .dwg-tab:hover {
            color: var(--primary);
            background: rgba(102, 126, 234, 0.05);
        }

        .dwg-tab.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
        }

        .dwg-tab svg {
            flex-shrink: 0;
        }

        .dwg-tab-content {
            display: none;
        }

        .dwg-tab-content.active {
            display: block;
            animation: fadeIn 0.3s;
        }

        .upload-area {
            border: 2px dashed var(--border);
            border-radius: 12px;
            padding: 40px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            margin-bottom: 20px;
        }

        .upload-area:hover {
            border-color: var(--primary);
            background: rgba(102, 126, 234, 0.05);
        }

        .upload-area svg {
            color: var(--primary);
            margin-bottom: 15px;
        }

        .upload-area h3 {
            font-size: 18px;
            margin-bottom: 8px;
            color: var(--primary);
        }

        .upload-area p {
            color: var(--secondary);
            margin-bottom: 10px;
        }

        .file-info {
            font-size: 13px;
            color: var(--secondary);
            opacity: 0.7;
        }

        .file-preview {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background: rgba(102, 126, 234, 0.1);
            border-radius: 12px;
            margin-bottom: 20px;
        }

        .file-icon {
            font-size: 32px;
        }

        .file-details {
            flex: 1;
        }

        .file-name {
            font-weight: 600;
            margin-bottom: 4px;
            color: var(--primary);
        }

        .file-size {
            font-size: 13px;
            color: var(--secondary);
        }

        .file-version {
            font-size: 13px;
            color: var(--accent);
            font-weight: 600;
            margin-top: 4px;
        }

        .remove-file-btn {
            background: rgba(239, 68, 68, 0.1);
            border: none;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            font-size: 20px;
            color: #ef4444;
            cursor: pointer;
            transition: all 0.2s;
        }

        .remove-file-btn:hover {
            background: #ef4444;
            color: white;
        }

        .format-selector, .version-selector {
            margin-bottom: 25px;
        }

        .format-selector label, .version-selector label {
            display: block;
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--primary);
        }

        .format-options, .version-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 12px;
        }

        .format-option, .version-option {
            position: relative;
        }

        .format-option input, .version-option input {
            position: absolute;
            opacity: 0;
        }

        .format-card, .version-card {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px 15px;
            border: 2px solid var(--border);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }

        .format-card:hover, .version-card:hover {
            border-color: var(--primary);
            background: rgba(102, 126, 234, 0.05);
        }

        .format-option input:checked + .format-card,
        .version-option input:checked + .version-card {
            border-color: var(--primary);
            background: rgba(102, 126, 234, 0.1);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.2);
        }

        .format-card svg, .version-card svg {
            color: var(--primary);
            margin-bottom: 8px;
        }

        .format-card strong, .version-card strong {
            display: block;
            margin-bottom: 4px;
            color: var(--primary);
        }

        .format-desc, .version-code {
            font-size: 12px;
            color: var(--secondary);
        }

        .quality-settings {
            margin-bottom: 25px;
        }

        .quality-settings label {
            display: block;
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--primary);
        }

        .quality-slider-container {
            position: relative;
        }

        .quality-slider {
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: var(--border);
            outline: none;
            -webkit-appearance: none;
        }

        .quality-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--primary);
            cursor: pointer;
        }

        .quality-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            font-size: 12px;
            color: var(--secondary);
        }

        .current-quality {
            text-align: center;
            margin-top: 10px;
            font-weight: 600;
            color: var(--primary);
        }

        .version-note {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 15px;
            padding: 12px;
            background: rgba(59, 130, 246, 0.1);
            border-radius: 8px;
            font-size: 13px;
            color: var(--secondary);
        }

        .convert-btn, .download-btn {
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: all 0.3s;
        }

        .convert-btn:hover:not(:disabled), .download-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
        }

        .convert-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .conversion-progress {
            margin-top: 20px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: var(--border);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            transition: width 0.3s;
            width: 0%;
        }

        .progress-text {
            text-align: center;
            font-size: 14px;
            color: var(--secondary);
        }

        .conversion-result {
            margin-top: 20px;
        }

        .result-success {
            text-align: center;
            padding: 30px;
            background: rgba(16, 185, 129, 0.1);
            border-radius: 12px;
        }

        .result-success svg {
            margin-bottom: 15px;
        }

        .result-success h3 {
            color: #10b981;
            margin-bottom: 10px;
        }

        .result-success p {
            color: var(--secondary);
            margin-bottom: 20px;
        }

        .dwg-tools-link {
            color: var(--primary) !important;
            font-weight: 500;
            padding: 8px 16px;
            border-radius: 8px;
            transition: all 0.3s;
        }

        .dwg-tools-link:hover {
            background: rgba(102, 126, 234, 0.1);
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .dwg-tools-container {
                padding: 25px;
                margin: 10px;
            }

            .format-options, .version-options {
                grid-template-columns: 1fr;
            }

            .dwg-tools-tabs {
                flex-direction: column;
            }

            .dwg-tab {
                border-bottom: none;
                border-left: 3px solid transparent;
                justify-content: flex-start;
                padding: 12px 15px;
            }

            .dwg-tab.active {
                border-bottom: none;
                border-left-color: var(--primary);
                background: rgba(102, 126, 234, 0.1);
            }
        }

        /* TOAST NOTIFICATIONS */
        .toast-container {
            position: fixed;
            top: 100px;
            right: 20px;
            z-index: 10000;
            display: flex;
            flex-direction: column;
            gap: 10px;
            pointer-events: none;
        }

        .toast {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            padding: 16px 20px;
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.15);
            display: flex;
            align-items: center;
            gap: 12px;
            min-width: 300px;
            max-width: 400px;
            pointer-events: auto;
            animation: slideInRight 0.3s ease-out;
            border-left: 4px solid;
        }

        body.dark-mode .toast {
            background: rgba(44, 44, 44, 0.95);
        }

        @keyframes slideInRight {
            from {
                transform: translateX(400px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes slideOutRight {
            from {
                transform: translateX(0);
                opacity: 1;
            }
            to {
                transform: translateX(400px);
                opacity: 0;
            }
        }

        .toast.removing {
            animation: slideOutRight 0.3s ease-out;
        }

        .toast-success {
            border-left-color: #10b981;
        }

        .toast-error {
            border-left-color: #ef4444;
        }

        .toast-info {
            border-left-color: #3b82f6;
        }

        .toast-warning {
            border-left-color: #f59e0b;
        }

        .toast-icon {
            width: 24px;
            height: 24px;
            flex-shrink: 0;
        }

        .toast-content {
            flex: 1;
        }

        .toast-title {
            font-weight: 600;
            font-size: 14px;
            margin-bottom: 2px;
            color: var(--primary);
        }

        .toast-message {
            font-size: 13px;
            color: var(--secondary);
        }

        .toast-close {
            background: none;
            border: none;
            font-size: 20px;
            color: var(--secondary);
            cursor: pointer;
            padding: 0;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 4px;
            transition: all 0.2s;
        }

        .toast-close:hover {
            background: rgba(0,0,0,0.1);
        }

        .toast-progress {
            position: absolute;
            bottom: 0;
            left: 0;
            height: 3px;
            background: currentColor;
            animation: progress 3s linear;
        }

        @keyframes progress {
            from { width: 100%; }
            to { width: 0%; }
        }

        /* SKELETON LOADING */
        .skeleton {
            background: linear-gradient(
                90deg,
                #f0f0f0 25%,
                #e0e0e0 50%,
                #f0f0f0 75%
            );
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
            border-radius: 8px;
        }

        body.dark-mode .skeleton {
            background: linear-gradient(
                90deg,
                #2c2c2c 25%,
                #3c3c3c 50%,
                #2c2c2c 75%
            );
            background-size: 200% 100%;
        }

        @keyframes shimmer {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }

        .skeleton-text {
            height: 16px;
            margin-bottom: 10px;
        }

        .skeleton-title {
            height: 24px;
            width: 60%;
            margin-bottom: 15px;
        }

        .skeleton-image {
            height: 200px;
            width: 100%;
        }

        .skeleton-card {
            padding: 20px;
            border-radius: 12px;
        }

        /* Hide content while loading */
        .loading .project-item {
            opacity: 0;
        }

        .loaded .project-item {
            animation: fadeInUp 0.6s ease-out forwards;
        }

        /* ANIMATED STATS */
        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 40px;
            max-width: 1000px;
            margin: 60px auto;
            padding: 40px;
            background: rgba(255, 255, 255, 0.5);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.18);
        }

        body.dark-mode .stats-container {
            background: rgba(44, 44, 44, 0.5);
        }

        .stat-item {
            text-align: center;
            padding: 20px;
            position: relative;
        }

        .stat-item::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 3px;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            border-radius: 2px;
        }

        .stat-number {
            font-size: 56px;
            font-weight: bold;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1;
            margin-bottom: 10px;
            display: inline-block;
        }

        .stat-percent {
            font-size: 40px;
            font-weight: bold;
            color: var(--primary);
            display: inline-block;
            margin-left: -10px;
        }

        .stat-label {
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: var(--secondary);
            margin-top: 15px;
        }

        /* Input Focus */
        input:focus, textarea:focus {
            transform: scale(1.01);
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        body.dark-mode {
            --primary: #e0e0e0;
            --secondary: #b0b0b0;
            --accent: #ffffff;
            --bg: #1a1a1a;
            --white: #2c2c2c;
            --border: #333;
            --shadow: rgba(255, 255, 255, 0.05);
        }

        /* HEADER & NAV */
        header {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(255, 255, 255, 0.97);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.03);
            z-index: 1000;
            padding: 10px 0;
            transition: all 0.4s ease;
        }

        header.scrolled {
            padding: 6px 0;
            background: rgba(255, 255, 255, 0.98);
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.06);
        }

        body.dark-mode header {
            background: rgba(20, 20, 20, 0.97);
            border-bottom: 1px solid rgba(255, 255, 255, 0.08);
        }

        body.dark-mode header.scrolled {
            background: rgba(20, 20, 20, 0.98);
        }

        .header-content {
            max-width: 100%;
            margin: 0;
            padding: 0 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo-container {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            gap: 0;
            transition: all 0.4s ease;
            margin-left: 0;
            padding: 8px 15px;
            border-radius: 8px;
            background: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(250,250,250,0.95) 100%);
            border: 1px solid rgba(212, 175, 55, 0.2);
            box-shadow: 0 2px 15px rgba(0,0,0,0.04), 0 0 0 1px rgba(212, 175, 55, 0.1);
        }

        body.dark-mode .logo-container {
            background: linear-gradient(135deg, rgba(30,30,30,0.95) 0%, rgba(40,40,40,0.9) 100%);
            border: 1px solid rgba(212, 175, 55, 0.3);
            box-shadow: 0 2px 15px rgba(0,0,0,0.2), 0 0 0 1px rgba(212, 175, 55, 0.15);
        }

        .logo-top {
            display: flex;
            align-items: center;
            gap: 0;
        }

        .site-logo {
            height: 100px;
            width: auto;
            transition: all 0.4s ease;
            object-fit: contain;
        }

        header.scrolled .site-logo {
            height: 60px;
        }

        header.scrolled .logo-container {
            padding: 5px 12px;
            background: transparent;
            border-color: transparent;
            box-shadow: none;
        }

        body.dark-mode header.scrolled .logo-container {
            background: transparent;
            border-color: transparent;
            box-shadow: none;
        }

        .logo-text {
            font-size: 26px;
            font-weight: 300;
            letter-spacing: 8px;
            color: #5a6677;
            text-transform: uppercase;
            transition: all 0.4s ease;
        }

        header.scrolled .logo-text {
            font-size: 22px;
            letter-spacing: 6px;
        }

        .logo-subtitle {
            font-size: 9px;
            font-weight: 500;
            letter-spacing: 2px;
            color: #888;
            text-transform: uppercase;
            opacity: 1;
            white-space: nowrap;
            margin-top: 4px;
            padding-left: 2px;
            border-top: 1px solid rgba(212, 175, 55, 0.3);
            padding-top: 5px;
            transition: all 0.4s ease;
        }

        header.scrolled .logo-subtitle {
            opacity: 0;
            font-size: 0;
            margin-top: 0;
            padding-top: 0;
            border-top: none;
            height: 0;
            overflow: hidden;
        }

        body.dark-mode .logo-subtitle {
            color: #aaa;
            border-top-color: rgba(212, 175, 55, 0.4);
        }

        /* Mobile Menu Toggle */
        .menu-toggle {
            display: none;
            background: none;
            border: none;
            font-size: 24px;
            color: var(--primary);
            cursor: pointer;
        }

        nav {
            display: flex;
            gap: 40px;
            align-items: center;
        }

        nav.mobile-open {
            display: flex;
        }

        nav a {
            color: var(--secondary);
            text-decoration: none;
            font-size: 13px;
            letter-spacing: 2px;
            text-transform: uppercase;
            transition: color 0.3s;
            position: relative;
        }

        nav a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: #5a6677;
            transition: width 0.3s;
        }

        nav a:hover::after,
        nav a.active::after {
            width: 100%;
            background: #5a6677;
        }

        nav a:hover,
        nav a.active {
            color: #5a6677;
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .social-icons {
            display: flex;
            gap: 12px;
            align-items: center;
            padding-right: 15px;
            border-right: 1px solid var(--border);
        }

        .social-link {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            color: var(--primary);
            transition: all 0.3s ease;
            border-radius: 50%;
        }

        .social-link:hover {
            color: var(--accent);
            background: var(--bg);
            transform: translateY(-2px);
        }

        body.dark-mode .social-link:hover {
            background: rgba(255,255,255,0.1);
        }

        .btn-minimal {
            background: none;
            border: 1px solid var(--border);
            color: var(--primary);
            padding: 8px 16px;
            cursor: pointer;
            font-size: 13px;
            letter-spacing: 1px;
            transition: all 0.3s;
        }

        .btn-minimal:hover {
            background: var(--accent);
            color: var(--white);
            border-color: var(--accent);
        }

        /* HERO SLIDER - MODERN */
        .hero {
            height: 100vh;
            min-height: 600px;
            position: relative;
            margin: 0;
            padding: 0;
            overflow: hidden;
            width: 100vw;
            max-width: 100vw;
            margin-left: calc(-50vw + 50%);
            left: 0;
            right: 0;
        }
        
        .hero-slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .hero-slide img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: center;
        }
        
        /* Lares Tarzı Hero İçerik */
        .hero-content-lares {
            position: absolute;
            top: 50%;
            right: 8%;
            transform: translateY(-50%);
            z-index: 10;
            max-width: 550px;
            text-align: left;
        }
        
        /* Hero Fade-In Animasyonu */
        @-webkit-keyframes heroFadeIn {
            from { opacity: 0; -webkit-transform: translateY(30px); transform: translateY(30px); }
            to { opacity: 1; -webkit-transform: translateY(0); transform: translateY(0); }
        }
        @keyframes heroFadeIn {
            from { opacity: 0; -webkit-transform: translateY(30px); transform: translateY(30px); }
            to { opacity: 1; -webkit-transform: translateY(0); transform: translateY(0); }
        }
        
        .hero-brand {
            font-size: 52px;
            font-weight: 700;
            letter-spacing: 8px;
            color: #ffffff;
            margin: 0 0 30px 0;
            text-transform: uppercase;
            line-height: 1.1;
            text-shadow: 0 4px 30px rgba(0,0,0,0.6), 0 2px 10px rgba(0,0,0,0.4);
            -webkit-animation: heroFadeIn 1s ease-out;
            animation: heroFadeIn 1s ease-out;
        }
        
        .hero-brand .cee-text {
            color: #5a6677 !important;
            display: block;
            font-weight: 800;
            text-shadow: 0 4px 30px rgba(0,0,0,0.7), 0 2px 10px rgba(0,0,0,0.5), 0 0 40px rgba(90,102,119,0.3);
        }
        
        .hero-brand .mimarlik-text {
            color: #ffffff !important;
            display: block;
            font-weight: 600;
            letter-spacing: 12px;
            text-shadow: 0 4px 30px rgba(0,0,0,0.6), 0 2px 10px rgba(0,0,0,0.4);
        }
        
        .hero-description {
            font-size: 15px;
            line-height: 1.9;
            color: #ffffff; /* IE fallback */
            color: rgba(255,255,255,0.9);
            font-weight: 300;
            margin-bottom: 35px;
            text-shadow: 0 2px 15px rgba(0,0,0,0.5);
            -webkit-animation: heroFadeIn 1s ease-out 0.2s both;
            animation: heroFadeIn 1s ease-out 0.2s both;
        }
        
        .hero-cta {
            display: inline-block;
            padding: 16px 45px;
            background: #5a6677; /* IE fallback */
            background: rgba(90,102,119,0.9);
            color: #ffffff !important;
            text-decoration: none;
            font-size: 13px;
            font-weight: 600;
            letter-spacing: 3px;
            text-transform: uppercase;
            -webkit-transition: all 0.3s ease;
            transition: all 0.3s ease;
            border-radius: 50px;
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
            -webkit-animation: heroFadeIn 1s ease-out 0.4s both;
            animation: heroFadeIn 1s ease-out 0.4s both;
        }
        
        .hero-cta:hover {
            background: #5a6677; /* IE fallback */
            background: rgba(90,102,119,1);
            -webkit-transform: translateY(-3px);
            transform: translateY(-3px);
            box-shadow: 0 8px 30px rgba(0,0,0,0.4);
        }
        
        @media (max-width: 992px) {
            .hero-content-lares {
                right: 5%;
                left: 5%;
                max-width: none;
                text-align: center;
            }
            .hero-logo-badge {
                display: block !important;
            }
            .hero-logo-badge > div {
                flex-direction: column !important;
                gap: 15px !important;
            }
            .hero-brand {
                font-size: 28px !important;
                letter-spacing: 8px !important;
            }
            .hero-brand .mimarlik-text {
                letter-spacing: 8px;
            }
        }
        
        @media (max-width: 600px) {
            .hero-logo-badge {
                padding: 15px 20px !important;
            }
            .hero-logo-badge img {
                height: 60px !important;
            }
            .hero-brand {
                font-size: 22px !important;
                letter-spacing: 6px !important;
            }
            .hero-brand .mimarlik-text {
                letter-spacing: 6px;
            }
            .hero-description {
                font-size: 14px;
            }
        }

        .hero-slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 1.2s ease-in-out;
        }

        .hero-slide.active {
            opacity: 1;
        }

        .hero-slide img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: center;
            filter: none;
            transition: none;
            image-rendering: auto;
            image-rendering: high-quality;
            -webkit-image-rendering: high-quality;
            backface-visibility: hidden;
            -webkit-backface-visibility: hidden;
            will-change: auto;
        }

        .hero-slide.active img {
            transform: none;
        }

        body.dark-mode .hero-slide img {
            filter: brightness(0.85);
        }

        /* Minimal Overlay - Yazı okunabilirliği için */
        .hero-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                to right,
                rgba(0,0,0,0.3) 0%,
                rgba(0,0,0,0.5) 50%,
                rgba(0,0,0,0.7) 100%
            );
            pointer-events: none;
        }

        body.dark-mode .hero-overlay {
            background: linear-gradient(
                to bottom,
                rgba(0,0,0,0.2) 0%,
                rgba(0,0,0,0.3) 40%,
                rgba(0,0,0,0.5) 100%
            );
        }

        /* Project Info - Ortada */
        .hero-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 2;
            text-align: center;
            width: 90%;
            max-width: 800px;
            opacity: 0;
            transition: all 0.8s ease 0.3s;
        }

        .hero-slide.active .hero-content {
            opacity: 1;
        }

        .hero-category {
            display: inline-block;
            font-size: 12px;
            letter-spacing: 3px;
            color: var(--accent);
            font-weight: 600;
            margin-bottom: 12px;
            text-transform: uppercase;
        }

        body.dark-mode .hero-category {
            color: var(--accent);
        }

        .hero-title {
            font-size: 56px;
            font-weight: 700;
            letter-spacing: 4px;
            margin-bottom: 20px;
            color: white;
            text-shadow: 
                0 2px 4px rgba(0,0,0,0.8),
                0 4px 8px rgba(0,0,0,0.6),
                0 8px 16px rgba(0,0,0,0.4);
            line-height: 1.2;
            text-transform: uppercase;
        }

        body.dark-mode .hero-title {
            color: #ffffff;
        }

        .hero-meta {
            font-size: 18px;
            color: rgba(255,255,255,0.95);
            letter-spacing: 2px;
            text-shadow: 
                0 1px 3px rgba(0,0,0,0.8),
                0 2px 6px rgba(0,0,0,0.5);
        }

        /* Navigation Arrows */
        .hero-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255,255,255,0.15);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.3);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 3;
            transition: all 0.3s;
            font-size: 20px;
            opacity: 0.7;
        }

        .hero-nav:hover {
            background: rgba(255,255,255,0.25);
            transform: translateY(-50%) scale(1.1);
            opacity: 1;
        }

        .hero-nav.prev { left: 30px; }
        .hero-nav.next { right: 30px; }

        /* Progress Bar - Gizli */
        .hero-progress {
            display: none;
        }

        /* Slide Indicators */
        .hero-indicators {
            position: absolute;
            bottom: 30px;
            right: 60px;
            display: flex;
            gap: 10px;
            z-index: 3;
        }

        .hero-indicator {
            width: 30px;
            height: 3px;
            background: rgba(255,255,255,0.3);
            cursor: pointer;
            transition: all 0.3s;
        }

        .hero-indicator.active {
            background: var(--accent);
            width: 50px;
        }

        .scroll-indicator {
            position: absolute;
            bottom: 25px;
            left: 50%;
            transform: translateX(-50%);
            color: var(--primary);
            font-size: 11px;
            letter-spacing: 2px;
            animation: bounce 2s infinite;
            z-index: 2;
            opacity: 0.6;
        }

        body.dark-mode .scroll-indicator {
            color: #e0e0e0;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateX(-50%) translateY(0); }
            40% { transform: translateX(-50%) translateY(-10px); }
            60% { transform: translateX(-50%) translateY(-5px); }
        }

        /* SECTIONS */
        section {
            max-width: 1600px;
            margin: 60px auto;
            padding: 0 80px;
        }

        #projeler {
            padding-top: 80px;
            padding-bottom: 80px;
            background: linear-gradient(180deg, var(--bg, #fafafa) 0%, #f0f0f0 100%);
            max-width: 100%;
            margin: 0;
        }

        #projeler .section-header,
        #projeler .filter-container,
        #projeler .projects-grid {
            max-width: 1600px;
            margin-left: auto;
            margin-right: auto;
            padding-left: 80px;
            padding-right: 80px;
        }

        #projeler .filter-container {
            padding-left: 20px;
            padding-right: 20px;
        }

        body.dark-mode #projeler {
            background: linear-gradient(180deg, var(--dm-bg, #111111) 0%, #1a1a1a 100%);
        }

        .section-header {
            text-align: center;
            margin-bottom: 60px;
            padding: 40px 20px;
            position: relative;
        }

        .section-label {
            font-size: 12px;
            font-weight: 500;
            letter-spacing: 6px;
            color: var(--secondary, #999);
            margin-bottom: 20px;
            text-transform: uppercase;
        }

        .section-title {
            font-size: 46px;
            font-weight: 300;
            letter-spacing: 6px;
            color: #2c2c2c !important;
            text-transform: uppercase;
            line-height: 1.3;
            margin: 0;
        }

        .section-title .accent,
        .section-title span.accent,
        h2.section-title .accent,
        h2.section-title span.accent {
            color: #5a6677; /* IE fallback */
            color: #5a6677 !important;
            font-weight: 400;
        }

        /* Alt çizgi dekorasyon */
        .section-decoration {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            margin-top: 25px;
        }

        .section-decoration::before,
        .section-decoration::after {
            content: '';
            width: 50px;
            height: 1px;
            background: #e0e0e0;
        }

        .section-decoration .dot {
            width: 6px;
            height: 6px;
            background: #5a6677;
            transform: rotate(45deg);
        }

        /* Dark mode */
        body.dark-mode .section-label {
            color: var(--dm-text-secondary, #94a3b8);
        }

        body.dark-mode .section-title {
            color: #f1f5f9;
        }

        body.dark-mode .section-title .accent {
            color: #5a6677 !important;
        }

        body.dark-mode .section-decoration::before,
        body.dark-mode .section-decoration::after {
            background: var(--dm-border, #333333);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .section-header {
                padding: 30px 15px;
                margin-bottom: 40px;
            }
            
            .section-title {
                font-size: 26px;
                letter-spacing: 4px;
            }
            
            .section-label {
                font-size: 10px;
                letter-spacing: 4px;
            }
        }

        /* PROJECTS GRID */
        .filter-container {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 70px;
            flex-wrap: wrap;
            padding: 20px;
            background: rgba(255, 255, 255, 0.5);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 60px;
            max-width: fit-content;
            margin-left: auto;
            margin-right: auto;
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.05);
        }

        body.dark-mode .filter-container {
            background: rgba(30, 41, 59, 0.5);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.2);
        }

        /* MODERN FİLTRE BUTONLARI */
        .filter-btn {
            background: transparent;
            border: 2px solid #e0e0e0;
            color: var(--secondary, #666);
            font-size: 12px;
            font-weight: 600;
            letter-spacing: 2px;
            cursor: pointer;
            padding: 14px 28px;
            position: relative;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            text-transform: uppercase;
            border-radius: 50px;
            overflow: hidden;
            z-index: 1;
        }

        .filter-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #5a6677, #7a8694);
            z-index: -1;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .filter-btn:hover {
            border-color: #5a6677; /* IE fallback */
            border-color: #5a6677;
            color: #5a6677; /* IE fallback */
            color: #5a6677;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(90, 102, 119, 0.2);
        }

        .filter-btn.active {
            border-color: #5a6677; /* IE fallback */
            border-color: #5a6677;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(90, 102, 119, 0.35);
        }
        
        .filter-btn.active:hover {
            color: white !important;
        }

        .filter-btn.active::before {
            opacity: 1;
        }

        /* Dark mode filter buttons */
        body.dark-mode .filter-btn {
            border-color: #3d3d5c;
            color: #a0aec0;
        }

        body.dark-mode .filter-btn:hover {
            border-color: #5a6677;
            color: #5a6677;
        }

        body.dark-mode .filter-btn.active {
            border-color: #5a6677;
            color: white;
        }
        
        body.dark-mode .filter-btn.active:hover {
            color: white !important;
        }

        /* Mobil uyumluluk */
        @media (max-width: 768px) {
            .filter-container {
                gap: 10px;
                margin-bottom: 40px;
                padding: 15px;
                border-radius: 15px;
                overflow-x: auto;
                flex-wrap: nowrap;
                justify-content: flex-start;
                max-width: 100%;
                margin-left: 20px;
                margin-right: 20px;
                -webkit-overflow-scrolling: touch;
                scrollbar-width: none;
            }
            
            .filter-container::-webkit-scrollbar {
                display: none;
            }
            
            .filter-btn {
                padding: 10px 18px;
                font-size: 10px;
                letter-spacing: 1px;
                flex-shrink: 0;
                white-space: nowrap;
            }
            
            #projeler .filter-container {
                padding-left: 15px;
                padding-right: 15px;
            }
            
            #projeler {
                padding-top: 50px;
                padding-bottom: 50px;
            }
            
            #projeler .section-header,
            #projeler .projects-grid {
                padding-left: 20px;
                padding-right: 20px;
            }
        }

        .projects-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 45px;
        }

        @media (max-width: 1400px) {
            .projects-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        .project-card {
            position: relative;
            overflow: hidden;
            background: var(--white);
            cursor: pointer;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            aspect-ratio: 3/2;
            box-shadow: 0 4px 20px var(--shadow);
        }

        .project-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 30px 60px var(--shadow);
        }

        .project-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            filter: grayscale(10%);
        }

        .project-card:hover .project-image {
            transform: scale(1.08);
            filter: grayscale(0%);
        }

        .project-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.7) 50%, transparent 100%);
            padding: 35px;
            transform: translateY(100%);
            transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .project-card:hover .project-overlay {
            transform: translateY(0);
        }
        
        .project-detail-btn:hover {
            background: white !important;
            color: #1a1a1a !important;
            border-color: white !important;
        }

        .project-title {
            color: white;
            font-size: 22px;
            font-weight: 200;
            letter-spacing: 3px;
            margin-bottom: 12px;
            text-transform: uppercase;
        }

        .project-tags {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .project-tag {
            font-size: 11px;
            letter-spacing: 2px;
            color: rgba(255,255,255,0.9);
            border: 1px solid rgba(255,255,255,0.4);
            padding: 5px 14px;
            text-transform: uppercase;
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
        }

        /* ABOUT SECTION */
        #hakkimizda {
            background: var(--white);
            padding: 100px 80px;
            margin: 120px auto;
        }

        .about-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 80px;
            margin-bottom: 100px;
        }

        .about-text h2 {
            font-size: 42px;
            font-weight: 100;
            letter-spacing: 2px;
            margin-bottom: 30px;
            color: var(--accent);
        }

        .about-text p {
            font-size: 16px;
            line-height: 1.9;
            color: var(--secondary);
            margin-bottom: 20px;
        }

        .team-section {
            margin-top: 80px;
        }

        .team-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 60px;
            max-width: 800px;
            margin: 0 auto;
        }

        .team-member {
            text-align: center;
        }

        .team-photo {
            width: 100%;
            aspect-ratio: 3/4;
            object-fit: cover;
            filter: grayscale(30%);
            margin-bottom: 25px;
            transition: filter 0.3s;
        }

        .team-photo:hover {
            filter: grayscale(0%);
        }

        .team-name {
            font-size: 20px;
            font-weight: 300;
            letter-spacing: 2px;
            margin-bottom: 8px;
            color: var(--accent);
        }

        .team-role {
            font-size: 13px;
            letter-spacing: 2px;
            color: var(--secondary);
            text-transform: uppercase;
        }

        /* UNIFIED CHAT BUTTON */
        .unified-chat-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: #5a6677;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
            transition: all 0.3s;
            z-index: 1001;
        }

        .unified-chat-btn:hover {
            transform: scale(1.1);
            filter: brightness(1.1);
        }

        .chat-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #ff4444;
            color: white;
            font-size: 11px;
            font-weight: bold;
            padding: 3px 7px;
            border-radius: 12px;
            border: 2px solid white;
            min-width: 20px;
            text-align: center;
        }

        @keyframes pulse {
            0%, 100% { 
                box-shadow: 0 8px 30px rgba(102, 126, 234, 0.4);
            }
            50% { 
                box-shadow: 0 8px 40px rgba(102, 126, 234, 0.8), 0 0 0 15px rgba(102, 126, 234, 0.1);
            }
        }

        /* CHAT MENU */
        .chat-menu {
            position: fixed;
            bottom: 100px;
            right: 20px;
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 1px solid rgba(0, 0, 0, 0.08);
            border-radius: 16px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.15), 0 0 0 1px rgba(255,255,255,0.5) inset;
            padding: 8px;
            min-width: 300px;
            opacity: 0;
            visibility: hidden;
            transform: translateY(20px) scale(0.95);
            transform-origin: bottom right;
            transition: all 0.25s ease-out;
            z-index: 10000;
        }

        body.dark-mode .chat-menu {
            background: rgba(44, 44, 44, 0.98);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
        }

        body.dark-mode .chat-menu-item:hover {
            background: rgba(255,255,255,0.1);
        }

        body.dark-mode .chat-menu-title {
            color: #fff;
        }

        body.dark-mode .chat-menu-subtitle {
            color: #aaa;
        }

        body.dark-mode .chat-menu-divider {
            background: rgba(255,255,255,0.1);
        }

        .chat-menu.active {
            opacity: 1;
            visibility: visible;
            transform: translateY(0) scale(1);
        }

        .chat-menu-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 14px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s;
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
            user-select: none;
            -webkit-user-select: none;
        }

        .chat-menu-item:active {
            background: #e8e8e8;
            transform: scale(0.98);
        }

        .chat-menu-item:hover {
            background: #f5f5f5;
        }

        .chat-menu-icon {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .ai-gradient {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .whatsapp-gradient {
            background: linear-gradient(135deg, #25D366 0%, #128C7E 100%);
        }

        .chat-menu-content {
            flex: 1;
        }

        .chat-menu-title {
            font-weight: 600;
            font-size: 15px;
            color: #2c2c2c;
            margin-bottom: 2px;
        }

        .chat-menu-subtitle {
            font-size: 12px;
            color: #666;
        }

        .chat-menu-badge {
            font-size: 11px;
            font-weight: bold;
            padding: 4px 8px;
            border-radius: 10px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .chat-menu-badge.online {
            background: #25D366;
            font-size: 16px;
            padding: 0;
            width: 10px;
            height: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: blink 2s infinite;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .chat-menu-divider {
            height: 1px;
            background: #e0e0e0;
            margin: 8px 0;
        }

        /* AI CHAT WINDOW */
        .ai-chat-window {
            position: fixed;
            bottom: 100px;
            right: 30px;
            width: 380px;
            height: 550px;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.18);
            border-radius: 16px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1), 0 0 0 1px rgba(255,255,255,0.5) inset;
            display: none;
            flex-direction: column;
            z-index: 1000;
            overflow: hidden;
        }

        /* AI ASSISTANT PANEL - SAÄž TARAFTA */
        .ai-assistant-panel {
            position: fixed;
            top: 0;
            right: -450px;
            width: 450px;
            height: 100vh;
            background: white;
            box-shadow: -5px 0 30px rgba(0,0,0,0.2);
            z-index: 10001;
            display: flex;
            flex-direction: column;
            transition: right 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        body.dark-mode .ai-assistant-panel {
            background: #2c2c2c;
            color: #e0e0e0;
        }

        .ai-assistant-panel.active {
            right: 0;
        }

        .ai-panel-header {
            background: linear-gradient(135deg, #5a6677, #7a8694);
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid rgba(0,0,0,0.1);
        }

        .ai-panel-header-content {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .ai-panel-logo {
            width: 45px;
            height: 45px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 22px;
        }

        .ai-panel-title h2 {
            font-size: 18px;
            font-weight: 600;
            color: white;
            margin: 0 0 3px 0;
        }

        .ai-panel-title p {
            font-size: 12px;
            color: rgba(255,255,255,0.9);
            margin: 0;
        }

        .ai-panel-close {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .ai-panel-close:hover {
            background: rgba(255,255,255,0.3);
            transform: rotate(90deg);
        }

        .ai-panel-messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            background: #f8f8f8;
        }

        body.dark-mode .ai-panel-messages {
            background: #1a1a1a;
        }

        .ai-panel-message {
            margin-bottom: 16px;
            animation: messageSlide 0.3s ease;
        }

        @keyframes messageSlide {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .ai-panel-message.user {
            display: flex;
            justify-content: flex-end;
        }

        .ai-panel-message.assistant {
            display: flex;
            justify-content: flex-start;
        }

        .ai-panel-bubble {
            max-width: 80%;
            padding: 12px 16px;
            border-radius: 16px;
            line-height: 1.5;
            font-size: 14px;
        }

        .ai-panel-message.user .ai-panel-bubble {
            background: linear-gradient(135deg, #5a6677, #7a8694);
            color: white;
            border-bottom-right-radius: 4px;
        }

        .ai-panel-message.assistant .ai-panel-bubble {
            background: white;
            color: #333;
            border: 1px solid #e0e0e0;
            border-bottom-left-radius: 4px;
        }

        body.dark-mode .ai-panel-message.assistant .ai-panel-bubble {
            background: #2c2c2c;
            color: #e0e0e0;
            border-color: #444;
        }

        .ai-panel-quick-questions {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
            padding: 15px;
            background: white;
            border-top: 1px solid #e0e0e0;
        }

        body.dark-mode .ai-panel-quick-questions {
            background: #2c2c2c;
            border-color: #444;
        }

        .ai-panel-quick-btn {
            padding: 10px;
            background: #f0f0f0;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: left;
        }

        .ai-panel-quick-btn:hover {
            background: linear-gradient(135deg, #5a6677, #7a8694);
            color: white;
            border-color: #5a6677;
            transform: translateY(-2px);
        }

        .ai-panel-input-area {
            padding: 15px;
            background: white;
            border-top: 1px solid #e0e0e0;
        }

        body.dark-mode .ai-panel-input-area {
            background: #2c2c2c;
            border-color: #444;
        }

        .ai-panel-input-wrapper {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .ai-panel-input {
            flex: 1;
            padding: 12px 16px;
            border: 2px solid #e0e0e0;
            border-radius: 24px;
            font-size: 14px;
            outline: none;
            transition: all 0.3s;
        }

        .ai-panel-input:focus {
            border-color: #5a6677;
        }

        body.dark-mode .ai-panel-input {
            background: #1a1a1a;
            border-color: #444;
            color: #e0e0e0;
        }

        .ai-panel-send {
            width: 44px;
            height: 44px;
            background: linear-gradient(135deg, #5a6677, #7a8694);
            border: none;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .ai-panel-send:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 12px rgba(212, 175, 55, 0.4);
        }

        .ai-panel-typing {
            display: flex;
            gap: 5px;
            padding: 12px 16px;
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 16px;
            width: fit-content;
        }

        .ai-panel-typing-dot {
            width: 8px;
            height: 8px;
            background: #5a6677;
            border-radius: 50%;
            animation: typing 1.4s infinite;
        }

        .ai-panel-typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .ai-panel-typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        body.dark-mode .ai-chat-window {
            background: rgba(44, 44, 44, 0.9);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .ai-chat-window.active {
            display: flex;
            animation: slideUp 0.3s ease-out;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .ai-chat-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .ai-avatar {
            width: 40px;
            height: 40px;
            background: rgba(255,255,255,0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .ai-chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            background: #f5f5f5;
        }

        .ai-message {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .user-message {
            flex-direction: row-reverse;
        }

        .ai-message-avatar {
            width: 36px;
            height: 36px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            flex-shrink: 0;
        }

        .user-message .ai-message-avatar {
            background: #2c2c2c;
        }

        .ai-message-content {
            background: white;
            padding: 12px 16px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            max-width: 70%;
        }

        .user-message .ai-message-content {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .ai-message-content p {
            margin: 0;
            font-size: 14px;
            line-height: 1.5;
        }

        .ai-typing {
            display: none;
            gap: 4px;
            padding: 12px 16px;
        }

        .ai-typing.active {
            display: flex;
        }

        .ai-typing span {
            width: 8px;
            height: 8px;
            background: #667eea;
            border-radius: 50%;
            animation: typing 1.4s infinite;
        }

        .ai-typing span:nth-child(2) { animation-delay: 0.2s; }
        .ai-typing span:nth-child(3) { animation-delay: 0.4s; }

        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-10px); }
        }

        .ai-quick-questions {
            display: grid;
            gap: 8px;
            margin-top: 15px;
        }

        .ai-quick-question {
            background: white;
            padding: 10px 14px;
            border-radius: 20px;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.2s;
            border: 1px solid #e0e0e0;
            text-align: center;
        }

        .ai-quick-question:hover {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .ai-chat-input {
            padding: 15px 20px;
            background: white;
            border-top: 1px solid #e0e0e0;
            display: flex;
            gap: 10px;
        }

        .ai-chat-input input {
            flex: 1;
            padding: 12px 16px;
            border: 1px solid #e0e0e0;
            border-radius: 25px;
            font-size: 14px;
            outline: none;
        }

        .ai-chat-input input:focus {
            border-color: #667eea;
        }

        .ai-chat-input button:hover {
            transform: scale(1.05);
        }

        /* WHATSAPP BUTTON - Küçük, Sağda */
        .whatsapp-btn {
            position: fixed;
            bottom: 25px;
            right: 25px;
            width: 50px;
            height: 50px;
            background: var(--whatsapp);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 3px 15px rgba(37, 211, 102, 0.4);
            z-index: 999;
            transition: all 0.3s;
        }

        .whatsapp-btn:hover {
            transform: scale(1.15);
            box-shadow: 0 6px 25px rgba(37, 211, 102, 0.6);
        }

        .whatsapp-btn svg {
            width: 26px;
            height: 26px;
            fill: white;
        }

        /* Notification Badge */
        .whatsapp-badge {
            position: absolute;
            top: -4px;
            right: -4px;
            background: #ff4444;
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            font-weight: bold;
            animation: pulse 2s infinite;
        }

        /* Notification Bubble - SaÄŸda */
        .whatsapp-notification {
            position: absolute;
            bottom: 65px;
            right: 0;
            background: white;
            padding: 12px 16px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
            min-width: 220px;
            max-width: 260px;
            opacity: 0;
            transform: translateY(10px) scale(0.9);
            animation: popIn 0.5s ease forwards, fadeOut 0.5s ease 4.5s forwards;
            pointer-events: none;
        }

        body.dark-mode .whatsapp-notification {
            background: var(--white);
            color: var(--primary);
        }

        .whatsapp-notification::after {
            content: '';
            position: absolute;
            bottom: -7px;
            right: 18px;
            width: 0;
            height: 0;
            border-left: 8px solid transparent;
            border-right: 8px solid transparent;
            border-top: 8px solid white;
        }

        body.dark-mode .whatsapp-notification::after {
            border-top-color: var(--white);
        }

        .whatsapp-notification-title {
            font-weight: 600;
            font-size: 13px;
            margin-bottom: 4px;
            color: var(--accent);
        }

        .whatsapp-notification-text {
            font-size: 11px;
            color: var(--secondary);
            line-height: 1.4;
        }

        @keyframes pulse {
            0%, 100% { 
                transform: scale(1); 
                box-shadow: 0 0 0 0 rgba(255, 68, 68, 0.7);
            }
            50% { 
                transform: scale(1.1); 
                box-shadow: 0 0 0 8px rgba(255, 68, 68, 0);
            }
        }

        @keyframes popIn {
            0% {
                opacity: 0;
                transform: translateY(10px) scale(0.9);
            }
            100% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        @keyframes fadeOut {
            to {
                opacity: 0;
                transform: translateY(-10px);
            }
        }

        /* WHATSAPP MODAL */
        .whatsapp-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 9999;
            align-items: center;
            justify-content: center;
        }

        .whatsapp-modal.show {
            display: flex;
        }

        .whatsapp-form {
            background: var(--white);
            padding: 50px;
            max-width: 500px;
            width: 90%;
            position: relative;
        }

        .whatsapp-form h3 {
            font-size: 28px;
            font-weight: 200;
            letter-spacing: 2px;
            margin-bottom: 30px;
            color: var(--accent);
            text-align: center;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            font-size: 12px;
            letter-spacing: 2px;
            color: var(--secondary);
            margin-bottom: 8px;
            text-transform: uppercase;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--border);
            background: var(--bg);
            color: var(--primary);
            font-size: 14px;
            font-family: inherit;
        }

        .form-group textarea {
            min-height: 100px;
            resize: vertical;
        }

        .form-actions {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }

        .btn-primary {
            flex: 1;
            padding: 14px;
            background: var(--whatsapp);
            color: white;
            border: none;
            cursor: pointer;
            font-size: 13px;
            letter-spacing: 2px;
            text-transform: uppercase;
            transition: all 0.3s;
        }

        .btn-primary:hover {
            background: #1fb855;
        }

        .btn-secondary {
            flex: 1;
            padding: 14px;
            background: none;
            color: var(--primary);
            border: 1px solid var(--border);
            cursor: pointer;
            font-size: 13px;
            letter-spacing: 2px;
            text-transform: uppercase;
            transition: all 0.3s;
        }

        .btn-secondary:hover {
            background: var(--accent);
            color: var(--white);
            border-color: var(--accent);
        }

        .close-modal {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            font-size: 30px;
            cursor: pointer;
            color: var(--secondary);
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: color 0.3s;
        }

        .close-modal:hover {
            color: var(--accent);
        }

        /* LIGHTBOX */
        .lightbox {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.95);
            z-index: 9999;
            align-items: center;
            justify-content: center;
        }

        .lightbox.show {
            display: flex;
        }

        .lightbox-image {
            max-width: 90%;
            max-height: 90vh;
            object-fit: contain;
        }

        .lightbox-close {
            position: absolute;
            top: 30px;
            right: 30px;
            background: none;
            border: none;
            color: white;
            font-size: 40px;
            cursor: pointer;
            width: 50px;
            height: 50px;
            transition: opacity 0.3s;
        }

        .lightbox-close:hover {
            opacity: 0.7;
        }

        /* FOOTER - Modern Dark Style */
        footer {
            background: #f8f9fa;
            padding: 25px 0;
            margin-top: 0;
            border-top: 1px solid #e5e7eb;
        }
        
        body.dark-mode footer {
            background: #1a1a2e !important;
            border-top-color: #333 !important;
        }
        
        body.dark-mode .footer-copyright {
            color: #94a3b8 !important;
        }
        
        body.dark-mode .footer-social-bottom a {
            background: #2d2d44 !important;
            color: #94a3b8 !important;
        }
        
        body.dark-mode .footer-social-bottom a:hover {
            background: #5a6677 !important;
            color: white !important;
        }

        .footer-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 80px;
        }
        
        .footer-bottom {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .footer-copyright {
            font-size: 14px;
            color: #666;
        }
        
        .footer-social-bottom {
            display: flex;
            gap: 15px;
        }
        
        .footer-social-bottom a {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #e5e7eb;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            text-decoration: none;
            transition: all 0.3s ease;
        }
        
        .footer-social-bottom a:hover {
            background: #5a6677;
            color: white;
        }
        
        @media (max-width: 992px) {
            .footer-bottom {
                flex-direction: column;
                gap: 20px;
            }
            .footer-content {
                padding: 0 30px;
            }
        }

        .footer-logo img {
            height: 55px;
            opacity: 0.6;
            margin-bottom: 25px;
        }

        .footer-text {
            font-size: 14px;
            color: var(--secondary);
            letter-spacing: 2px;
            margin-bottom: 25px;
        }

        .footer-social {
            margin: 40px 0;
        }

        .footer-social-title {
            font-size: 16px;
            font-weight: 400;
            letter-spacing: 3px;
            color: var(--primary);
            margin-bottom: 25px;
            text-transform: uppercase;
        }

        .footer-social-icons {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .footer-social-link {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px 24px;
            background: var(--bg);
            border: 1px solid var(--border);
            border-radius: 50px;
            color: var(--primary);
            transition: all 0.3s ease;
            font-size: 14px;
            font-weight: 500;
        }

        .footer-social-link:hover {
            background: #5a6677;
            color: var(--white);
            border-color: #5a6677;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(212,175,55,0.3);
        }

        body.dark-mode .footer-social-link:hover {
            background: #5a6677;
            color: var(--white);
            border-color: #5a6677;
        }

        .footer-social-link svg {
            flex-shrink: 0;
        }

        .admin-link {
            color: var(--secondary);
            text-decoration: none;
            transition: color 0.3s;
            cursor: pointer;
        }

        .admin-link:hover {
            color: var(--accent);
            text-decoration: underline;
        }

        /* INSTAGRAM FEED */
        .instagram-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .instagram-post {
            position: relative;
            aspect-ratio: 1;
            overflow: hidden;
            border-radius: 8px;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .instagram-post:hover {
            transform: scale(1.05);
        }

        .instagram-post img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .instagram-overlay {
            position: absolute;
            inset: 0;
            background: rgba(0,0,0,0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            opacity: 0;
            transition: opacity 0.3s;
            color: white;
            font-size: 14px;
        }

        .instagram-post:hover .instagram-overlay {
            opacity: 1;
        }

        .instagram-placeholder {
            grid-column: 1 / -1;
            text-align: center;
            padding: 60px 20px;
            color: var(--secondary);
            font-size: 16px;
        }

        .instagram-follow {
            display: inline-flex;
            align-items: center;
            padding: 15px 35px;
            background: linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%);
            color: white;
            border-radius: 50px;
            font-weight: 500;
            transition: all 0.3s;
            text-decoration: none;
        }

        .instagram-follow:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(188, 24, 136, 0.3);
        }

        /* VIDEO GALLERY */
        .video-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 30px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .video-item {
            position: relative;
            aspect-ratio: 16/9;
            overflow: hidden;
            border-radius: 12px;
            cursor: pointer;
            background: var(--bg);
            transition: transform 0.3s;
        }

        .video-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px var(--shadow);
        }

        .video-thumbnail {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .video-play-btn {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 70px;
            height: 70px;
            background: rgba(255,255,255,0.95);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            color: var(--accent);
            transition: all 0.3s;
        }

        .video-item:hover .video-play-btn {
            transform: translate(-50%, -50%) scale(1.1);
            background: white;
        }

        .video-title {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 20px;
            background: linear-gradient(transparent, rgba(0,0,0,0.8));
            color: white;
            font-size: 15px;
            font-weight: 500;
        }

        /* VIDEO LIGHTBOX */
        .video-lightbox {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.95);
            z-index: 10000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .video-lightbox.active {
            display: flex;
        }

        .video-lightbox-content {
            max-width: 1200px;
            width: 100%;
            aspect-ratio: 16/9;
            position: relative;
        }

        .video-lightbox iframe {
            width: 100%;
            height: 100%;
            border: none;
            border-radius: 8px;
        }

        .video-lightbox-close {
            position: absolute;
            top: -50px;
            right: 0;
            background: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            font-size: 24px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.3s;
        }

        .video-lightbox-close:hover {
            transform: rotate(90deg);
        }

        /* GOOGLE MAPS */
        #map {
            filter: grayscale(20%);
            transition: filter 0.3s;
        }

        #map:hover {
            filter: grayscale(0%);
        }

        /* MOBILE */
        @media (max-width: 768px) {
            /* UNIFIED CHAT - MOBILE */
            .unified-chat-btn {
                bottom: 20px;
                right: 20px;
                width: 60px;
                height: 60px;
                z-index: 1001;
            }
            
            .chat-menu {
                bottom: 90px;
                right: 15px;
                left: auto;
                min-width: 280px;
                width: auto;
                max-width: calc(100vw - 30px);
                z-index: 10000;
            }
            
            .chat-menu-item {
                padding: 16px;
            }
            
            .chat-menu-subtitle {
                font-size: 11px;
            }
            
            /* AI CHAT - MOBILE */
            .ai-chat-window {
                bottom: 0;
                right: 0;
                left: 0;
                width: 100%;
                height: 100%;
                border-radius: 0;
                max-height: 100vh;
            }
            
            .ai-chat-messages {
                padding: 15px;
            }
            
            .ai-message-content {
                max-width: 80%;
            }
            
            /* WHATSAPP - MOBILE */
            .header-content { padding: 0 25px; }
            
            .menu-toggle {
                display: block;
            }
            
            nav {
                display: none;
                position: fixed;
                top: 85px;
                left: 0;
                right: 0;
                background: var(--white);
                flex-direction: column;
                padding: 20px;
                gap: 20px;
                border-bottom: 1px solid var(--border);
                box-shadow: 0 4px 10px var(--shadow);
            }
            
            nav.mobile-open {
                display: flex;
            }
            
            .logo-text { font-size: 18px; letter-spacing: 3px; }
            .logo-subtitle { font-size: 6px; letter-spacing: 1.5px; white-space: nowrap; padding-top: 3px; margin-top: 3px; }
            header.scrolled .logo-subtitle { opacity: 0; font-size: 0; height: 0; padding: 0; margin: 0; border: none; }
            .site-logo { height: 45px; }
            header.scrolled .site-logo { height: 35px; }
            .header-content { padding: 0 15px; }
            .logo-container { padding: 5px 10px; }
            header.scrolled .logo-container { padding: 3px 8px; }
            .hero { height: 50vh; }
            .hero-title { font-size: 36px; letter-spacing: 5px; }
            .hero-subtitle { font-size: 13px; }
            .hero-nav { width: 35px; height: 35px; font-size: 14px; }
            .hero-nav.prev { left: 10px; }
            .hero-nav.next { right: 10px; }
            section { padding: 0 25px; margin: 60px auto; }
            .section-title { font-size: 28px; }
            .projects-grid { 
                grid-template-columns: 1fr; 
                gap: 30px; 
            }
            .about-content { grid-template-columns: 1fr; gap: 35px; }
            .team-grid { grid-template-columns: 1fr; gap: 30px; }
            .whatsapp-form { padding: 30px 25px; }
            .whatsapp-btn {
                width: 45px;
                height: 45px;
                bottom: 20px;
                right: 20px;
            }
            .whatsapp-btn svg {
                width: 24px;
                height: 24px;
            }
            .whatsapp-notification {
                max-width: 200px;
                font-size: 10px;
            }
        }

        @media (max-width: 1400px) {
            .projects-grid { grid-template-columns: repeat(2, 1fr); }
        }

        @media (min-width: 769px) and (max-width: 1024px) {
            .projects-grid { grid-template-columns: repeat(2, 1fr); gap: 35px; }
        }

        html { scroll-behavior: smooth; }
        
        /* LOADING INDICATOR */
        .loading {
            pointer-events: none;
            opacity: 0.6;
            position: relative;
        }
        
        .loading::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 40px;
            height: 40px;
            border: 3px solid var(--border);
            border-top-color: var(--accent);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            to { transform: translate(-50%, -50%) rotate(360deg); }
        }
        
        /* SCROLL TO TOP */
        /* Scroll Progress Indicator */
        .scroll-progress-wrap {
            position: fixed;
            bottom: 100px;
            right: 30px;
            width: 50px;
            height: 50px;
            cursor: pointer;
            z-index: 998;
            opacity: 0;
            visibility: hidden;
            transform: translateY(20px);
            transition: all 0.4s ease;
        }
        
        .scroll-progress-wrap.visible {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }
        
        .scroll-progress-wrap svg {
            width: 100%;
            height: 100%;
            transform: rotate(-90deg);
        }
        
        .scroll-progress-wrap .progress-circle-bg {
            fill: none;
            stroke: #bbb;
            stroke-width: 2.5;
        }
        
        .scroll-progress-wrap .progress-circle {
            fill: none;
            stroke: #333;
            stroke-width: 2.5;
            stroke-linecap: round;
            transition: stroke-dashoffset 0.1s ease;
        }
        
        .scroll-progress-wrap .progress-icon {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .scroll-progress-wrap .progress-icon svg {
            width: 18px;
            height: 18px;
            transform: rotate(0deg);
            stroke: #333;
            stroke-width: 2.5;
            fill: none;
        }
        
        .scroll-progress-wrap:hover {
            transform: translateY(-3px);
        }
        
        .scroll-progress-wrap:hover .progress-circle {
            stroke: #555;
        }
        /* ========================================
           GELİŞMİŞ MOBİL RESPONSIVE İYİLEŞTİRMELER
           ======================================== */
        
        @media (max-width: 768px) {
            nav {
                padding: 15px 20px !important;
                flex-wrap: wrap;
            }
            
            nav h1 {
                font-size: 20px !important;
            }
            
            .nav-menu {
                width: 100%;
                justify-content: center;
                gap: 10px !important;
                margin-top: 10px;
            }
            
            .hero {
                min-height: 60vh !important;
                padding: 80px 20px 40px !important;
            }
            
            .hero h1 {
                font-size: 32px !important;
                line-height: 1.2 !important;
            }
            
            .hero p {
                font-size: 16px !important;
            }
            
            .projects-grid {
                grid-template-columns: 1fr !important;
                gap: 20px !important;
                padding: 20px !important;
            }
            
            .project-card {
                height: auto !important;
            }
            
            .project-card img {
                height: 250px !important;
            }
            
            .team-grid {
                grid-template-columns: 1fr !important;
                gap: 20px !important;
            }
            
            footer {
                padding: 40px 20px !important;
            }
            
            .footer-content {
                flex-direction: column !important;
                text-align: center !important;
                gap: 30px !important;
            }
            
            .btn, .cta-btn, .convert-btn {
                width: 100% !important;
                padding: 14px 20px !important;
                font-size: 15px !important;
            }
            
            .dwg-tools-container {
                width: 95% !important;
                max-height: 90vh !important;
                padding: 20px !important;
                overflow-y: auto;
            }
            
            .dwg-tools-tabs {
                flex-direction: column !important;
                gap: 8px;
            }
            
            .dwg-tab {
                width: 100% !important;
                justify-content: center !important;
                padding: 12px !important;
            }
            
            .format-options, .version-options {
                grid-template-columns: 1fr !important;
            }
            
            .ai-panel-header {
                padding: 15px !important;
            }
            
            .ai-panel-title h2 {
                font-size: 18px !important;
            }
            
            .ai-panel-quick-questions {
                padding: 10px !important;
                grid-template-columns: 1fr 1fr !important;
                gap: 8px !important;
            }
            
            .ai-panel-quick-btn {
                font-size: 11px !important;
                padding: 8px !important;
            }
            
            .stats-grid {
                grid-template-columns: 1fr !important;
                gap: 15px !important;
            }
            
            .contact-card {
                padding: 20px !important;
            }
            
            html {
                scroll-behavior: smooth;
            }
            
            button, a, .clickable {
                min-height: 44px;
                min-width: 44px;
            }
            
            h1 { font-size: 28px !important; }
            h2 { font-size: 24px !important; }
            h3 { font-size: 20px !important; }
            h4 { font-size: 18px !important; }
            p { font-size: 15px !important; line-height: 1.6 !important; }
        }
        
        @media (min-width: 769px) and (max-width: 1024px) {
            .projects-grid {
                grid-template-columns: repeat(2, 1fr) !important;
            }
            
            .team-grid {
                grid-template-columns: repeat(2, 1fr) !important;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr) !important;
            }
        }
        
        @media (max-width: 768px) and (orientation: landscape) {
            .hero {
                min-height: 100vh !important;
            }
            
            .ai-assistant-panel {
                width: 400px !important;
            }
        }
        
        @media (max-width: 375px) {
            .hero h1 {
                font-size: 26px !important;
            }
            
            nav h1 {
                font-size: 18px !important;
            }
            
            .project-card img {
                height: 200px !important;
            }
        }
        
        * {
            -webkit-tap-highlight-color: transparent;
        }
        
        img {
            image-rendering: -webkit-optimize-contrast;
        }
        
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
        
        /* =============================================
           MADDE 3: SOL TARAF SOSYAL MEDYA SEKMESİ
           ============================================= */
        .social-sidebar {
            position: fixed;
            left: 0;
            bottom: 30px;
            z-index: 9998;
        }
        .social-sidebar-trigger {
            background: #5a6677;
            color: #fff;
            padding: 10px 12px;
            writing-mode: horizontal-tb;
            cursor: pointer;
            border-radius: 0 10px 10px 0;
            display: flex;
            align-items: center;
            gap: 6px;
            font-weight: 600;
            font-size: 11px;
            letter-spacing: 0.5px;
            box-shadow: 4px 4px 15px rgba(0,0,0,0.25);
            transition: all 0.3s ease;
        }
        .social-sidebar-trigger:hover {
            padding-right: 16px;
            filter: brightness(1.1);
        }
        .social-sidebar-icon { font-size: 12px; }
        .social-sidebar-content {
            position: absolute;
            left: 0;
            bottom: 50px;
            width: 180px;
            background: white;
            border-radius: 0 12px 12px 0;
            box-shadow: 5px 5px 30px rgba(0,0,0,0.2);
            padding: 12px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            opacity: 0;
            visibility: hidden;
            transform: translateX(-100%);
        }
        .social-sidebar-content.active {
            opacity: 1;
            visibility: visible;
            transform: translateX(0);
        }
        body.dark-mode .social-sidebar-content { background: #1a1a1a; }
        .social-sidebar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            padding-bottom: 8px;
            border-bottom: 1px solid #f0f0f0;
            font-weight: 600;
            font-size: 12px;
            color: var(--primary);
        }
        body.dark-mode .social-sidebar-header { border-bottom-color: #333333; color: #e2e8f0; }
        .social-close-btn {
            background: none;
            border: none;
            font-size: 20px;
            cursor: pointer;
            color: #999;
            line-height: 1;
            padding: 0;
        }
        .social-sidebar-links {
            display: flex;
            flex-direction: column;
            gap: 6px;
        }
        .social-sidebar-link {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 10px;
            border-radius: 8px;
            text-decoration: none;
            color: white;
            font-weight: 500;
            font-size: 11px;
            transition: all 0.3s ease;
            transform: translateX(-20px);
            opacity: 0;
        }
        .social-sidebar-link svg {
            width: 14px;
            height: 14px;
        }
        .social-sidebar-content.active .social-sidebar-link { transform: translateX(0); opacity: 1; }
        .social-sidebar-content.active .social-sidebar-link:nth-child(1) { transition-delay: 0.1s; }
        .social-sidebar-content.active .social-sidebar-link:nth-child(2) { transition-delay: 0.2s; }
        .social-sidebar-content.active .social-sidebar-link:nth-child(3) { transition-delay: 0.3s; }
        .social-sidebar-content.active .social-sidebar-link:nth-child(4) { transition-delay: 0.4s; }
        .social-sidebar-link.instagram { background: linear-gradient(45deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888); }
        .social-sidebar-link.twitter { background: linear-gradient(135deg, #5a6677, #b8962e); }
        .social-sidebar-link.linkedin { background: #0a66c2; }
        .social-sidebar-link:hover { transform: scale(1.03) !important; box-shadow: 0 5px 20px rgba(0,0,0,0.25); }
        .social-sidebar-footer {
            margin-top: 10px;
            padding-top: 8px;
            border-top: 1px solid #f0f0f0;
            text-align: center;
            font-weight: 600;
            color: #5a6677;
            font-size: 10px;
        }
        body.dark-mode .social-sidebar-footer { border-top-color: #333333; }
        
        /* =============================================
           MADDE 7: DARK MODE DÜZELTMELERİ
           ============================================= */
        body.dark-mode .faq-item { background: #1a1a1a !important; }
        body.dark-mode .faq-item h3, body.dark-mode .faq-question { color: #e2e8f0 !important; }
        body.dark-mode .faq-answer, body.dark-mode .faq-answer p { color: #94a3b8 !important; }
        body.dark-mode .service-card { background: #1a1a1a !important; }
        body.dark-mode .service-card h3 { color: #5a6677 !important; }
        body.dark-mode .service-card p { color: #94a3b8 !important; }
        body.dark-mode .section-title { color: #e2e8f0 !important; }
        body.dark-mode .section-title .accent { color: #5a6677 !important; }
        body.dark-mode .section-label { color: #94a3b8 !important; }
        body.dark-mode #referanslar, body.dark-mode .references-section { background: #111111 !important; }
        body.dark-mode .partner-card, body.dark-mode .reference-card { background: #1a1a1a !important; }
        body.dark-mode .partner-card p, body.dark-mode .partner-card span, body.dark-mode .reference-card p { color: #94a3b8 !important; }
        body.dark-mode .location-card { background: linear-gradient(135deg, #1a1a1a 0%, #111111 100%) !important; }
        body.dark-mode #location { background: linear-gradient(135deg, #111111 0%, #1a1a1a 100%) !important; }
        
        /* =============================================
           MADDE 1: OFİS KONUMU RESPONSIVE
           ============================================= */
        .location-grid { display: grid; grid-template-columns: 1fr 400px; gap: 40px; align-items: stretch; }
        @media (max-width: 900px) {
            .location-grid { grid-template-columns: 1fr !important; gap: 25px !important; }
            .location-card { order: -1; }
        }
        
        /* =============================================
           MADDE 9-10: MOBİL RESPONSIVE
           ============================================= */
        @media (max-width: 768px) {
            .social-sidebar { top: auto; bottom: 100px; transform: none; }
            .social-sidebar-trigger { writing-mode: horizontal-tb; padding: 6px 10px; font-size: 9px; }
            .social-sidebar-content {
                top: auto; bottom: 0; transform: none;
                width: 140px; left: -140px;
                border-radius: 0 10px 10px 0;
                max-height: 35vh; overflow-y: auto;
                padding: 8px;
            }
            .social-sidebar-content.active { left: 0; }
            .social-sidebar-header {
                font-size: 10px;
                margin-bottom: 6px;
                padding-bottom: 6px;
            }
            .social-sidebar-links {
                gap: 4px;
            }
            .social-sidebar-link {
                padding: 6px 8px;
                font-size: 10px;
                gap: 6px;
                border-radius: 6px;
            }
            .social-sidebar-link svg {
                width: 12px;
                height: 12px;
            }
            .social-sidebar-footer {
                font-size: 8px;
                margin-top: 6px;
                padding-top: 6px;
            }
            .social-close-btn {
                font-size: 16px;
            }
            html, body { overflow-x: hidden; max-width: 100vw; }
            .contact-phones, .phone-numbers {
                display: flex !important;
                flex-direction: row !important;
                flex-wrap: wrap;
                gap: 10px;
                justify-content: center;
            }
            .location-grid { grid-template-columns: 1fr !important; padding: 0 15px !important; }
        }
        
        /* =============================================
           MADDE 2: EKİP ÜYESİ SOSYAL MEDYA
           ============================================= */
        .team-member-socials {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-top: 15px;
            flex-wrap: wrap;
        }
        .team-social-link {
            width: 34px; height: 34px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            text-decoration: none;
            font-size: 14px;
        }
        .team-social-link.email { background: #5a6677; color: white; }
        .team-social-link.instagram { background: linear-gradient(45deg, #f09433, #dc2743); color: white; }
        .team-social-link.linkedin { background: #0a66c2; color: white; }
        .team-social-link.phone { background: #25d366; color: white; }
        .team-social-link:hover { transform: scale(1.15); box-shadow: 0 4px 12px rgba(0,0,0,0.2); }
        .team-photo {
            image-rendering: -webkit-optimize-contrast;
            image-rendering: crisp-edges;
            object-fit: cover;
        }
        
        /* =============================================
           MADDE 7: DARK MODE DÜZELTMELERİ
           ============================================= */
        body.dark-mode .faq-item { background: #1a1a1a !important; }
        body.dark-mode .faq-item h3 { color: #e2e8f0 !important; }
        body.dark-mode .faq-item span { color: #5a6677 !important; }
        body.dark-mode .faq-answer p { color: #94a3b8 !important; }
        body.dark-mode .service-card { background: #1a1a1a !important; }
        body.dark-mode .service-card h3 { color: #5a6677 !important; }
        body.dark-mode .service-card p { color: #94a3b8 !important; }
        body.dark-mode #referanslar { background: #111111 !important; }
        body.dark-mode .ref-card { background: #1a1a1a !important; border: 1px solid #333 !important; }
        body.dark-mode .ref-card h4 { color: #e2e8f0 !important; }
        body.dark-mode .ref-card p { color: #94a3b8 !important; }
        body.dark-mode .reference-item { background: #1a1a1a !important; border-color: #333 !important; }
        body.dark-mode .reference-item h4 { color: #e2e8f0 !important; }
        body.dark-mode .section-title { color: #e2e8f0 !important; }
        body.dark-mode .section-title .accent { color: #5a6677 !important; }
        body.dark-mode .section-label { color: #5a6677 !important; }
        body.dark-mode .location-card { background: linear-gradient(145deg, #1a1a1a 0%, #111111 100%) !important; }
        
        /* =============================================
           MADDE 8: CROSS-BROWSER UYUMLULUK
           ============================================= */
        .filter-container { display: -webkit-box; display: -webkit-flex; display: -ms-flexbox; display: flex; }
        * { scrollbar-width: thin; scrollbar-color: #5a6677 #f1f1f1; }
        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #5a6677; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #b8963a; }
        body.dark-mode ::-webkit-scrollbar-track { background: #1a1a1a; }
        
        /* Safari flexbox düzeltmeleri */
        .projects-grid { display: -webkit-grid; display: grid; }
        .services-grid { display: -webkit-grid; display: grid; }
        .references-grid { display: -webkit-grid; display: grid; }
        
        /* =============================================
           MADDE 9-10: MOBİL DÜZELTMELERİ
           ============================================= */
        @media (max-width: 768px) {
            body, html { 
                overflow-x: hidden !important; 
                width: 100% !important;
                max-width: 100vw !important;
            }
            section { overflow-x: hidden; }
            .location-grid { 
                grid-template-columns: 1fr !important; 
            }
            .location-card {
                margin-top: 20px;
            }
            /* Telefon numarası yan yana */
            .contact-phones,
            div[style*="flex-direction: column"] {
                flex-direction: row !important;
                flex-wrap: wrap !important;
                gap: 10px !important;
            }
            .header-actions {
                gap: 8px !important;
            }
            /* Sosyal sidebar mobil - KÜÇÜK */
            .social-sidebar {
                bottom: 100px !important;
            }
            .social-sidebar-trigger {
                writing-mode: horizontal-tb !important;
                padding: 6px 10px !important;
                border-radius: 0 8px 8px 0 !important;
                font-size: 9px !important;
            }
            .social-sidebar-content {
                top: auto !important;
                bottom: 40px !important;
                left: 0 !important;
                width: 140px !important;
                max-height: 35vh !important;
                transform: translateX(-100%) !important;
                border-radius: 0 10px 10px 0 !important;
                padding: 8px !important;
            }
            .social-sidebar-content.active {
                transform: translateX(0) !important;
            }
            .social-sidebar-header {
                padding: 6px !important;
                font-size: 10px !important;
                margin-bottom: 6px !important;
            }
            .social-sidebar-header span {
                font-size: 10px !important;
            }
            .social-sidebar-links {
                padding: 4px !important;
                gap: 4px !important;
            }
            .social-sidebar-link {
                padding: 6px 8px !important;
                font-size: 10px !important;
                border-radius: 6px !important;
            }
            .social-sidebar-link svg {
                width: 12px !important;
                height: 12px !important;
            }
            .social-sidebar-footer {
                padding: 6px !important;
                font-size: 8px !important;
            }
            /* İletişim bölümü mobil düzeltmesi */
            .contact-grid {
                grid-template-columns: 1fr !important;
                gap: 30px !important;
            }
            #iletisim > div > div {
                grid-template-columns: 1fr !important;
                gap: 30px !important;
            }
            #iletisim .section-header {
                padding: 0 15px;
            }
            #iletisim > div {
                padding: 0 15px !important;
            }
            #iletisim h3 {
                font-size: 18px !important;
                margin-bottom: 20px !important;
            }
            #iletisim form {
                gap: 15px !important;
            }
            #iletisim input,
            #iletisim select,
            #iletisim textarea {
                padding: 12px !important;
                font-size: 14px !important;
            }
            /* İletişim bilgileri mobil */
            #iletisim div[style*="margin-bottom: 25px"] {
                margin-bottom: 15px !important;
            }
            #iletisim div[style*="width: 45px"] {
                width: 38px !important;
                height: 38px !important;
                min-width: 38px !important;
                font-size: 16px !important;
            }
            #iletisim div[style*="gap: 15px"] {
                gap: 10px !important;
            }
            #iletisim a[style*="font-size: 18px"] {
                font-size: 15px !important;
            }
            #iletisim span[style*="line-height: 1.6"] {
                font-size: 13px !important;
            }
            .contact-wrapper {
                padding: 0 15px !important;
            }
            /* Harita konum ikonu mobil */
            .map-location-badge {
                top: 10px !important;
                right: 10px !important;
                padding: 8px 12px !important;
                gap: 6px !important;
            }
            .map-location-badge > div:first-child {
                width: 28px !important;
                height: 28px !important;
            }
            .map-location-badge > div:first-child svg {
                width: 14px !important;
                height: 14px !important;
            }
            .map-location-badge > span {
                font-size: 11px !important;
            }
            /* Ofis konum harita mobil */
            #ofis-konum > div {
                padding: 0 15px !important;
            }
            #ofis-konum iframe {
                height: 300px !important;
            }
        }
    </style>
    <!-- Social Media Meta Tags -->
    <meta property="og:image" content="https://ceeservis.com/images/cee-og-image.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://ceeservis.com/images/cee-og-image.jpg">
    <link rel="sitemap" type="application/xml" href="/sitemap.xml">
        <!-- PWA Meta Tags (Lighthouse Optimized) -->
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#5a6677">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="CEE Mimarlık">
    <link rel="apple-touch-icon" href="/icon-192.png">
    <meta name="mobile-web-app-capable" content="yes">
    
    <!-- iOS Safari 100vh Fix - Dinamik -->
    <script>
    (function() {
        function setVH() {
            var vh = window.innerHeight * 0.01;
            document.documentElement.style.setProperty('--vh', vh + 'px');
            document.documentElement.style.setProperty('--full-height', window.innerHeight + 'px');
        }
        setVH();
        window.addEventListener('resize', setVH);
        window.addEventListener('orientationchange', function() {
            setTimeout(setVH, 100);
        });
    })();
    </script>
    
    <!-- MODERN AKICI TEMA -->
    <style>
    /* =============================================
       CEE MİMARLIK - MODERN AKICI TEMA
       Soft geçişler, tutarlı renkler, zarif görünüm
       ============================================= */

    /* ANA RENK PALETİ */
    :root {
        --bg-primary: #ffffff;
        --bg-secondary: #fafafa;
        --bg-accent: #f5f5f5;
        --text-primary: #2d3748;
        --text-secondary: #666666;
        --text-muted: #999999;
        --accent-gold: #5a6677;
        --accent-gold-light: #7a8694;
        --border-light: #e8e8e8;
        --shadow-soft: 0 2px 20px rgba(0,0,0,0.03);
        --shadow-medium: 0 4px 30px rgba(0,0,0,0.06);
        --transition-smooth: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    /* DARK MODE RENK PALETİ */
    body.dark-mode {
        --bg-primary: #1a1a2e !important;
        --bg-secondary: #252542 !important;
        --bg-accent: #1e1e30 !important;
        --text-primary: #e2e8f0 !important;
        --text-secondary: #94a3b8 !important;
        --text-muted: #64748b !important;
        --border-light: #3d3d5c !important;
    }

    /* TÜM SECTION'LAR - TEK RENK AKIŞI */
    body {
        background: var(--bg-primary) !important;
    }

    section {
        background: var(--bg-primary) !important;
        border: none !important;
        position: relative;
    }

    /* Alternatif section'lar için çok hafif gri */
    #hizmetler,
    #referanslar,
    #ofis-konum {
        background: var(--bg-accent) !important;
    }

    /* Section'lar arası yumuşak geçiş */
    #hizmetler::before,
    #referanslar::before,
    #ofis-konum::before {
        content: '';
        position: absolute;
        top: -50px;
        left: 0;
        right: 0;
        height: 50px;
        background: linear-gradient(to bottom, var(--bg-primary), var(--bg-accent));
        pointer-events: none;
    }

    #hizmetler::after,
    #referanslar::after,
    #ofis-konum::after {
        content: '';
        position: absolute;
        bottom: -50px;
        left: 0;
        right: 0;
        height: 50px;
        background: linear-gradient(to bottom, var(--bg-accent), var(--bg-primary));
        pointer-events: none;
        z-index: 1;
    }

    /* BAÅžLIKLAR */
    .section-header {
        padding: 50px 20px 30px !important;
        background: transparent !important;
        margin-bottom: 40px !important;
    }

    .section-label {
        font-size: 11px !important;
        font-weight: 500 !important;
        letter-spacing: 5px !important;
        color: var(--text-muted) !important;
        margin-bottom: 12px !important;
    }

    .section-title {
        font-size: 36px !important;
        font-weight: 300 !important;
        letter-spacing: 4px !important;
        color: var(--text-primary) !important;
    }

    .section-title .accent {
        color: var(--accent-gold) !important;
        font-weight: 400 !important;
    }

    .section-decoration {
        margin-top: 18px !important;
        gap: 10px !important;
    }

    .section-decoration::before,
    .section-decoration::after {
        width: 35px !important;
        background: var(--border-light) !important;
    }

    .section-decoration .dot {
        width: 5px !important;
        height: 5px !important;
        background: var(--accent-gold) !important;
    }

    /* KARTLAR */
    .service-card,
    [id="referencesGrid"] > div,
    .faq-item {
        background: var(--bg-primary) !important;
        border: 1px solid var(--border-light) !important;
        border-radius: 16px !important;
        box-shadow: var(--shadow-soft) !important;
        transition: var(--transition-smooth) !important;
    }

    /* İKON DAİRELERİ - Normal: açık gri bg, siyah ikon */
    .contact-icon-circle,
    .service-icon-v2,
    .ref-icon {
        background: #f0f0f0 !important;
        color: #333 !important;
        transition: all 0.3s ease !important;
    }
    
    /* İKON DAİRELERİ - Hover: renkli bg, beyaz ikon */
    .contact-icon-circle:hover,
    .service-card-v2:hover .service-icon-v2,
    .ref-card:hover .ref-icon {
        background: var(--accent-gold) !important;
        color: white !important;
    }
    
    .contact-icon-circle:hover svg,
    .service-card-v2:hover .service-icon-v2 svg,
    .ref-card:hover .ref-icon svg {
        stroke: white !important;
    }

    /* TAKİP ET VE CHAT BUTONLARI */
    .social-sidebar-trigger {
        background: var(--accent-gold) !important;
    }
    .unified-chat-btn {
        background: var(--accent-gold) !important;
    }
    .chat-badge {
        background: var(--accent-gold) !important;
    }

    /* FİLTRE BUTONLARI */
    .filter-container {
        background: transparent !important;
        backdrop-filter: none !important;
        -webkit-backdrop-filter: none !important;
        box-shadow: none !important;
        border: none !important;
        padding: 15px 0 !important;
    }

    .filter-btn {
        background: transparent !important;
        border: 1px solid var(--border-light) !important;
        color: var(--text-secondary) !important;
        padding: 10px 22px !important;
        font-size: 12px !important;
        border-radius: 25px !important;
    }

    .filter-btn:hover {
        border-color: var(--accent-gold) !important;
        color: var(--accent-gold) !important;
        background: transparent !important;
    }

    .filter-btn.active {
        background: var(--accent-gold) !important;
        border-color: var(--accent-gold) !important;
        color: white !important;
    }
    
    .filter-btn.active:hover {
        color: white !important;
    }

    .filter-btn.active::before {
        display: none !important;
    }

    /* BUTONLAR */
    .hero-cta,
    .team-cta-btn,
    .directions-btn {
        background: var(--accent-gold) !important;
        box-shadow: 0 4px 15px rgba(201, 162, 39, 0.2) !important;
        border-radius: 50px !important;
    }

    .hero-brand {
        color: var(--accent-gold) !important;
    }

    /* HEADER */
    header, nav, .header {
        background: var(--bg-primary) !important;
        border-bottom: 1px solid var(--border-light) !important;
        box-shadow: none !important;
    }

    /* FOOTER */
    footer, .footer {
        background: #1a1a1a !important;
    }

    /* MOBİL */
    @media (max-width: 768px) {
        .section-title {
            font-size: 24px !important;
            letter-spacing: 2px !important;
        }
        
        .section-header {
            padding: 30px 15px 20px !important;
            margin-bottom: 30px !important;
        }

        #hizmetler::before,
        #referanslar::before,
        #ofis-konum::before,
        #hizmetler::after,
        #referanslar::after,
        #ofis-konum::after {
            height: 30px;
        }
    }
    </style>

</head>
<body>

<script>
// Mobil menü fonksiyonları - Global scope
function closeMobileMenu() {
    const nav = document.getElementById('mainNav');
    const toggle = document.getElementById('menuToggle');
    if (nav && toggle) {
        nav.classList.remove('mobile-open');
        toggle.textContent = '☰';
    }
}

function toggleMobileMenu() {
    const nav = document.getElementById('mainNav');
    const toggle = document.getElementById('menuToggle');
    if (nav && toggle) {
        nav.classList.toggle('mobile-open');
        toggle.textContent = nav.classList.contains('mobile-open') ? '✕' : '☰';
    }
}

// Sosyal Sidebar Toggle
function toggleSocialSidebar() {
    const content = document.getElementById('socialSidebarContent');
    if (content) content.classList.toggle('active');
}

function closeSocialSidebar() {
    const content = document.getElementById('socialSidebarContent');
    if (content) content.classList.remove('active');
}

// Admin Panel Git
function goToAdmin() {
    window.location.href = 'admin.html';
}

// Global eriÅŸim
window.closeMobileMenu = closeMobileMenu;
window.toggleMobileMenu = toggleMobileMenu;
window.toggleSocialSidebar = toggleSocialSidebar;
window.closeSocialSidebar = closeSocialSidebar;
window.goToAdmin = goToAdmin;
</script>



<!-- HEADER -->
<header role="banner">
    <div class="header-content">
        <a href="#anasayfa" class="logo-container" style="text-decoration: none; cursor: pointer;">
            <div class="logo-top">
                <img src="logo.png" alt="CEE Mimarlık Logo" class="site-logo" id="headerLogo" style="height: 50px; width: auto;">
            </div>
        </a>
        <button class="menu-toggle" onclick="toggleMobileMenu()" id="menuToggle" aria-label="Menü">☰</button>
        
<nav role="navigation" aria-label="Ana navigasyon" id="mainNav">
            <a href="#anasayfa" class="active" aria-current="page" onclick="closeMobileMenu()" data-tr="Anasayfa" data-en="Home">Anasayfa</a>
            <a href="#projeler" onclick="closeMobileMenu()" data-tr="Projeler" data-en="Projects">Projeler</a>
            <a href="#hakkimizda" onclick="closeMobileMenu()" data-tr="Hakkımızda" data-en="About Us">Hakkımızda</a>
            <a href="#hizmetler" onclick="closeMobileMenu()" data-tr="Hizmetler" data-en="Services">Hizmetler</a>
            <a href="#referanslar" onclick="closeMobileMenu()" data-tr="Referanslar" data-en="References">Referanslar</a>
            <a href="#sss" onclick="closeMobileMenu()" data-tr="SSS" data-en="FAQ">SSS</a>
            
            <!-- E-HİZMETLER DROPDOWN -->
            <div class="nav-dropdown" style="display: inline-block; position: relative;">
                <a href="javascript:void(0)" onclick="toggleEHizmetler(event); return false;" style="color: #10b981;" data-tr="🛒 E-Hizmetler" data-en="🛒 E-Services">
                    🛒 E-Hizmetler
                </a>
                <div class="ehizmetler-menu" id="ehizmetlerMenu" style="display: none; position: absolute; top: 100%; left: 0; background: white; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); min-width: 200px; z-index: 10001; margin-top: 10px;">
                    <a href="javascript:void(0)" onclick="openExternalServiceWithWarning('https://cbs.corlu.bel.tr/GiSoftGis/#/cityguidepublic', 'CBS Çorlu Kent Rehberi', 'Çorlu Belediyesi')" style="display: block; padding: 12px 20px; color: #333; text-decoration: none; border-bottom: 1px solid #eee;">📍 CBS Çorlu</a>
                    <a href="javascript:void(0)" onclick="openExternalServiceWithWarning('https://keos.ergene.bel.tr/keos/', 'KEOS Ergene Sistemi', 'Ergene Belediyesi')" style="display: block; padding: 12px 20px; color: #333; text-decoration: none; border-bottom: 1px solid #eee;">📍 KEOS Ergene</a>
                    <a href="javascript:void(0)" onclick="openExternalServiceWithWarning('https://parselsorgu.tkgm.gov.tr/', 'TKGM Parsel Sorgu', 'Tapu ve Kadastro Genel Müdürlüğü')" style="display: block; padding: 12px 20px; color: #333; text-decoration: none;">📍 Parsel Sorgu</a>
                </div>
            </div>
            
            <a href="#iletisim" onclick="closeMobileMenu()" data-tr="İletişim" data-en="Contact">İletişim</a>
        </nav>
        <div class="header-actions">
            <button class="btn-minimal lang-btn" onclick="toggleLanguage()" id="langBtn" aria-label="Dil deÄŸiÅŸtir" style="display: flex; align-items: center; gap: 6px;">
                <span id="langFlag" style="display: inline-flex; width: 20px; height: 14px; border-radius: 2px; overflow: hidden;">
                    <svg viewBox="0 0 1200 800" style="width: 100%; height: 100%;">
                        <rect fill="#E30A17" width="1200" height="800"/>
                        <circle fill="#fff" cx="425" cy="400" r="200"/>
                        <circle fill="#E30A17" cx="475" cy="400" r="160"/>
                        <polygon fill="#fff" points="583,400 764,450 652,326 652,474 764,350" transform="rotate(18 583 400)"/>
                    </svg>
                </span>
                <span id="langText">TR</span>
            </button>
            <button class="btn-minimal" onclick="toggleDarkMode()" id="themeBtn" aria-label="Tema değiştir">🌙</button>
        </div>
    </div>
</header>

<!-- SOL TARAF SOSYAL MEDYA SEKMESİ -->
<div id="socialSidebar" class="social-sidebar">
    <div class="social-sidebar-trigger" onclick="toggleSocialSidebar()">
        <span class="social-sidebar-icon">👋</span>
        <span class="social-sidebar-text" data-tr="Takip Et" data-en="Follow">Takip Et</span>
    </div>
    <div class="social-sidebar-content" id="socialSidebarContent">
        <div class="social-sidebar-header">
            <span data-tr="Sosyal Medyalarımız" data-en="Our Social Media">Sosyal Medyalarımız</span>
            <button onclick="closeSocialSidebar()" class="social-close-btn">×</button>
        </div>
        <div class="social-sidebar-links">
            <a href="https://instagram.com/cee_mimarlik" target="_blank" class="social-sidebar-link instagram">
                <svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg>
                <span>Instagram</span>
            </a>
            <a href="https://twitter.com/cee_mimarlik" target="_blank" class="social-sidebar-link twitter">
                <svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
                <span>X (Twitter)</span>
            </a>
            <a href="https://linkedin.com/company/cee_mimarlik" target="_blank" class="social-sidebar-link linkedin">
                <svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>
                <span>LinkedIn</span>
            </a>
        </div>
        <div class="social-sidebar-footer" data-tr="Bizi Takip Edin!" data-en="Follow Us!">
            Bizi Takip Edin!
        </div>
    </div>
</div>

<!-- HERO SLIDER -->
<section class="hero" id="anasayfa">
    <div id="heroSlider" style="opacity: 0; visibility: hidden;"></div>
    
    <!-- ══════════════════════════════════════════════════════════════════════ -->
    <!-- BLUEPRINT ANİMASYONU - HAYALDEN GERÇEĞE                                 -->
    <!-- ══════════════════════════════════════════════════════════════════════ -->
    <div class="blueprint-container" id="blueprintContainer">
        
        <!-- DIAGONAL SPLIT - Plan + Proje -->
        <div class="diagonal-split">
            
            <!-- SOL TARAF - PLAN (Siyah arka plan, beyaz çizim) -->
            <div class="diagonal-left">
                <div class="plan-bg"></div>
                
                <!-- SVG Plan Çizimi (Beyaz) -->
                <svg class="blueprint-svg" viewBox="0 0 300 240" preserveAspectRatio="xMidYMid meet">
                    <defs>
                        <filter id="glow">
                            <feGaussianBlur stdDeviation="1" result="coloredBlur"/>
                            <feMerge>
                                <feMergeNode in="coloredBlur"/>
                                <feMergeNode in="SourceGraphic"/>
                            </feMerge>
                        </filter>
                    </defs>
                    
                    <g class="floor-plan" filter="url(#glow)">
                        <!-- Dış duvarlar -->
                        <path class="bp-line line-1" d="M30,30 L270,30" />
                        <path class="bp-line line-2" d="M270,30 L270,210" />
                        <path class="bp-line line-3" d="M270,210 L30,210" />
                        <path class="bp-line line-4" d="M30,30 L30,110" />
                        <path class="bp-line line-4b" d="M30,125 L30,168" />
                        <path class="bp-line line-4c" d="M30,192 L30,210" />
                        
                        <!-- Sol dış kapı -->
                        <path class="bp-line line-door-left" d="M30,110 L15,110 Q15,125 30,125" />
                        
                        <!-- Mutfak penceresi (sol duvarda, tam ortada) -->
                        <rect class="bp-window win-mutfak" x="27" y="168" width="6" height="24" />
                        
                        <!-- İç duvarlar -->
                        <path class="bp-line line-5" d="M120,30 L120,90" />
                        <path class="bp-line line-6" d="M30,90 L180,90" />
                        <path class="bp-line line-7" d="M180,30 L180,130" />
                        <path class="bp-line line-8" d="M120,90 L120,150" />
                        <path class="bp-line line-9" d="M30,150 L120,150" />
                        
                        <!-- Çocuk-Salon arası duvar (kapı boşluklu) -->
                        <path class="bp-line line-10" d="M180,130 L210,130" />
                        <path class="bp-line line-10b" d="M225,130 L270,130" />
                        <!-- Çocuk odası kapısı (salona açılır) -->
                        <path class="bp-line line-door-cocuk" d="M210,130 L210,145 Q220,145 225,130" />
                        
                        <!-- HOL-MUTFAK duvarı -->
                        <path class="bp-line line-wall-hol" d="M120,150 L120,175" />
                        <path class="bp-line line-wall-hol2" d="M120,185 L120,210" />
                        <path class="bp-line line-door-mutfak" d="M120,175 L130,175 Q130,185 120,185" />
                        
                        <!-- Kapılar -->
                        <path class="bp-line line-11" d="M75,90 L75,75 Q85,75 85,90" />
                        <path class="bp-line line-12" d="M145,90 L145,100 Q155,100 155,90" />
                        
                        <!-- Pencereler -->
                        <rect class="bp-window win-1" x="50" y="27" width="40" height="6" />
                        <rect class="bp-window win-2" x="200" y="27" width="50" height="6" />
                        <rect class="bp-window win-3" x="267" y="150" width="6" height="40" />
                        <rect class="bp-window win-4" x="200" y="207" width="50" height="6" />
                        
                        <!-- Ölçü -->
                        <line class="dim-line" x1="30" y1="20" x2="270" y2="20" />
                        <text class="dim-text" x="150" y="15">12.00 m</text>
                        
                        <!-- Oda isimleri -->
                        <text class="room-label" x="75" y="65">YATAK</text>
                        <text class="room-label" x="150" y="65">WC</text>
                        <text class="room-label" x="225" y="80">ÇOCUK</text>
                        <text class="room-label" x="95" y="125">HOL</text>
                        <text class="room-label" x="75" y="185">MUTFAK</text>
                        <text class="room-label" x="225" y="175">SALON</text>
                    </g>
                </svg>
            </div>
            
            <!-- SAÄž TARAF - PROJE FOTOÄžRAFLARI -->
            <div class="diagonal-right">
                <div class="project-photos">
                    <div class="project-photo" id="projectPhoto1"></div>
                    <div class="project-photo" id="projectPhoto2"></div>
                    <div class="project-photo" id="projectPhoto3"></div>
                    <div class="project-photo" id="projectPhoto4"></div>
                </div>
            </div>
            
            <!-- ORTA ÇİZGİ - Sadece ince parlak çizgi -->
            <div class="diagonal-glow"></div>
            
            <!-- LOGO - Çizginin altında, ortada -->
            <div class="diagonal-logo">
                <img src="logo.png" alt="CEE Mimarlık" class="diag-logo-img">
            </div>
            
        </div>
        
        <!-- MERGE SONRASI - Logo ve Yazılar -->
        <div class="merge-content">
            <div class="merge-logo">
                <span class="logo-cee">CEE</span>
                <span class="logo-mimarlik">MİMARLIK</span>
            </div>
            
            <div class="merge-slogan">
                <span class="slogan-hayal">HAYALDEN</span>
                <span class="slogan-gercek">GERÇEĞE</span>
            </div>
            
            <div class="merge-tagline">Temelden Çatıya, Hayalinizi İnşa Ediyoruz</div>
        </div>
        
    </div>
    
    <!-- ══════════════════════════════════════════════════════════════════════ -->
    <!-- ANA İÇERİK                                                              -->
    <!-- ══════════════════════════════════════════════════════════════════════ -->
    <div class="hero-main-content" id="heroMainContent">
        
        <!-- Logo -->
        <div class="hero-logo-wrapper">
            <img src="logo.png" alt="CEE Mimarlık" class="hero-logo">
        </div>
        
        <!-- Tagline -->
        <div class="hero-tagline">
            <span class="tagline-text">MİMARLIK & YAPI SİSTEMLERİ</span>
        </div>
        
        <!-- Ayırıcı Çizgi -->
        <div class="hero-divider"></div>
        
        <!-- Açıklama -->
        <p class="hero-description" id="heroDesc">
            Yaşam alanlarınızı profesyonel tasarım ve kusursuz uygulamayla<br>
            hayallerinizin ötesine taşıyoruz.
        </p>
        
        <!-- Butonlar -->
        <div class="hero-buttons">
            <a href="#projeler" class="hero-btn-primary">
                <span>Projelerimiz</span>
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
            </a>
            <a href="#iletisim" class="hero-btn-secondary">İletişime Geçin</a>
        </div>
        
    </div>
    </div>
    
    <button class="hero-nav prev" onclick="changeSlide(-1)">‹</button>
    <button class="hero-nav next" onclick="changeSlide(1)">›</button>
    <div class="hero-progress" id="heroProgress"></div>
    <div class="hero-indicators" id="heroIndicators"></div>
</section>

<style>
/* ═══════════════════════════════════════════════════════════════════════════════ */
/* CEE MİMARLIK - DIAGONAL SPLIT ANİMASYONU                                        */
/* Modern diagonal birleşim → Hero geçişi (~6sn)                                   */
/* ═══════════════════════════════════════════════════════════════════════════════ */

.blueprint-container {
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 100vw;
    height: 100%;
    z-index: 20;
    overflow: hidden;
    pointer-events: none;
}

/* ────────────────────────────────────────────────────────────────────────────── */
/* DIAGONAL SPLIT                                                                   */
/* ────────────────────────────────────────────────────────────────────────────── */
.diagonal-split {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

/* SOL TARAF - PLAN OVERLAY (Yarı saydam, fotoğraf görünsün) */
.diagonal-left {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, rgba(10,10,10,0.85) 0%, rgba(20,25,30,0.7) 100%);
    clip-path: polygon(0 0, 55% 0, 45% 100%, 0 100%);
    z-index: 10;
    animation: diagonalSlideOut 0.8s ease-out 4s forwards;
}

@keyframes diagonalSlideOut {
    to { clip-path: polygon(0 0, 0 0, 0 100%, 0 100%); opacity: 0; }
}

.plan-bg {
    display: none;
}



/* SAÄž TARAF - PROJE FOTOÄžRAFLARI (Tam ekran, arkada) */
.diagonal-right {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 5;
}



.project-photos {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.project-photo {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-size: cover;
    background-position: center center;
    background-repeat: no-repeat;
    opacity: 0;
}

.project-photo:nth-child(1) { animation: photoFade 1s ease-in-out 0.5s forwards; }
.project-photo:nth-child(2) { animation: photoFade 1s ease-in-out 1.5s forwards; }
.project-photo:nth-child(3) { animation: photoFade 1s ease-in-out 2.5s forwards; }
.project-photo:nth-child(4) { animation: photoFadeLast 1s ease-in-out 3.5s forwards; }

@keyframes photoFade {
    0% { opacity: 0; }
    20% { opacity: 1; }
    80% { opacity: 1; }
    100% { opacity: 0; }
}

@keyframes photoFadeLast {
    0% { opacity: 0; }
    20% { opacity: 1; }
    100% { opacity: 1; }
}

/* MODERN DIAGONAL GLOW - İnce parlak çizgi */
.diagonal-glow {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 15;
    pointer-events: none;
    opacity: 0;
    animation: lineAppear 0.5s ease-out 0.3s forwards,
               lineDisappear 0.5s ease-out 3.5s forwards;
}

.diagonal-glow::before {
    content: '';
    position: absolute;
    top: -5%;
    left: 50%;
    width: 2px;
    height: 110%;
    background: linear-gradient(180deg,
        transparent 0%,
        rgba(255,255,255,0.3) 20%,
        rgba(255,255,255,0.8) 50%,
        rgba(255,255,255,0.3) 80%,
        transparent 100%);
    transform: rotate(-5.7deg);
    transform-origin: top center;
    box-shadow: 0 0 15px rgba(255,255,255,0.5),
                0 0 30px rgba(255,255,255,0.2);
}

/* DIAGONAL LOGO - Çizginin altında, ortada */
.diagonal-logo {
    position: absolute;
    bottom: 15%;
    left: 50%;
    transform: translateX(-50%);
    z-index: 20;
    opacity: 0;
    animation: logoAppear 0.6s ease-out 0.8s forwards,
               lineDisappear 0.5s ease-out 3.5s forwards;
}

.diag-logo-img {
    height: 60px;
    width: auto;
    opacity: 0.5;
    filter: brightness(2) drop-shadow(0 0 10px rgba(255,255,255,0.3));
}

@keyframes logoAppear {
    from { opacity: 0; transform: translateX(-50%) scale(0.9); }
    to { opacity: 1; transform: translateX(-50%) scale(1); }
}

@keyframes lineAppear {
    to { opacity: 1; }
}

@keyframes lineDisappear {
    to { opacity: 0; }
}

/* ────────────────────────────────────────────────────────────────────────────── */
/* SVG PLAN ÇİZİMİ (Beyaz çizgiler)                                               */
/* ────────────────────────────────────────────────────────────────────────────── */
.blueprint-svg {
    position: absolute;
    top: 50%;
    left: 25%;
    transform: translate(-50%, -50%);
    width: 45%;
    max-width: 380px;
    height: auto;
    z-index: 2;
}

/* Çizgi stili - BEYAZ + GLOW */
.bp-line {
    fill: none;
    stroke: rgba(255,255,255,0.95);
    stroke-width: 1.8;
    stroke-linecap: round;
    stroke-dasharray: 400;
    stroke-dashoffset: 400;
    filter: drop-shadow(0 0 2px rgba(255,255,255,0.6));
}

/* Çizim animasyonları */
.line-1 { animation: drawLine 0.35s ease-out 0.4s forwards; }
.line-2 { animation: drawLine 0.35s ease-out 0.6s forwards; }
.line-3 { animation: drawLine 0.35s ease-out 0.8s forwards; }
.line-4 { animation: drawLine 0.25s ease-out 1.0s forwards; }
.line-4b { animation: drawLine 0.15s ease-out 1.1s forwards; }
.line-4c { animation: drawLine 0.1s ease-out 1.15s forwards; }
.line-door-left { animation: drawLine 0.15s ease-out 1.2s forwards; }
.line-5 { animation: drawLine 0.2s ease-out 1.3s forwards; }
.line-6 { animation: drawLine 0.2s ease-out 1.4s forwards; }
.line-7 { animation: drawLine 0.2s ease-out 1.5s forwards; }
.line-8 { animation: drawLine 0.2s ease-out 1.6s forwards; }
.line-9 { animation: drawLine 0.2s ease-out 1.7s forwards; }
.line-10 { animation: drawLine 0.15s ease-out 1.8s forwards; }
.line-10b { animation: drawLine 0.2s ease-out 1.85s forwards; }
.line-door-cocuk { animation: drawLine 0.15s ease-out 1.9s forwards; }
.line-wall-hol { animation: drawLine 0.15s ease-out 1.95s forwards; }
.line-wall-hol2 { animation: drawLine 0.15s ease-out 2.0s forwards; }
.line-door-mutfak { animation: drawLine 0.15s ease-out 2.05s forwards; }
.line-11 { animation: drawLine 0.15s ease-out 2.1s forwards; }
.line-12 { animation: drawLine 0.15s ease-out 2.15s forwards; }

/* Pencere animasyonları */
.win-mutfak { animation: windowReveal 0.2s ease-out 2.2s forwards; }

@keyframes drawLine { to { stroke-dashoffset: 0; } }

/* Pencereler - Beyaz */
.bp-window {
    fill: rgba(255,255,255,0.2);
    stroke: rgba(255,255,255,0.6);
    stroke-width: 1;
    opacity: 0;
    animation: windowReveal 0.2s ease-out forwards;
}
.win-1 { animation-delay: 2.3s; }
.win-2 { animation-delay: 2.35s; }
.win-3 { animation-delay: 2.4s; }
.win-4 { animation-delay: 2.45s; }

@keyframes windowReveal { to { opacity: 1; } }

/* Ölçü çizgileri */
.dim-line {
    stroke: rgba(255,255,255,0.3);
    stroke-width: 1;
    stroke-dasharray: 3,2;
    opacity: 0;
    animation: dimReveal 0.3s ease-out 2.5s forwards;
}
.dim-text {
    fill: rgba(255,255,255,0.5);
    font-size: 8px;
    font-family: 'Courier New', monospace;
    text-anchor: middle;
    opacity: 0;
    animation: dimReveal 0.3s ease-out 2.55s forwards;
}

@keyframes dimReveal { to { opacity: 1; } }

/* Oda isimleri */
.room-label {
    fill: rgba(255,255,255,0.85);
    font-size: 8px;
    font-weight: 500;
    letter-spacing: 2px;
    text-anchor: middle;
    opacity: 0;
    text-shadow: 0 0 5px rgba(0,0,0,0.5);
    animation: labelReveal 0.2s ease-out 2.6s forwards;
}

@keyframes labelReveal { to { opacity: 1; } }

/* ────────────────────────────────────────────────────────────────────────────── */
/* MERGE SONRASI İÇERİK                                                            */
/* ────────────────────────────────────────────────────────────────────────────── */
.merge-content {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
    z-index: 30;
    animation: mergeContentFadeOut 0.5s ease-out 4.5s forwards;
}

@keyframes mergeContentFadeOut {
    to { opacity: 0; pointer-events: none; }
}

.merge-logo {
    margin-bottom: 20px;
    opacity: 0;
    animation: mergeLogoIn 0.6s ease-out 4.3s forwards;
}

.logo-cee {
    display: block;
    font-size: clamp(40px, 7vw, 60px);
    font-weight: 300;
    color: #fff;
    letter-spacing: 15px;
    text-shadow: 0 4px 30px rgba(0,0,0,0.5);
}

.logo-mimarlik {
    display: block;
    font-size: clamp(11px, 2vw, 15px);
    font-weight: 400;
    color: rgba(255,255,255,0.7);
    letter-spacing: 12px;
    margin-top: 8px;
}

@keyframes mergeLogoIn {
    0% { opacity: 0; transform: scale(0.8); }
    100% { opacity: 1; transform: scale(1); }
}

.merge-slogan {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 5px;
    margin-bottom: 15px;
}

.slogan-hayal {
    font-size: clamp(22px, 4vw, 36px);
    font-weight: 200;
    color: #fff;
    letter-spacing: 8px;
    opacity: 0;
    transform: translateX(-30px);
    animation: sloganLeft 0.5s ease-out 4.8s forwards;
}

.slogan-gercek {
    font-size: clamp(28px, 5vw, 44px);
    font-weight: 300;
    background: linear-gradient(135deg, #fff 0%, #888 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    letter-spacing: 10px;
    opacity: 0;
    transform: translateX(30px);
    animation: sloganRight 0.5s ease-out 5s forwards;
}

@keyframes sloganLeft { to { opacity: 1; transform: translateX(0); } }
@keyframes sloganRight { to { opacity: 1; transform: translateX(0); } }

.merge-tagline {
    font-size: clamp(10px, 1.5vw, 13px);
    color: rgba(255,255,255,0.6);
    letter-spacing: 2px;
    font-weight: 300;
    opacity: 0;
    animation: taglineIn 0.4s ease-out 5.4s forwards;
}

@keyframes taglineIn { to { opacity: 1; } }

/* ────────────────────────────────────────────────────────────────────────────── */
/* ANA İÇERİK (ALT KISIM)                                                          */
/* ────────────────────────────────────────────────────────────────────────────── */
.hero-main-content {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
    z-index: 30;
    max-width: 700px;
    padding: 0 20px;
}

@keyframes contentFade { to { opacity: 1; } }

/* ═══════════════════════════════════════════════════════════════════════════ */
/* HERO CONTENT - Modern Minimal Tasarım                                        */
/* ═══════════════════════════════════════════════════════════════════════════ */

/* Logo Wrapper */
.hero-logo-wrapper {
    margin-bottom: 25px;
    opacity: 0;
    transform: translateY(20px) scale(0.95);
    animation: heroLogoReveal 0.8s cubic-bezier(0.4, 0, 0.2, 1) 5s forwards;
}

.hero-logo {
    height: 90px;
    width: auto;
    filter: brightness(0) invert(1) drop-shadow(0 4px 20px rgba(0,0,0,0.3));
}

@keyframes heroLogoReveal {
    to { 
        opacity: 1; 
        transform: translateY(0) scale(1); 
    }
}

/* Tagline */
.hero-tagline {
    margin-bottom: 30px;
    opacity: 0;
    transform: translateY(15px);
    animation: heroFadeUp 0.6s ease-out 5.2s forwards;
}

.tagline-text {
    display: inline-block;
    font-size: 14px;
    font-weight: 400;
    letter-spacing: 6px;
    color: rgba(255,255,255,0.9);
    text-transform: uppercase;
    position: relative;
    padding: 0 20px;
}

.tagline-text::before,
.tagline-text::after {
    content: '';
    position: absolute;
    top: 50%;
    width: 40px;
    height: 1px;
    background: rgba(255,255,255,0.4);
}

.tagline-text::before {
    right: 100%;
}

.tagline-text::after {
    left: 100%;
}

/* Ayırıcı Çizgi */
.hero-divider {
    width: 60px;
    height: 2px;
    background: linear-gradient(90deg, transparent, #c9a227, transparent);
    margin: 0 auto 30px;
    opacity: 0;
    animation: heroFadeUp 0.5s ease-out 5.35s forwards;
}

/* Açıklama */
.hero-description {
    font-size: 16px;
    font-weight: 300;
    color: rgba(255,255,255,0.85);
    line-height: 1.9;
    margin-bottom: 40px;
    max-width: 550px;
    margin-left: auto;
    margin-right: auto;
    text-align: center;
    opacity: 0;
    transform: translateY(15px);
    animation: heroFadeUp 0.6s ease-out 5.5s forwards;
}

/* Butonlar */
.hero-buttons {
    display: flex;
    gap: 20px;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    opacity: 0;
    transform: translateY(15px);
    animation: heroFadeUp 0.6s ease-out 5.7s forwards;
}

/* Primary Buton */
.hero-btn-primary {
    display: inline-flex;
    align-items: center;
    gap: 10px;
    padding: 16px 36px;
    background: #c9a227;
    color: #fff;
    font-size: 13px;
    font-weight: 500;
    letter-spacing: 2px;
    text-decoration: none;
    text-transform: uppercase;
    border-radius: 4px;
    transition: all 0.3s ease;
    box-shadow: 0 4px 20px rgba(201, 162, 39, 0.3);
}

.hero-btn-primary svg {
    transition: transform 0.3s ease;
}

.hero-btn-primary:hover {
    background: #d4ab2f;
    transform: translateY(-2px);
    box-shadow: 0 8px 30px rgba(201, 162, 39, 0.4);
}

.hero-btn-primary:hover svg {
    transform: translateX(4px);
}

/* Secondary Buton */
.hero-btn-secondary {
    display: inline-flex;
    align-items: center;
    padding: 16px 36px;
    background: transparent;
    color: #fff;
    font-size: 13px;
    font-weight: 500;
    letter-spacing: 2px;
    text-decoration: none;
    text-transform: uppercase;
    border: 1px solid rgba(255,255,255,0.4);
    border-radius: 4px;
    transition: all 0.3s ease;
}

.hero-btn-secondary:hover {
    background: rgba(255,255,255,0.1);
    border-color: rgba(255,255,255,0.7);
    transform: translateY(-2px);
}

@keyframes heroFadeUp {
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes titleSlideUp { to { opacity: 1; transform: translateY(0); } }

.content-desc {
    font-size: 15px;
    color: rgba(255,255,255,0.9);
    line-height: 1.8;
    margin-bottom: 40px;
    max-width: 700px;
    margin-left: auto;
    margin-right: auto;
    text-align: center;
    text-shadow: 1px 1px 3px rgba(0,0,0,0.5);
    opacity: 0;
    animation: contentFade 0.5s ease-out 5.6s forwards;
}

.content-desc strong {
    color: #fff;
    font-weight: 500;
}

.content-buttons {
    display: flex;
    gap: 15px;
    justify-content: center;
    opacity: 0;
    animation: contentFade 0.5s ease-out 5.8s forwards;
}

.btn-main {
    display: inline-flex;
    align-items: center;
    gap: 10px;
    padding: 14px 28px;
    background: linear-gradient(135deg, #5a6677, #4a5567);
    color: #fff;
    text-decoration: none;
    border-radius: 50px;
    font-size: 12px;
    font-weight: 600;
    letter-spacing: 2px;
    transition: all 0.3s ease;
    box-shadow: 0 8px 25px rgba(90,102,119,0.4);
}

.btn-main svg { width: 18px; height: 18px; }
.btn-main:hover {
    transform: translateY(-3px);
    box-shadow: 0 12px 35px rgba(90,102,119,0.5);
}

.btn-outline {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 14px 28px;
    background: transparent;
    color: #fff;
    text-decoration: none;
    border-radius: 50px;
    font-size: 12px;
    font-weight: 600;
    letter-spacing: 2px;
    border: 2px solid rgba(255,255,255,0.3);
    transition: all 0.3s ease;
}

.btn-outline:hover {
    background: rgba(255,255,255,0.1);
    border-color: rgba(255,255,255,0.5);
    transform: translateY(-3px);
}

/* ────────────────────────────────────────────────────────────────────────────── */
/* RESPONSİVE                                                                       */
/* ────────────────────────────────────────────────────────────────────────────── */
@media (max-width: 768px) {
    .blueprint-svg { left: 25%; width: 45%; }
    .bp-line { stroke-width: 1.2; }
    .room-label { font-size: 6px; }
    .dim-text { font-size: 7px; }
    .logo-cee { letter-spacing: 10px; }
    .logo-mimarlik { letter-spacing: 8px; }
    .slogan-hayal { letter-spacing: 5px; }
    .slogan-gercek { letter-spacing: 6px; }
    .hero-logo { height: 70px; }
    .tagline-text { font-size: 11px; letter-spacing: 4px; }
    .tagline-text::before, .tagline-text::after { width: 25px; }
    .hero-description { font-size: 14px; padding: 0 20px; }
    .hero-btn-primary, .hero-btn-secondary { padding: 14px 28px; font-size: 12px; }
    .content-desc { font-size: 13px; }
    .content-desc br { display: none; }
    .content-buttons { flex-direction: column; align-items: center; }
    .btn-main, .btn-outline { width: 100%; max-width: 260px; justify-content: center; }
    .deco-diamond-big { width: 14px; height: 14px; }
    .deco-diamond-small { width: 8px; height: 8px; }
}

@media (max-width: 500px) {
    .blueprint-svg { left: 25%; width: 48%; }
    .bp-line { stroke-width: 1; }
    .room-label { font-size: 5px; }
    .dim-line, .dim-text { display: none; }
    .logo-cee { font-size: 32px; letter-spacing: 8px; }
    .logo-mimarlik { font-size: 9px; letter-spacing: 5px; }
    .slogan-hayal { font-size: 18px; letter-spacing: 4px; }
    .slogan-gercek { font-size: 22px; letter-spacing: 5px; }
    .merge-tagline { font-size: 9px; }
    .hero-logo { height: 55px; }
    .tagline-text { font-size: 9px; letter-spacing: 3px; padding: 0 15px; }
    .tagline-text::before, .tagline-text::after { width: 20px; }
    .hero-description { font-size: 13px; line-height: 1.8; }
    .hero-buttons { flex-direction: column; gap: 12px; }
    .hero-btn-primary, .hero-btn-secondary { width: 100%; max-width: 250px; justify-content: center; }
    .diagonal-line::before, .diagonal-line::after { width: 2px; }
    .deco-diamond-big { width: 12px; height: 12px; }
    .deco-diamond-small { width: 6px; height: 6px; }
}
</style>



<!-- PROJECTS -->
<section id="projeler">
    <div class="section-header">
        <h2 class="section-title" data-tr="Projelerimiz" data-en="Our Projects">PROJE<span class="accent" style="color: #5a6677 !important;">LERİMİZ</span></h2>
        <div class="section-decoration"><span class="dot"></span></div>
    </div>

    <div class="filter-container">
        <button class="filter-btn active" data-filter="all" data-tr="Tümü" data-en="All">Tümü</button>
        <button class="filter-btn" data-filter="villa" data-tr="Villa" data-en="Villa">Villa</button>
        <button class="filter-btn" data-filter="apartman" data-tr="Apartman" data-en="Apartment">Apartman</button>
        <button class="filter-btn" data-filter="ofis" data-tr="Ofis" data-en="Office">Ofis</button>
        <button class="filter-btn" data-filter="ticari" data-tr="Ticari" data-en="Commercial">Ticari</button>
        <button class="filter-btn" data-filter="konut" data-tr="Konut" data-en="Residential">Konut</button>
    </div>

    <div class="projects-grid" id="projectsGrid"></div>
</section>

<!-- ABOUT -->
<section id="hakkimizda">
    <div class="section-header">
        <div class="section-label" data-tr="HAKKIMIZDA" data-en="ABOUT US">HAKKIMIZDA</div>
        <h2 class="section-title" data-tr="Biz Kimiz" data-en="Who We Are">BİZ <span class="accent" style="color: #5a6677 !important;">KİMİZ</span></h2>
        <div class="section-decoration"><span class="dot"></span></div>
    </div>

    <div class="about-content">
        <div class="about-text">
            <h2 data-tr="CEE Mimarlık" data-en="CEE Architecture">CEE Mimarlık</h2>
            <p data-tr="Modern mimarlık anlayışıyla, estetik ve fonksiyonelliği bir araya getiren projeler üretiyoruz. Her proje, müşterilerimizin hayallerini gerçeğe dönüştürmek için özenle tasarlanır." 
               data-en="With a modern architectural approach, we create projects that combine aesthetics and functionality. Each project is carefully designed to turn our clients' dreams into reality.">
                Modern mimarlık anlayışıyla, estetik ve fonksiyonelliği bir araya getiren projeler üretiyoruz. Her proje, müşterilerimizin hayallerini gerçeğe dönüştürmek için özenle tasarlanır.
            </p>
            <p data-tr="Deneyimli ekibimiz, villa, apartman, ofis ve ticari yapılar konusunda uzmanlaşmış olup, her detayda mükemmelliği hedefler." 
               data-en="Our experienced team specializes in villas, apartments, offices and commercial buildings, aiming for perfection in every detail.">
                Deneyimli ekibimiz, villa, apartman, ofis ve ticari yapılar konusunda uzmanlaşmış olup, her detayda mükemmelliği hedefler.
            </p>
        </div>
        <div class="about-text">
            <h2 data-tr="Vizyonumuz" data-en="Our Vision">Vizyonumuz</h2>
            <p data-tr="Sürdürülebilir ve çevre dostu mimari çözümlerle, yaşam kalitesini artıran mekanlar yaratmak. Gelecek nesillere daha güzel bir dünya bırakmak için çalışıyoruz." 
               data-en="Creating spaces that enhance quality of life with sustainable and environmentally friendly architectural solutions. We work to leave a better world for future generations.">
                Sürdürülebilir ve çevre dostu mimari çözümlerle, yaşam kalitesini artıran mekanlar yaratmak. Gelecek nesillere daha güzel bir dünya bırakmak için çalışıyoruz.
            </p>
            <p data-tr="İnovasyon ve geleneksel değerleri harmanlayarak, özgün ve zamansız tasarımlar sunuyoruz." 
               data-en="We offer original and timeless designs by blending innovation and traditional values.">
                İnovasyon ve geleneksel değerleri harmanlayarak, özgün ve zamansız tasarımlar sunuyoruz.
            </p>
        </div>
    </div>
    
    <!-- UZMAN KADRO BUTTON -->
    <div style="text-align: center; margin-top: 60px;">
        <a href="ekip.html" class="team-cta-btn" style="display: inline-flex; align-items: center; gap: 10px; padding: 16px 40px; font-size: 16px; text-decoration: none; background: #5a6677; color: white; border-radius: 50px; font-weight: 600; letter-spacing: 1px; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(212,175,55,0.3);">
            <span data-tr="👥 UZMAN KADROMUZU TANIYIN" data-en="👥 Meet Our Expert Team">👥 UZMAN KADROMUZU TANIYIN</span>
            <span>→</span>
        </a>
    </div>
</section>

<!-- MİMARİ GEÇİŞ BANDI -->
<div class="architect-divider" id="architectDivider" style="position: relative; height: 80px; background: linear-gradient(135deg, var(--divider-color, #5a6677) 0%, var(--divider-color-light, #6b7a8a) 50%, var(--divider-color, #5a6677) 100%); overflow: hidden;">
    <!-- Üst kenar - açılı beyaz -->
    <svg class="divider-top" viewBox="0 0 1440 20" preserveAspectRatio="none" style="position: absolute; top: 0; left: 0; width: 100%; height: 20px;">
        <path d="M0,20 L0,0 L1440,0 L1440,20 L720,10 Z" fill="#ffffff"/>
    </svg>
    
    <!-- Merkez içerik -->
    <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); display: flex; align-items: center; gap: 20px;">
        <div style="width: 60px; height: 1px; background: rgba(255,255,255,0.4);"></div>
        <div style="display: flex; align-items: center; gap: 8px;">
            <div style="width: 8px; height: 8px; border: 2px solid rgba(255,255,255,0.6); transform: rotate(45deg);"></div>
            <div style="width: 12px; height: 12px; background: rgba(255,255,255,0.9); transform: rotate(45deg);"></div>
            <div style="width: 8px; height: 8px; border: 2px solid rgba(255,255,255,0.6); transform: rotate(45deg);"></div>
        </div>
        <div style="width: 60px; height: 1px; background: rgba(255,255,255,0.4);"></div>
    </div>
    
    <!-- Alt kenar - açılı gri -->
    <svg class="divider-bottom" viewBox="0 0 1440 20" preserveAspectRatio="none" style="position: absolute; bottom: 0; left: 0; width: 100%; height: 20px;">
        <path d="M0,0 L720,10 L1440,0 L1440,20 L0,20 Z" fill="#f8f9fa"/>
    </svg>
</div>

<style>
/* Dark mode için divider renkleri */
body.dark-mode .architect-divider .divider-top path {
    fill: #1a1a2e !important;
}
body.dark-mode .architect-divider .divider-bottom path {
    fill: #1e1e30 !important;
}
</style>

<!-- HİZMETLER SECTION - Modern Minimalist -->
<section id="hizmetler" style="padding: 80px 0;">
    <div style="max-width: 1400px; margin: 0 auto; padding: 0 40px;">
        <!-- Başlık -->
        <div class="section-header" style="margin-bottom: 70px; padding: 40px 20px;">
            <div class="section-label" data-tr="HİZMETLERİMİZ" data-en="OUR SERVICES">HİZMETLERİMİZ</div>
            <h2 class="section-title" data-tr="Sunduğumuz Hizmetler" data-en="Services We Offer">SUNDUĞUMUZ <span class="accent" style="color: #5a6677 !important;">HİZMETLER</span></h2>
            <div class="section-decoration"><span class="dot"></span></div>
        </div>
        
        <!-- Hizmet Kartları Grid - Dinamik -->
        <div id="servicesGrid" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 30px;">
            <!-- Hizmetler JavaScript ile yüklenecek -->
        </div>
    </div>
</section>

<script>
// Hizmetleri localStorage'dan yükle ve render et
function loadServicesSection() {
    // SVG outline ikonlar - siyah çizgi
    const svgIcons = [
        '<svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>',
        '<svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"/><rect x="8" y="2" width="8" height="4" rx="1" ry="1"/><line x1="8" y1="10" x2="16" y2="10"/><line x1="8" y1="14" x2="16" y2="14"/><line x1="8" y1="18" x2="12" y2="18"/></svg>',
        '<svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><circle cx="12" cy="12" r="10"/><circle cx="12" cy="8" r="1.5"/><circle cx="8" cy="12" r="1.5"/><circle cx="16" cy="12" r="1.5"/><circle cx="12" cy="16" r="1.5"/></svg>',
        '<svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><rect x="4" y="2" width="16" height="20" rx="2"/><line x1="9" y1="6" x2="9" y2="6.01"/><line x1="15" y1="6" x2="15" y2="6.01"/><line x1="9" y1="10" x2="9" y2="10.01"/><line x1="15" y1="10" x2="15" y2="10.01"/><line x1="9" y1="14" x2="9" y2="14.01"/><line x1="15" y1="14" x2="15" y2="14.01"/><path d="M9 18h6v4H9z"/></svg>',
        '<svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M2 18h20"/><path d="M4 18v-3a8 8 0 0 1 16 0v3"/><circle cx="12" cy="10" r="3"/></svg>',
        '<svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"/><line x1="8" y1="21" x2="16" y2="21"/><line x1="12" y1="17" x2="12" y2="21"/></svg>'
    ];
    
    const defaultServices = [
        { title: 'Mimari Proje', desc: 'Konut, villa, apartman ve ticari yapılar için profesyonel mimari proje hizmeti. 3D görselleştirme ve detaylı teknik çizimler.' },
        { title: 'Ruhsat İşlemleri', desc: 'İnşaat ruhsatı, yapı kullanma izni ve tüm belediye izin süreçlerinin profesyonel takibi ve tamamlanması.' },
        { title: 'İç Mimarlık', desc: 'Yaşam alanlarınız için özel iç mekan tasarımı, mobilya seçimi ve dekorasyon danışmanlığı hizmeti.' },
        { title: 'Statik Proje', desc: 'Deprem yönetmeliğine uygun statik hesaplamalar ve güvenli taşıyıcı sistem projeleri.' },
        { title: 'Şantiye Yönetimi', desc: 'İnşaat sürecinin tamamında profesyonel teknik danışmanlık ve şantiye koordinasyonu.' },
        { title: '3D Görselleştirme', desc: 'Projenizi inşa etmeden önce fotorealistik 3D render ile gerçeğe en yakın şekilde görün.' }
    ];
    
    const saved = localStorage.getItem('cee_services');
    let services = defaultServices;
    
    if (saved) {
        try {
            const parsed = JSON.parse(saved);
            // Eski veriden sadece title ve desc al
            services = parsed.map((s, i) => ({
                title: s.title || s.titleTr || defaultServices[i]?.title || 'Hizmet',
                desc: s.desc || s.descTr || defaultServices[i]?.desc || 'Açıklama'
            }));
        } catch(e) {}
    }
    
    const grid = document.getElementById('servicesGrid');
    if (!grid) return;
    
    // Renk ve boyut ayarlarını al
    const colorSettings = JSON.parse(localStorage.getItem('color_settings') || '{}');
    const iconSize = colorSettings.iconSize || 60;
    
    grid.innerHTML = services.map((s, i) => `
        <div class="service-card-v2" style="background: white; padding: 45px 35px; border-radius: 16px; position: relative; transition: all 0.4s ease; border-bottom: 3px solid transparent; overflow: hidden;">
            <div style="display: flex; align-items: flex-start; margin-bottom: 25px;">
                <div style="width: ${iconSize}px; height: ${iconSize}px; background: #f0f0f0; border-radius: 50%; display: flex; align-items: center; justify-content: center; transition: all 0.3s ease; color: #333;" class="service-icon-v2">
                    ${svgIcons[i] || svgIcons[0]}
                </div>
            </div>
            <h3 style="font-size: 18px; font-weight: 600; color: #1a1a1a; margin: 0 0 15px 0; letter-spacing: 0.5px;">${s.title}</h3>
            <p style="font-size: 14px; line-height: 1.8; color: #666; margin: 0;">${s.desc}</p>
        </div>
    `).join('');
}

// Sayfa yüklendiğinde hizmetleri yükle
document.addEventListener('DOMContentLoaded', loadServicesSection);
</script>

<style>
.service-card-v2 {
    box-shadow: 0 2px 20px rgba(0,0,0,0.04);
}
.service-card-v2:hover {
    transform: translateY(-8px);
    box-shadow: 0 20px 50px rgba(0,0,0,0.1);
    border-bottom-color: #333;
}
.service-card-v2:hover .service-icon-v2 {
    background: #5a6677 !important;
    transform: scale(1.1);
    color: white !important;
}
.service-card-v2:hover .service-icon-v2 svg {
    stroke: white;
}

/* Dark Mode için Service Card */
body.dark-mode .service-card-v2 {
    background: #1e1e2e !important;
    border-color: #333 !important;
}
body.dark-mode .service-card-v2 h3 {
    color: #e2e8f0 !important;
}
body.dark-mode .service-card-v2 p {
    color: #94a3b8 !important;
}
body.dark-mode .service-card-v2 .service-icon-v2 {
    background: #2d2d44 !important;
    color: #94a3b8 !important;
}
body.dark-mode .service-card-v2:hover .service-icon-v2 {
    background: #5a6677 !important;
    color: white !important;
}
body.dark-mode #hizmetler {
    background: #151520 !important;
}

/* HAKKIMIZDA - Dark Mode */
body.dark-mode #hakkimizda {
    background: var(--bg-primary, #1a1a2e) !important;
}
body.dark-mode .about-text h2 {
    color: #e2e8f0 !important;
}
body.dark-mode .about-text p {
    color: #94a3b8 !important;
}

/* İLETİŞİM - Dark Mode */
body.dark-mode #iletisim {
    background: var(--bg-primary, #1a1a2e) !important;
}
body.dark-mode #iletisim h3 {
    color: #e2e8f0 !important;
}
body.dark-mode #iletisim strong {
    color: #e2e8f0 !important;
}
body.dark-mode #iletisim span {
    color: #94a3b8 !important;
}
body.dark-mode .contact-icon-circle {
    background: #2d2d44 !important;
    color: #94a3b8 !important;
}
body.dark-mode .contact-icon-circle:hover {
    background: #5a6677 !important;
    color: white !important;
}

/* İLETİŞİM FORM - Dark Mode */
body.dark-mode #iletisim input,
body.dark-mode #iletisim textarea,
body.dark-mode #iletisim select {
    background: #2d2d44 !important;
    border-color: #3d3d5c !important;
    color: #e2e8f0 !important;
}
body.dark-mode #iletisim input::placeholder,
body.dark-mode #iletisim textarea::placeholder {
    color: #64748b !important;
}
body.dark-mode #iletisim label {
    color: #94a3b8 !important;
}

/* PROJELER - Dark Mode */
body.dark-mode #projeler {
    background: var(--bg-primary, #1a1a2e) !important;
}
body.dark-mode .filter-btn {
    background: #2d2d44 !important;
    color: #94a3b8 !important;
    border-color: #3d3d5c !important;
}
body.dark-mode .filter-btn:hover,
body.dark-mode .filter-btn.active {
    background: linear-gradient(135deg, #5a6677, #7a8694) !important;
    color: white !important;
    border-color: #5a6677 !important;
}
body.dark-mode .project-item {
    background: #2d2d44 !important;
}
body.dark-mode .project-info h3 {
    color: #e2e8f0 !important;
}
body.dark-mode .project-info span {
    color: #94a3b8 !important;
}

@media (max-width: 1024px) {
    #hizmetler > div > div:last-child {
        grid-template-columns: repeat(2, 1fr) !important;
    }
}
@media (max-width: 640px) {
    #hizmetler > div > div:last-child {
        grid-template-columns: 1fr !important;
    }
}
</style>


<!-- REFERANSLAR SECTION - Modern Tasarım -->
<section id="referanslar" style="padding: 100px 0; ">
    <div style="max-width: 1400px; margin: 0 auto; padding: 0 40px;">
        <!-- Başlık -->
        <div class="section-header" style="margin-bottom: 70px; padding: 40px 20px;">
            <div class="section-label" data-tr="REFERANSLARIMIZ" data-en="OUR REFERENCES">REFERANSLARIMIZ</div>
            <h2 class="section-title" data-tr="Çalıştığımız Kurumlar" data-en="Our Partners">ÇALIŞTIĞIMIZ <span class="accent" style="color: #5a6677 !important;">KURUMLAR</span></h2>
            <div class="section-decoration"><span class="dot"></span></div>
        </div>
        
        <!-- Referans Kartları - Dinamik -->
        <div id="referencesGrid" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 25px;">
            <!-- Referanslar JavaScript ile yüklenecek -->
        </div>
    </div>
</section>

<script>
// Referansları localStorage'dan yükle ve render et
function loadReferencesSection() {
    // SVG outline ikonlar - siyah çizgi (28x28 - hizmetlerle aynı)
    const svgIcons = [
        '<svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M3 21h18"/><path d="M5 21V7l7-4 7 4v14"/><path d="M9 21v-4h6v4"/><line x1="9" y1="10" x2="9" y2="10.01"/><line x1="15" y1="10" x2="15" y2="10.01"/><line x1="9" y1="14" x2="9" y2="14.01"/><line x1="15" y1="14" x2="15" y2="14.01"/></svg>',
        '<svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><rect x="4" y="2" width="16" height="20" rx="2"/><line x1="9" y1="6" x2="9" y2="6.01"/><line x1="15" y1="6" x2="15" y2="6.01"/><line x1="9" y1="10" x2="9" y2="10.01"/><line x1="15" y1="10" x2="15" y2="10.01"/><line x1="9" y1="14" x2="9" y2="14.01"/><line x1="15" y1="14" x2="15" y2="14.01"/><path d="M9 18h6v4H9z"/></svg>',
        '<svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>',
        '<svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M3 9l2.5-5h13L21 9"/><path d="M3 9v11a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1V9"/><path d="M9 21V12h6v9"/></svg>'
    ];
    
    const defaultReferences = [
        { title: 'Çorlu Belediyesi', desc: 'Kamu Projeleri' },
        { title: 'Özel Sektör', desc: 'Kurumsal Projeler' },
        { title: 'Konut Projeleri', desc: 'Villa & Apartman' },
        { title: 'Ticari Yapılar', desc: 'İş Merkezi & Mağaza' }
    ];
    
    const saved = localStorage.getItem('cee_references');
    let references = defaultReferences;
    
    if (saved) {
        try {
            const parsed = JSON.parse(saved);
            // Eski veriden sadece title ve desc al
            references = parsed.map((r, i) => ({
                title: r.title || r.titleTr || defaultReferences[i]?.title || 'Referans',
                desc: r.desc || r.descTr || defaultReferences[i]?.desc || 'Açıklama'
            }));
        } catch(e) {}
    }
    
    const grid = document.getElementById('referencesGrid');
    if (!grid) return;
    
    // Renk ve boyut ayarlarını al
    const colorSettings = JSON.parse(localStorage.getItem('color_settings') || '{}');
    const iconSize = colorSettings.iconSize || 60;
    
    grid.innerHTML = references.map((r, i) => `
        <div class="ref-card" style="background: #fafafa; padding: 40px 30px; text-align: center; border-radius: 16px; transition: all 0.4s ease; position: relative; overflow: hidden;">
            <div style="width: ${iconSize}px; height: ${iconSize}px; margin: 0 auto 25px; background: #f0f0f0; border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 5px 20px rgba(0,0,0,0.05); transition: all 0.3s ease; color: #333;" class="ref-icon">
                ${svgIcons[i] || svgIcons[0]}
            </div>
            <h4 style="font-size: 16px; font-weight: 600; color: #1a1a1a; margin: 0 0 8px 0;">${r.title}</h4>
            <p style="font-size: 13px; color: #888; margin: 0;">${r.desc}</p>
        </div>
    `).join('');
}

// Sayfa yüklendiğinde referansları yükle
document.addEventListener('DOMContentLoaded', loadReferencesSection);
</script>

<style>
.ref-card:hover {
    background: white;
    transform: translateY(-5px);
    box-shadow: 0 15px 40px rgba(0,0,0,0.08);
}
.ref-card:hover .ref-icon {
    background: #5a6677 !important;
    transform: scale(1.1);
    color: white !important;
}
.ref-card:hover .ref-icon svg {
    stroke: white;
}
.ref-card:hover .ref-line {
    transform: scaleX(1);
}
@media (max-width: 1024px) {
    #referanslar > div > div:nth-child(2) {
        grid-template-columns: repeat(2, 1fr) !important;
    }
}
@media (max-width: 640px) {
    #referanslar > div > div:nth-child(2) {
        grid-template-columns: 1fr !important;
    }
    #referanslar > div > div:last-child > div:last-child {
        flex-direction: column;
        gap: 30px !important;
    }
    #referanslar > div > div:last-child > div:last-child > div[style*="width: 1px"] {
        width: 50px !important;
        height: 1px !important;
    }
}
</style>


<!-- SSS (FAQ) SECTION -->
<section id="sss" style="padding: 50px 0; background: var(--bg);">
    <div class="section-header">
        <div class="section-label" data-tr="SIK SORULAN SORULAR" data-en="FREQUENTLY ASKED QUESTIONS">SIK SORULAN SORULAR</div>
        <h2 class="section-title" data-tr="Merak Edilenler" data-en="FAQ">MERAK <span class="accent" style="color: #5a6677 !important;">EDİLENLER</span></h2>
        <div class="section-decoration"><span class="dot"></span></div>
    </div>
    
    <div class="faq-container" id="faqContainer" style="max-width: 900px; margin: 0 auto; padding: 0 40px;">
        <!-- SSS JavaScript ile yüklenecek -->
    </div>
</section>

<script>
// Varsayılan SSS
const defaultFaqs = [
    { questionTr: 'Mimari proje süresi ne kadar?', questionEn: 'How long does an architectural project take?', answerTr: 'Proje büyüklüğüne göre değişmekle birlikte, ortalama bir konut projesi için 3-4 hafta sürmektedir. Villa projeleri 4-6 hafta, ticari projeler ise 6-8 hafta arasında tamamlanır.', answerEn: 'Depending on the project size, an average residential project takes 3-4 weeks. Villa projects take 4-6 weeks, while commercial projects are completed in 6-8 weeks.' },
    { questionTr: 'Proje ücreti nasıl hesaplanır?', questionEn: 'How is the project fee calculated?', answerTr: 'Proje ücreti; inşaat alanı, proje türü, detay seviyesi ve ek hizmetlere göre belirlenir. Detaylı fiyat teklifi için bizimle iletişime geçebilirsiniz.', answerEn: 'Project fee is determined based on construction area, project type, level of detail and additional services. Contact us for a detailed quote.' },
    { questionTr: 'Ruhsat işlemleri dahil mi?', questionEn: 'Are permit services included?', answerTr: 'Ruhsat işlemleri ayrı bir hizmet olup, talep edilmesi halinde tüm belediye işlemlerini sizin adınıza takip ediyoruz. Ruhsat süreci ortalama 2-4 ay sürmektedir.', answerEn: 'Permit services are separate. Upon request, we follow up all municipal procedures on your behalf. The permit process takes an average of 2-4 months.' },
    { questionTr: '3D görselleştirme yapıyor musunuz?', questionEn: 'Do you do 3D visualization?', answerTr: 'Evet, fotorealistik 3D render ve animasyon hizmetleri sunuyoruz. Projenizi inşa etmeden önce gerçeğe en yakın şekilde görebilirsiniz.', answerEn: 'Yes, we offer photorealistic 3D render and animation services. You can see your project as close to reality as possible before construction.' },
    { questionTr: 'Şantiye takibi yapıyor musunuz?', questionEn: 'Do you provide site supervision?', answerTr: 'Evet, şantiye danışmanlığı ve teknik koordinasyon hizmetleri veriyoruz. İnşaat sürecinde projeye uygunluğu kontrol eder ve teknik destek sağlarız.', answerEn: 'Yes, we provide site consultancy and technical coordination services. We check project compliance during construction and provide technical support.' }
];

function loadFaqs() {
    const container = document.getElementById('faqContainer');
    if (!container) return;
    
    const savedFaqs = localStorage.getItem('cee_faqs');
    let faqs = defaultFaqs;
    
    if (savedFaqs) {
        try {
            const parsed = JSON.parse(savedFaqs);
            if (parsed.length > 0) faqs = parsed;
        } catch(e) {}
    }
    
    const lang = localStorage.getItem('cee_public_lang') || 'tr';
    
    container.innerHTML = faqs.map(f => `
        <div class="faq-item" style="background: white; padding: 25px 30px; margin-bottom: 15px; border-radius: 8px; cursor: pointer; transition: all 0.3s;" onclick="toggleFaq(this)">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <h3 style="font-size: 16px; font-weight: 600; color: var(--primary); margin: 0;" data-tr="${f.questionTr}" data-en="${f.questionEn}">${lang === 'tr' ? f.questionTr : f.questionEn}</h3>
                <span style="font-size: 24px; color: var(--accent); transition: all 0.3s;">+</span>
            </div>
            <div class="faq-answer" style="max-height: 0; overflow: hidden; transition: all 0.3s;">
                <p style="margin-top: 15px; padding-top: 15px; border-top: 1px solid #e0e0e0; color: var(--secondary); line-height: 1.7;" data-tr="${f.answerTr}" data-en="${f.answerEn}">${lang === 'tr' ? f.answerTr : f.answerEn}</p>
            </div>
        </div>
    `).join('');
}
loadFaqs();
</script>

<section id="iletisim">
    <div class="section-header">
        <div class="section-label" data-tr="İLETİŞİM" data-en="CONTACT">İLETİŞİM</div>
        <h2 class="section-title" data-tr="Bize Ulaşın" data-en="Get In Touch">BİZE <span class="accent" style="color: #5a6677 !important;">ULAŞIN</span></h2>
        <div class="section-decoration"><span class="dot"></span></div>
    </div>
    
    <div style="max-width: 1200px; margin: 0 auto; padding: 0 40px;">
        <div class="contact-grid" style="display: grid; grid-template-columns: 1fr 1fr; gap: 60px; margin-top: 60px;">
            
            <!-- İLETİŞİM BİLGİLERİ -->
            <div>
                <h3 style="font-size: 24px; margin-bottom: 30px; color: var(--accent);">İletişim Bilgileri</h3>
                
                <div style="margin-bottom: 25px;">
                    <a href="javascript:void(0)" onclick="handlePhoneClick()" style="display: flex; align-items: center; gap: 15px; margin-bottom: 10px; text-decoration: none; cursor: pointer;">
                        <div class="contact-icon-circle" style="width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; background: #f0f0f0; color: #333; transition: all 0.3s ease;">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg>
                        </div>
                        <div>
                            <strong style="display: block; color: var(--primary);">Telefon</strong>
                            <span style="color: var(--accent); font-size: 18px;" id="displayPhone">(0537) 327 87 65</span>
                        </div>
                    </a>
                </div>
                
                <div style="margin-bottom: 25px;">
                    <a href="/cdn-cgi/l/email-protection#94f7f1f1f9fdf9f5e6f8fdffd4f3f9f5fdf8baf7fbf9" id="emailLink" style="display: flex; align-items: center; gap: 15px; margin-bottom: 10px; text-decoration: none; cursor: pointer;">
                        <div class="contact-icon-circle" style="width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; background: #f0f0f0; color: #333; transition: all 0.3s ease;">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
                        </div>
                        <div>
                            <strong style="display: block; color: var(--primary);">E-posta</strong>
                            <span style="color: var(--accent);" id="displayEmail"><span class="__cf_email__" data-cfemail="523137373f3b3f33203e3b3912353f333b3e7c313d3f">[email&#160;protected]</span></span>
                        </div>
                    </a>
                </div>

                
                <div style="margin-bottom: 25px;">
                    <a href="https://www.google.com/maps/search/?api=1&query=CEE+Mimarlık+Hatip+Ali+Osman+Çelebi+Blv+No:52+Çorlu+Tekirdağ" target="_blank" id="addressLink" style="display: flex; align-items: center; gap: 15px; margin-bottom: 10px; text-decoration: none; cursor: pointer;">
                        <div class="contact-icon-circle" style="width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; background: #f0f0f0; color: #333; transition: all 0.3s ease;">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></svg>
                        </div>
                        <div>
                            <strong style="display: block; color: var(--primary);">Adres</strong>
                            <span style="color: var(--secondary); line-height: 1.6;" id="displayAddress">CEE MİMARLIK, Hatip, Ali Osman Çelebi Blv. No:52<br>A Blok Kat 1 No:3, 59860 Çorlu/Tekirdağ</span>
                        </div>
                    </a>
                </div>
                
                <div style="margin-bottom: 25px;">
                    <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 10px;">
                        <div class="contact-icon-circle" style="width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; background: #f0f0f0; color: #333; transition: all 0.3s ease;">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                        </div>
                        <div>
                            <strong style="display: block; color: var(--primary);">Çalışma Saatleri</strong>
                            <span style="color: var(--secondary); line-height: 1.6;" id="displayHours">Pazartesi - Cuma: 09:00 - 18:00<br>Cumartesi - Pazar: Kapalı</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- İLETİŞİM FORMU -->
            <div>
                <h3 style="font-size: 24px; margin-bottom: 30px; color: var(--accent);">Mesaj Gönderin</h3>
                
                <form id="contactForm" style="display: flex; flex-direction: column; gap: 20px;">
                    <div>
                        <input 
                            type="text" 
                            id="contactName" 
                            placeholder="Adınız Soyadınız *" 
                            required 
                            maxlength="50"
                            style="width: 100%; padding: 15px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 14px; transition: all 0.3s;"
                            onfocus="this.style.borderColor=getComputedStyle(document.documentElement).getPropertyValue('--icon-bg').trim() || '#5a6677'"
                            onblur="this.style.borderColor='#e0e0e0'"
                        >
                    </div>
                    
                    <div>
                        <input 
                            type="email" 
                            id="contactEmail" 
                            placeholder="E-posta Adresiniz *" 
                            required 
                            maxlength="100"
                            style="width: 100%; padding: 15px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 14px; transition: all 0.3s;"
                            onfocus="this.style.borderColor=getComputedStyle(document.documentElement).getPropertyValue('--icon-bg').trim() || '#5a6677'"
                            onblur="this.style.borderColor='#e0e0e0'"
                        >
                    </div>
                    
                    <div>
                        <input 
                            type="tel" 
                            id="contactPhone" 
                            placeholder="Telefon Numaranız" 
                            maxlength="20"
                            style="width: 100%; padding: 15px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 14px; transition: all 0.3s;"
                            onfocus="this.style.borderColor=getComputedStyle(document.documentElement).getPropertyValue('--icon-bg').trim() || '#5a6677'"
                            onblur="this.style.borderColor='#e0e0e0'"
                        >
                    </div>
                    
                    <div>
                        <select 
                            id="contactSubject" 
                            style="width: 100%; padding: 15px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 14px; transition: all 0.3s;"
                            onfocus="this.style.borderColor=getComputedStyle(document.documentElement).getPropertyValue('--icon-bg').trim() || '#5a6677'"
                            onblur="this.style.borderColor='#e0e0e0'"
                        >
                            <option value="" data-tr="Konu Seçin" data-en="Select Subject">Konu Seçin</option>
                            <option value="Mimari Proje" data-tr="Mimari Proje" data-en="Architectural Project">Mimari Proje</option>
                            <option value="Villa Tasarımı" data-tr="Villa Tasarımı" data-en="Villa Design">Villa Tasarımı</option>
                            <option value="Apartman Projesi" data-tr="Apartman Projesi" data-en="Apartment Project">Apartman Projesi</option>
                            <option value="Ticari Yapı" data-tr="Ticari Yapı" data-en="Commercial Building">Ticari Yapı</option>
                            <option value="Ruhsat İşlemleri" data-tr="Ruhsat İşlemleri" data-en="Permit Services">Ruhsat İşlemleri</option>
                            <option value="3D Görselleştirme" data-tr="3D Görselleştirme" data-en="3D Visualization">3D Görselleştirme</option>
                            <option value="DiÄŸer" data-tr="DiÄŸer" data-en="Other">DiÄŸer</option>
                        </select>
                    </div>
                    
                    <div>
                        <textarea 
                            id="contactMessage" 
                            data-tr="Mesajınız *" 
                            data-en="Your Message *"
                            placeholder="Mesajınız *" 
                            required 
                            rows="5" 
                            maxlength="1000"
                            style="width: 100%; padding: 15px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 14px; resize: vertical; transition: all 0.3s;"
                            onfocus="this.style.borderColor=getComputedStyle(document.documentElement).getPropertyValue('--icon-bg').trim() || '#5a6677'"
                            onblur="this.style.borderColor='#e0e0e0'"
                        ></textarea>
                    </div>
                    
                    <div id="formStatus" style="display: none; padding: 12px; border-radius: 8px; text-align: center; font-weight: 600;"></div>
                    
                    <button 
                        type="submit" 
                        id="submitBtn"
                        class="contact-submit-btn"
                        style="padding: 16px 40px; background: linear-gradient(135deg, #5a6677, #7a8694); color: white; border: none; border-radius: 8px; font-size: 16px; font-weight: 600; cursor: pointer; transition: all 0.3s;"
                        onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 20px rgba(212,175,55,0.4)'"
                        onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'"
                        data-tr="📤 Mesaj Gönder" data-en="📤 Send Message"
                    >
                        📤 Mesaj Gönder
                    </button>
                </form>
            </div>
        </div>
    </div>
</section>

<!-- OFİS KONUMU - BİZE ULAŞIN ALTINA -->
<section id="ofis-konum" style="padding: 60px 0; ">
    <div class="section-header" style="margin-bottom: 40px; padding: 40px 20px;">
        <div class="section-label" data-tr="NEREDEYIZ" data-en="WHERE WE ARE">NEREDEYIZ</div>
        <h2 class="section-title" data-tr="Ofis Konumumuz" data-en="Our Office Location">OFİS <span class="accent" style="color: #5a6677 !important;">KONUMUMUZ</span></h2>
        <div class="section-decoration"><span class="dot"></span></div>
    </div>
    
    <div style="max-width: 1600px; margin: 0 auto; padding: 0 40px; position: relative;">
        <!-- Harita -->
        <div style="border-radius: 16px; overflow: hidden; box-shadow: 0 10px 40px rgba(0,0,0,0.1);">
            <iframe 
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3009.26!2d27.7831933!3d41.1570005!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zNDHCsDA5JzI1LjIiTiAyN8KwNDYnNTkuNSJF!5e0!3m2!1str!2str!4v1" 
                width="100%" 
                height="500" 
                style="border:0; display: block;" 
                allowfullscreen="" 
                loading="lazy">
            </iframe>
        </div>
        
        <!-- Konum İkonu - Harita üzerinde -->
        <div class="map-location-badge" style="position: absolute; top: 20px; right: 60px; background: white; padding: 12px 16px; border-radius: 50px; box-shadow: 0 4px 20px rgba(0,0,0,0.15); display: flex; align-items: center; gap: 10px; z-index: 10;">
            <div style="width: 36px; height: 36px; background: linear-gradient(135deg, #5a6677 0%, #7a8694 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 3px 10px rgba(212,175,55,0.4);">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                    <circle cx="12" cy="10" r="3"></circle>
                </svg>
            </div>
            <span style="font-weight: 600; color: #1a1a1a; font-size: 14px;">CEE Mimarlık</span>
        </div>
    </div>
    
    <!-- Bilgiler -->
    <div style="max-width: 800px; margin: 30px auto 0; padding: 0 20px; text-align: center;">
        <p style="color: #333; font-size: 15px; margin-bottom: 8px;" data-tr="Adres: CEE MİMARLIK, Hatip, Ali Osman Çelebi Blv. No:52 A Blok Kat 1 No:3, 59860 Çorlu/Tekirdağ" data-en="Address: CEE ARCHITECTURE, Hatip, Ali Osman Celebi Blv. No:52 A Block Floor 1 No:3, 59860 Corlu/Tekirdag">
            <strong data-tr="Adres:" data-en="Address:">Adres:</strong> CEE MİMARLIK, Hatip, Ali Osman Çelebi Blv. No:52 A Blok Kat 1 No:3, 59860 Çorlu/Tekirdağ
        </p>
        <p style="color: #333; font-size: 15px;" id="mapPhone">
            <strong data-tr="Telefon:" data-en="Phone:">Telefon:</strong> <span id="displayPhoneMap">(0537) 327 87 65</span>
        </p>
        <a href="https://www.google.com/maps/dir//41.1570005,27.7831933" target="_blank" 
           class="directions-btn"
           style="display: inline-flex; align-items: center; gap: 8px; padding: 12px 28px; background: linear-gradient(135deg, #5a6677, #7a8694); color: white; border-radius: 50px; text-decoration: none; font-weight: 600; font-size: 14px; margin-top: 15px; transition: all 0.3s; box-shadow: 0 4px 15px rgba(212,175,55,0.3);"
           onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 20px rgba(212,175,55,0.4)'"
           onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 15px rgba(212,175,55,0.3)'"
           data-tr="🧭 Yol Tarifi Al" data-en="🧭 Get Directions">
            🧭 Yol Tarifi Al
        </a>
    </div>
</section>



<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
// Telefon tıklama - Mobilde arama, bilgisayarda WhatsApp
function handlePhoneClick() {
    const contactSettings = JSON.parse(localStorage.getItem('contact_settings') || '{}');
    const phoneNumber = contactSettings.phone || '(0537) 327 87 65';
    const whatsappNumber = contactSettings.whatsapp || phoneNumber;
    
    const cleanPhone = phoneNumber.replace(/[^0-9]/g, '');
    const cleanWhatsapp = whatsappNumber.replace(/[^0-9]/g, '');
    
    const fullPhone = cleanPhone.startsWith('0') ? '9' + cleanPhone : (cleanPhone.startsWith('90') ? cleanPhone : '90' + cleanPhone);
    const fullWhatsapp = cleanWhatsapp.startsWith('0') ? '9' + cleanWhatsapp : (cleanWhatsapp.startsWith('90') ? cleanWhatsapp : '90' + cleanWhatsapp);
    
    // Mobil cihaz kontrolü
    const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
    
    if (isMobile) {
        // Mobilde doÄŸrudan arama yap
        window.location.href = 'tel:+' + fullPhone;
    } else {
        // Bilgisayarda WhatsApp aç
        window.open('https://wa.me/' + fullWhatsapp + '?text=Merhaba, CEE Mimarlık web sitesinden ulaşıyorum.', '_blank');
    }
}

// İletişim bilgilerini localStorage'dan yükle
function loadContactInfo() {
    const contactSettings = JSON.parse(localStorage.getItem('contact_settings') || '{}');
    
    if (contactSettings.phone) {
        const phoneEl = document.getElementById('displayPhone');
        if (phoneEl) phoneEl.textContent = contactSettings.phone;
        
        const phoneMapEl = document.getElementById('displayPhoneMap');
        if (phoneMapEl) phoneMapEl.textContent = contactSettings.phone;
    }
    
    if (contactSettings.email) {
        const emailEl = document.getElementById('displayEmail');
        const emailLink = document.getElementById('emailLink');
        if (emailEl) emailEl.textContent = contactSettings.email;
        if (emailLink) emailLink.href = 'mailto:' + contactSettings.email;
    }
    
    if (contactSettings.address) {
        const addressEl = document.getElementById('displayAddress');
        if (addressEl) addressEl.innerHTML = contactSettings.address.replace(/\n/g, '<br>');
    }
    
    if (contactSettings.workHours || contactSettings.weekend) {
        const hoursEl = document.getElementById('displayHours');
        if (hoursEl) {
            let hoursText = contactSettings.workHours || 'Pazartesi - Cuma: 09:00 - 18:00';
            if (contactSettings.weekend) hoursText += '<br>' + contactSettings.w   }
}

// Sayfa yüklendiğinde iletişim bilgilerini yükle
document.addEventListener('DOMContentLoaded', loadContactInfo);

// Menü öğelerini localStorage'dan yükle
document.addEventListener('DOMContentLoaded', function() {
    const saved = localStorage.getItem('cee_menu_items');
    if (!saved) return; // Kayıtlı menü yoksa varsayılanı kullan
    
    try {
        const menuItems = JSON.parse(saved);
        const nav = document.getElementById('mainNav');
        if (!nav || !menuItems.length) return;
        
        // E-Hizmetler dropdown'unu kaydet (varsa)
        const eHizmetler = nav.querySelector('.nav-dropdown');
        const eHizmetlerHTML = eHizmetler ? eHizmetler.outerHTML : '';
        
        // Sadece aktif menü öğelerini göster
        const activeItems = menuItems.filter(item => item.active);
        
        // İletişim'den önceki menü öğelerini oluştur
        let menuHTML = activeItems.map(item => {
            // E-Hizmetler veya İletişim değilse normal link oluştur
            if (item.name.toLowerCase().includes('e-hizmet')) return '';
            
            const isExternal = item.link.includes('.html') && !item.link.includes('index');
            return `<a href="${item.link}" ${isExternal ? '' : 'onclick="closeMobileMenu()"'}>${item.name}</a>`;
        }).filter(Boolean).join('');
        
        // E-Hizmetler dropdown'unu İletişim'den önce ekle
        if (eHizmetlerHTML && menuHTML.includes('İletişim')) {
            menuHTML = menuHTML.replace(/<a href="#iletisim"/i, eHizmetlerHTML + '<a href="#iletisim"');
        } else if (eHizmetlerHTML) {
            menuHTML += eHizmetlerHTML;
        }
        
        nav.innerHTML = menuHTML;
    } catch (e) {
        console.log('Menü yüklenemedi');
    }
});

// Simge renklerini localStorage'dan yükle
document.addEventListener('DOMContentLoaded', function() {
    const colorSettings = JSON.parse(localStorage.getItem('color_settings') || '{}');
    
    if (colorSettings.iconBg) {
        const accentColor = colorSettings.iconBg;
        const accentLight = lightenColor(accentColor, 15);
        const gradientBg = `linear-gradient(135deg, ${accentColor}, ${accentLight})`;
        
        // Service, Reference ve Contact ikonlarının arka plan rengini güncelle
        document.querySelectorAll('.service-icon-v2, .ref-icon, .contact-icon-circle').forEach(icon => {
            icon.style.background = gradientBg;
        });
        
        // Biraz gecikmeyle tekrar güncelle (dinamik yüklenen içerik için)
        setTimeout(() => {
            document.querySelectorAll('.service-icon-v2, .ref-icon, .contact-icon-circle').forEach(icon => {
                icon.style.setProperty('background', gradientBg, 'important');
            });
        }, 500);
        
        setTimeout(() => {
            document.querySelectorAll('.service-icon-v2, .ref-icon, .contact-icon-circle').forEach(icon => {
                icon.style.setProperty('background', gradientBg, 'important');
            });
        }, 1000);
    }
    
    if (colorSettings.iconStroke) {
        // Service ve Reference ikonlarının stroke rengini güncelle
        document.querySelectorAll('.service-icon-v2 svg, .ref-icon svg').forEach(svg => {
            svg.style.stroke = colorSettings.iconStroke;
        });
    }
    
    // Footer ayarlarını yükle
    const footerSettings = JSON.parse(localStorage.getItem('cee_footer_settings') || '{}');
    const footerTitle = document.querySelector('.footer-logo h3, .footer h3');
    if (footerTitle) {
        if (footerSettings.titleSize) footerTitle.style.fontSize = footerSettings.titleSize;
        if (footerSettings.titleWeight) footerTitle.style.fontWeight = footerSettings.titleWeight;
    }
});

document.getElementById('contactForm').addEventListener('submit', async function(e) {
    e.preventDefault();
    
    const name = document.getElementById('contactName').value.trim();
    const email = document.getElementById('contactEmail').value.trim();
    const phone = document.getElementById('contactPhone').value.trim();
    const subject = document.getElementById('contactSubject').value;
    const message = document.getElementById('contactMessage').value.trim();
    const statusEl = document.getElementById('formStatus');
    const submitBtn = e.target.querySelector('button[type="submit"]');
    
    // Tüm alanların dolu olduğunu kontrol et
    if (!name || !email || !phone || !subject || !message) {
        statusEl.textContent = '⚠️ Lütfen tüm zorunlu alanları doldurun.';
        statusEl.style.background = '#ff5252';
        statusEl.style.color = 'white';
        statusEl.style.display = 'block';
        return;
    }
    
    // Rate limiting kontrolü
    if (!RateLimiter.checkLimit('contact_form', 3, 300000)) { // 3 mesaj/5 dakika
        const wait = RateLimiter.getTimeUntilReset('contact_form', 300000);
        statusEl.textContent = `⚠️ Çok fazla mesaj gönderdiniz. ${Math.ceil(wait/60)} dakika bekleyin.`;
        statusEl.style.background = '#ff5252';
        statusEl.style.color = 'white';
        statusEl.style.display = 'block';
        return;
    }
    
    // Validation
    if (!SecurityManager.validateEmail(email)) {
        statusEl.textContent = '⚠️ Geçerli bir e-posta adresi girin.';
        statusEl.style.background = '#ff5252';
        statusEl.style.color = 'white';
        statusEl.style.display = 'block';
        return;
    }
    
    if (!InputValidator.validateSafeText(message)) {
        statusEl.textContent = '⚠️ Mesaj geçersiz karakterler içeriyor.';
        statusEl.style.background = '#ff5252';
        statusEl.style.color = 'white';
        statusEl.style.display = 'block';
        return;
    }
    
    // Güvenlik - Sanitize
    const safeName = SecurityManager.sanitizeInput(name);
    const safeMessage = SecurityManager.sanitizeInput(message);
    
    // Disable button
    submitBtn.disabled = true;
    submitBtn.textContent = '⏳ Gönderiliyor...';
    
    // Analytics
    if (typeof trackEvent === 'function') {
        trackEvent('Form', 'contact_form_submit', subject || 'no_subject');
    }
    
    // LocalStorage'a kaydet + Admin panele bildirim
    try {
        const formData = {
            id: Date.now(),
            name: safeName,
            email: email,
            phone: phone,
            subject: subject,
            message: safeMessage,
            timestamp: new Date().toISOString(),
            read: false
        };
        
        // Admin paneline mesaj kaydet
        let messages = JSON.parse(localStorage.getItem('contact_messages') || '[]');
        messages.unshift(formData); // En yeni baÅŸa ekle
        localStorage.setItem('contact_messages', JSON.stringify(messages));
        
        // Success
        statusEl.textContent = '✅ Mesajınız başarıyla gönderildi! En kısa sürede dönüş yapacağız.';
        statusEl.style.background = '#4CAF50';
        statusEl.style.color = 'white';
        statusEl.style.display = 'block';
        
        // Facebook Pixel
        if (typeof fbq === 'function') {
            fbq('track', 'Lead');
        }
        
        // Form reset
        this.reset();
        
        // Hide status after 5 seconds
        setTimeout(() => {
            statusEl.style.display = 'none';
        }, 5000);
        
    } catch (error) {
        statusEl.textContent = '❌ Bir hata oluştu. Lütfen tekrar deneyin veya bizi arayın.';
        statusEl.style.background = '#ff5252';
        statusEl.style.color = 'white';
        statusEl.style.display = 'block';
    } finally {
        submitBtn.disabled = false;
        submitBtn.textContent = '📤 Mesaj Gönder';
    }
});
</script>

<section>

<!-- UNIFIED CHAT BUTTON -->
<div class="unified-chat-btn" onclick="toggleChatMenu()" id="unifiedChatBtn">
    <svg viewBox="0 0 24 24" fill="white" width="26" height="26">
        <path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z"/>
        <path d="M7 9h2v2H7zm4 0h2v2h-2zm4 0h2v2h-2z"/>
    </svg>
    <div class="chat-badge" id="chatBadge">2</div>
</div>

<!-- FLOATING MENU - Butondan bağımsız -->
<div class="chat-menu" id="chatMenu">
    <div class="chat-menu-item" onclick="openAiAssistant(event)">
        <div class="chat-menu-icon ai-gradient">
            <svg viewBox="0 0 24 24" fill="white" width="20" height="20">
                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
                <circle cx="8.5" cy="12" r="1"/>
                <circle cx="12" cy="12" r="1"/>
                <circle cx="15.5" cy="12" r="1"/>
            </svg>
        </div>
        <div class="chat-menu-content">
            <div class="chat-menu-title" data-tr="CEE AI Asistan" data-en="CEE AI Assistant">CEE AI Asistan</div>
            <div class="chat-menu-subtitle" data-tr="Mimarlık & Mevzuat Danışmanı" data-en="Architecture & Regulation Consultant">Mimarlık & Mevzuat Danışmanı</div>
        </div>
        <div class="chat-menu-badge">AI</div>
    </div>
    
    <div class="chat-menu-divider"></div>
    
    <div class="chat-menu-item" onclick="openWhatsAppDirect(event)">
        <div class="chat-menu-icon whatsapp-gradient">
            <svg viewBox="0 0 24 24" fill="white" width="20" height="20">
                <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/>
            </svg>
        </div>
        <div class="chat-menu-content">
            <div class="chat-menu-title" data-tr="WhatsApp" data-en="WhatsApp">WhatsApp</div>
            <div class="chat-menu-subtitle" data-tr="Müşteri temsilcisiyle görüş" data-en="Talk to representative">Müşteri temsilcisiyle görüş</div>
        </div>
        <div class="chat-menu-badge online">●</div>
    </div>
</div>

<!-- AI ASSISTANT PANEL - SAÄž TARAFTA -->
<div class="ai-assistant-panel" id="aiAssistantPanel">
    <div class="ai-assistant-header">
        <div style="display: flex; align-items: center; gap: 12px;">
            <div class="ai-assistant-logo">🏗️</div>
            <div>
                <div style="font-weight: 600; font-size: 16px;">CEE MİMARLIK</div>
                <div style="font-size: 11px; opacity: 0.8;">Mimarlık & Mevzuat Asistanı</div>
            </div>
        </div>
        <button onclick="closeAiAssistant()" style="background: none; border: none; color: white; font-size: 28px; cursor: pointer; padding: 0; width: 35px; height: 35px; line-height: 1;">×</button>
    </div>
    
    <div class="ai-assistant-messages" id="aiAssistantMessages">
        <div class="ai-assistant-welcome">
            <div style="font-size: 48px; margin-bottom: 15px;">👋</div>
            <h3>HoÅŸgeldiniz!</h3>
            <p>Ben CEE MİMARLIK'ın müşteri temsilcisiyim. Mimarlık ve yapı mevzuatı hakkında her türlü sorunuzu yanıtlayabilirim.</p>
            
            <div class="quick-topics">
                <div class="quick-topic" onclick="askAiQuestion('Piyes ölçüleri nedir?')">📐 Piyes Ölçüleri</div>
                <div class="quick-topic" onclick="askAiQuestion('Yangın merdiveni ölçüleri')">🔥 Yangın Merdiveni</div>
                <div class="quick-topic" onclick="askAiQuestion('Merdiven ölçüleri')">🪜 Merdiven</div>
                <div class="quick-topic" onclick="askAiQuestion('Emsal hesaplama')">📊 Emsal</div>
                <div class="quick-topic" onclick="askAiQuestion('Sığınak zorunluluğu')">🛡️ Sığınak</div>
                <div class="quick-topic" onclick="askAiQuestion('Isı yalıtımı')">🏠 Isı Yalıtımı</div>
                <div class="quick-topic" onclick="askAiQuestion('Otopark ölçüleri')">🚗 Otopark</div>
                <div class="quick-topic" onclick="askAiQuestion('Mutfak tasarımı')">🍳 Mutfak</div>
                <div class="quick-topic" onclick="askAiQuestion('Kapı pencere ölçüleri')">🚪 Kapı/Pencere</div>
            </div>
            
            <div class="contact-info">
                <strong>📞 Hemen Ulaşın:</strong><br>
                (0537) 327 87 65<br>
                <small>Hatip, Ali Osman Çelebi Blv. No:52 A Blok Kat 1 No:3, 59860 Çorlu/Tekirdağ</small>
            </div>
        </div>
    </div>
    
    <div class="ai-assistant-input">
        <input type="text" id="aiAssistantInput" placeholder="Mimarlık sorunuzu yazın..." 
               onkeypress="if(event.key==='Enter') sendAiAssistantMessage()">
        <button onclick="sendAiAssistantMessage()">
            <svg viewBox="0 0 24 24" fill="white" width="20" height="20">
                <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
            </svg>
        </button>
    </div>
</div>

<!-- AI CHAT WINDOW -->
<div class="ai-chat-window" id="aiChatWindow">
    <div class="ai-chat-header">
        <div style="display: flex; align-items: center; gap: 12px;">
            <div class="ai-avatar">
                <svg viewBox="0 0 24 24" fill="white" width="20" height="20">
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"/>
                </svg>
            </div>
            <div>
                <div style="font-weight: 600;" data-tr="Mimarlık Asistanı" data-en="Architecture Assistant">Mimarlık Asistanı</div>
                <div style="font-size: 11px; opacity: 0.8;" data-tr="AI destekli" data-en="AI powered">AI destekli</div>
            </div>
        </div>
        <button onclick="toggleAiChat()" style="background: none; border: none; color: white; font-size: 24px; cursor: pointer; padding: 0; width: 30px; height: 30px;">×</button>
    </div>
    
    <div class="ai-chat-messages" id="aiChatMessages">
        <div class="ai-message">
            <div class="ai-message-avatar">AI</div>
            <div class="ai-message-content">
                <p data-tr="Merhaba! 👋 Mimarlık hakkında sorularınızı yanıtlayabilirim. Size nasıl yardımcı olabilirim?" 
                   data-en="Hello! 👋 I can answer your questions about architecture. How can I help you?">
                    Merhaba! 👋 Mimarlık hakkında sorularınızı yanıtlayabilirim. Size nasıl yardımcı olabilirim?
                </p>
            </div>
        </div>
        
        <!-- QUICK QUESTIONS -->
        <div class="ai-quick-questions" id="aiQuickQuestions">
            <div class="ai-quick-question" onclick="askQuestion(this.innerText)">
                🏡 Villa projeleri hakkında bilgi
            </div>
            <div class="ai-quick-question" onclick="askQuestion(this.innerText)">
                📐 Tasarım süreci nasıl işler?
            </div>
            <div class="ai-quick-question" onclick="askQuestion(this.innerText)">
                🛋️ İç mimarlık hizmetleri
            </div>
            <div class="ai-quick-question" onclick="askQuestion(this.innerText)">
                💰 Proje maliyeti hesaplama
            </div>
        </div>
    </div>
    
    <div class="ai-chat-input">
        <input type="text" id="aiChatInput" placeholder="Sorunuzu yazın..." 
               data-tr-placeholder="Sorunuzu yazın..." 
               data-en-placeholder="Type your question..."
               onkeypress="if(event.key==='Enter') sendAiMessage()">
        <button onclick="sendAiMessage()" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border: none; border-radius: 50%; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: transform 0.2s;">
            <svg viewBox="0 0 24 24" fill="white" width="20" height="20">
                <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
            </svg>
        </button>
    </div>
</div>

<!-- DWG TOOLS MODAL -->
<div class="dwg-tools-modal" id="dwgToolsModal">
    <div class="dwg-tools-container">
        <button class="modal-close-btn" onclick="closeDwgTools()">×</button>
        
        <div class="dwg-tools-header">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="32" height="32">
                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                <polyline points="14 2 14 8 20 8"/>
                <path d="M12 18v-6M9 15l3 3 3-3"/>
            </svg>
            <h2 data-tr="DWG Araçları" data-en="DWG Tools">DWG Araçları</h2>
            <p data-tr="DWG dosyalarınızı dönüştürün ve versiyon düşürün" data-en="Convert and downgrade your DWG files">DWG dosyalarınızı dönüştürün ve versiyon düşürün</p>
        </div>

        <div class="dwg-tools-tabs">
            <button class="dwg-tab active" onclick="switchDwgTab('converter')" data-tab="converter">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="20" height="20">
                    <circle cx="12" cy="12" r="10"/>
                    <path d="M8 12h8M12 8v8"/>
                </svg>
                <span data-tr="Format Dönüştürücü" data-en="Format Converter">Format Dönüştürücü</span>
            </button>
            <button class="dwg-tab" onclick="switchDwgTab('downgrade')" data-tab="downgrade">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="20" height="20">
                    <path d="M12 5v14M19 12l-7 7-7-7"/>
                </svg>
                <span data-tr="Versiyon Düşürme" data-en="Version Downgrade">Versiyon Düşürme</span>
            </button>
        </div>

        <!-- FORMAT CONVERTER TAB -->
        <div class="dwg-tab-content active" id="converterTab">
            <div class="upload-area" id="converterUpload" onclick="document.getElementById('converterFileInput').click()">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="48" height="48">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M17 8l-5-5-5 5M12 3v12"/>
                </svg>
                <h3 data-tr="DWG Dosyası Yükle" data-en="Upload DWG File">DWG Dosyası Yükle</h3>
                <p data-tr="Tıklayın veya sürükleyip bırakın" data-en="Click or drag and drop">Tıklayın veya sürükleyip bırakın</p>
                <span class="file-info">Max 50MB • DWG, DXF</span>
            </div>
            <input type="file" id="converterFileInput" accept=".dwg,.dxf" style="display: none;" onchange="handleConverterFile(this.files[0])">
            
            <div class="file-preview" id="converterPreview" style="display: none;">
                <div class="file-icon">📐</div>
                <div class="file-details">
                    <div class="file-name" id="converterFileName"></div>
                    <div class="file-size" id="converterFileSize"></div>
                </div>
                <button class="remove-file-btn" onclick="removeConverterFile()">×</button>
            </div>

            <div class="format-selector">
                <label data-tr="Dönüştürülecek Format:" data-en="Convert to:">Dönüştürülecek Format:</label>
                <div class="format-options">
                    <label class="format-option">
                        <input type="radio" name="outputFormat" value="pdf" checked>
                        <span class="format-card">
                            <svg viewBox="0 0 24 24" fill="currentColor" width="32" height="32">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"/>
                                <path d="M14 2v6h6"/>
                            </svg>
                            <strong>PDF</strong>
                            <span class="format-desc">Evrensel Format</span>
                        </span>
                    </label>
                    <label class="format-option">
                        <input type="radio" name="outputFormat" value="png">
                        <span class="format-card">
                            <svg viewBox="0 0 24 24" fill="currentColor" width="32" height="32">
                                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                                <circle cx="8.5" cy="8.5" r="1.5"/>
                                <path d="M21 15l-5-5L5 21"/>
                            </svg>
                            <strong>PNG</strong>
                            <span class="format-desc">Saydam Arka Plan</span>
                        </span>
                    </label>
                    <label class="format-option">
                        <input type="radio" name="outputFormat" value="jpeg">
                        <span class="format-card">
                            <svg viewBox="0 0 24 24" fill="currentColor" width="32" height="32">
                                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                                <circle cx="8.5" cy="8.5" r="1.5"/>
                                <path d="M21 15l-5-5L5 21"/>
                            </svg>
                            <strong>JPEG</strong>
                            <span class="format-desc">Yüksek Kalite</span>
                        </span>
                    </label>
                </div>
            </div>

            <div class="quality-settings">
                <label data-tr="Kalite Ayarları:" data-en="Quality Settings:">Kalite Ayarları:</label>
                <div class="quality-slider-container">
                    <input type="range" min="1" max="4" value="3" class="quality-slider" id="qualitySlider" oninput="updateQualityLabel(this.value)">
                    <div class="quality-labels">
                        <span data-tr="Düşük" data-en="Low">Düşük</span>
                        <span data-tr="Orta" data-en="Medium">Orta</span>
                        <span data-tr="Yüksek" data-en="High">Yüksek</span>
                        <span data-tr="En Yüksek" data-en="Maximum">En Yüksek</span>
                    </div>
                    <div class="current-quality" id="currentQuality">Yüksek Kalite</div>
                </div>
            </div>

            <button class="convert-btn ripple" onclick="convertDwgFile()" id="convertBtn" disabled>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="20" height="20">
                    <path d="M21 12a9 9 0 1 1-9-9"/>
                    <path d="M12 3v9l4 4"/>
                </svg>
                <span data-tr="Dönüştür" data-en="Convert">Dönüştür</span>
            </button>

            <div class="conversion-progress" id="converterProgress" style="display: none;">
                <div class="progress-bar">
                    <div class="progress-fill" id="converterProgressBar"></div>
                </div>
                <div class="progress-text" id="converterProgressText">Dönüştürülüyor... 0%</div>
            </div>

            <div class="conversion-result" id="converterResult" style="display: none;">
                <div class="result-success">
                    <svg viewBox="0 0 24 24" fill="none" stroke="#10b981" stroke-width="2" width="48" height="48">
                        <circle cx="12" cy="12" r="10"/>
                        <path d="M9 12l2 2 4-4"/>
                    </svg>
                    <h3 data-tr="Dönüştürme Başarılı!" data-en="Conversion Successful!">Dönüştürme Başarılı!</h3>
                    <button class="download-btn ripple" id="converterDownloadBtn">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="20" height="20">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5 5 5-5M12 15V3"/>
                        </svg>
                        <span data-tr="Dosyayı İndir" data-en="Download File">Dosyayı İndir</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- VERSION DOWNGRADE TAB -->
        <div class="dwg-tab-content" id="downgradeTab">
            <div class="upload-area" id="downgradeUpload" onclick="document.getElementById('downgradeFileInput').click()">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="48" height="48">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M17 8l-5-5-5 5M12 3v12"/>
                </svg>
                <h3 data-tr="DWG Dosyası Yükle" data-en="Upload DWG File">DWG Dosyası Yükle</h3>
                <p data-tr="Yüksek versiyon DWG dosyanızı yükleyin" data-en="Upload your high version DWG file">Yüksek versiyon DWG dosyanızı yükleyin</p>
                <span class="file-info">Max 50MB • DWG Format</span>
            </div>
            <input type="file" id="downgradeFileInput" accept=".dwg" style="display: none;" onchange="handleDowngradeFile(this.files[0])">
            
            <div class="file-preview" id="downgradePreview" style="display: none;">
                <div class="file-icon">📐</div>
                <div class="file-details">
                    <div class="file-name" id="downgradeFileName"></div>
                    <div class="file-size" id="downgradeFileSize"></div>
                    <div class="file-version" id="downgradeFileVersion">Tespit ediliyor...</div>
                </div>
                <button class="remove-file-btn" onclick="removeDowngradeFile()">×</button>
            </div>

            <div class="version-selector">
                <label data-tr="Hedef DWG Versiyonu:" data-en="Target DWG Version:">Hedef DWG Versiyonu:</label>
                <div class="version-options">
                    <label class="version-option">
                        <input type="radio" name="targetVersion" value="2018">
                        <span class="version-card">
                            <strong>AutoCAD 2018</strong>
                            <span class="version-code">AC1032</span>
                        </span>
                    </label>
                    <label class="version-option">
                        <input type="radio" name="targetVersion" value="2013" checked>
                        <span class="version-card">
                            <strong>AutoCAD 2013</strong>
                            <span class="version-code">AC1027</span>
                        </span>
                    </label>
                    <label class="version-option">
                        <input type="radio" name="targetVersion" value="2010">
                        <span class="version-card">
                            <strong>AutoCAD 2010</strong>
                            <span class="version-code">AC1024</span>
                        </span>
                    </label>
                    <label class="version-option">
                        <input type="radio" name="targetVersion" value="2007">
                        <span class="version-card">
                            <strong>AutoCAD 2007</strong>
                            <span class="version-code">AC1021</span>
                        </span>
                    </label>
                    <label class="version-option">
                        <input type="radio" name="targetVersion" value="2004">
                        <span class="version-card">
                            <strong>AutoCAD 2004</strong>
                            <span class="version-code">AC1018</span>
                        </span>
                    </label>
                    <label class="version-option">
                        <input type="radio" name="targetVersion" value="R14">
                        <span class="version-card">
                            <strong>AutoCAD R14</strong>
                            <span class="version-code">AC1014</span>
                        </span>
                    </label>
                </div>
                <div class="version-note">
                    <svg viewBox="0 0 24 24" fill="none" stroke="#3b82f6" stroke-width="2" width="18" height="18">
                        <circle cx="12" cy="12" r="10"/>
                        <path d="M12 16v-4M12 8h.01"/>
                    </svg>
                    <span data-tr="Not: Bazı özellikler eski versiyonlarda kaybolabilir" data-en="Note: Some features may be lost in older versions">Not: Bazı özellikler eski versiyonlarda kaybolabilir</span>
                </div>
            </div>

            <button class="convert-btn ripple" onclick="downgradeDwgFile()" id="downgradeBtn" disabled>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="20" height="20">
                    <path d="M12 5v14M19 12l-7 7-7-7"/>
                </svg>
                <span data-tr="Versiyon Düşür" data-en="Downgrade Version">Versiyon Düşür</span>
            </button>

            <div class="conversion-progress" id="downgradeProgress" style="display: none;">
                <div class="progress-bar">
                    <div class="progress-fill" id="downgradeProgressBar"></div>
                </div>
                <div class="progress-text" id="downgradeProgressText">İşleniyor... 0%</div>
            </div>

            <div class="conversion-result" id="downgradeResult" style="display: none;">
                <div class="result-success">
                    <svg viewBox="0 0 24 24" fill="none" stroke="#10b981" stroke-width="2" width="48" height="48">
                        <circle cx="12" cy="12" r="10"/>
                        <path d="M9 12l2 2 4-4"/>
                    </svg>
                    <h3 data-tr="Versiyon Düşürme Başarılı!" data-en="Downgrade Successful!">Versiyon Düşürme Başarılı!</h3>
                    <p id="downgradeResultInfo"></p>
                    <button class="download-btn ripple" id="downgradeDownloadBtn">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="20" height="20">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5 5 5-5M12 15V3"/>
                        </svg>
                        <span data-tr="Dosyayı İndir" data-en="Download File">Dosyayı İndir</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- TOAST CONTAINER -->
<div class="toast-container" id="toastContainer"></div>

<!-- SCROLL PROGRESS INDICATOR -->
<div class="scroll-progress-wrap" id="scrollProgress" onclick="scrollToTop()">
    <svg viewBox="0 0 100 100">
        <circle class="progress-circle-bg" cx="50" cy="50" r="46"></circle>
        <circle class="progress-circle" cx="50" cy="50" r="46" id="progressCircle"></circle>
    </svg>
    <div class="progress-icon">
        <svg viewBox="0 0 24 24">
            <polyline points="18 15 12 9 6 15"></polyline>
        </svg>
    </div>
</div>

<!-- VIDEO LIGHTBOX -->
<div class="video-lightbox" id="videoLightbox" onclick="if(event.target === this) closeVideo()">
    <div class="video-lightbox-content">
        <button class="video-lightbox-close" onclick="closeVideo()">✕</button>
        <div id="videoContainer"></div>
    </div>
</div>

<!-- LIGHTBOX -->
<div class="lightbox" id="lightbox">
    <button class="lightbox-close" onclick="closeLightbox()">×</button>
    <img src="" alt="Project" class="lightbox-image" id="lightboxImage">
</div>

<!-- FOOTER -->
<!-- E-HİZMETLER UYARI MODALI -->
<div id="externalServiceModal" class="external-service-modal" style="display: none;">
    <div class="external-service-container">
        <div class="external-service-header">
            <div style="font-size: 48px; margin-bottom: 15px;">🏛️</div>
            <h3 style="font-size: 24px; font-weight: 600; margin-bottom: 10px; color: #667eea;">Dış Servise Yönlendiriliyorsunuz</h3>
            <p id="externalServiceName" style="font-size: 16px; color: #666; margin-bottom: 20px;"></p>
        </div>
        
        <div class="external-service-body">
            <div class="warning-box">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#f59e0b" stroke-width="2" style="flex-shrink: 0;">
                    <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>
                    <line x1="12" y1="9" x2="12" y2="13"></line>
                    <line x1="12" y1="17" x2="12.01" y2="17"></line>
                </svg>
                <div>
                    <strong style="display: block; margin-bottom: 5px; color: #f59e0b;">Bilgilendirme</strong>
                    <p style="font-size: 14px; line-height: 1.6; color: #666;">
                        <span id="externalServiceOwner"></span> tarafından sağlanan bu hizmet, 
                        <strong style="color: #667eea;">CEE MİMARLIK</strong> ile hiçbir bağlantısı olmayan 
                        resmi bir devlet/belediye sitesidir.
                    </p>
                </div>
            </div>
            
            <div class="info-box" style="margin-top: 15px;">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#667eea" stroke-width="2" style="flex-shrink: 0;">
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="12" y1="16" x2="12" y2="12"></line>
                    <line x1="12" y1="8" x2="12.01" y2="8"></line>
                </svg>
                <p style="font-size: 13px; color: #666; line-height: 1.5;">
                    <strong>CEE MİMARLIK</strong> olarak sadece bu hizmetlere kolay erişim sağlıyoruz. 
                    Siteye yeni sekmede yönlendirileceksiniz.<br><br>
                    <strong style="color: #667eea;">💡 Geri Dönmek İçin:</strong><br>
                    • Tarayıcınızın bu sekmesine geri dönün<br>
                    • Veya tarayıcı geri (<) butonunu kullanın
                </p>
            </div>
        </div>
        
        <div class="external-service-footer">
            <button onclick="closeExternalServiceModal()" class="btn-secondary">
                İptal
            </button>
            <button onclick="confirmExternalService()" class="btn-primary">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 8px;">
                    <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
                    <polyline points="15 3 21 3 21 9"></polyline>
                    <line x1="10" y1="14" x2="21" y2="3"></line>
                </svg>
                Siteye Git
            </button>
        </div>
    </div>
</div>

<style>
/* Uyarı Modal Stilleri */
.external-service-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.7);
    z-index: 99999;
    display: flex;
    align-items: center;
    justify-content: center;
    animation: fadeIn 0.3s ease;
}

.external-service-container {
    background: white;
    border-radius: 16px;
    max-width: 500px;
    width: 90%;
    box-shadow: 0 20px 60px rgba(0,0,0,0.3);
    animation: slideUp 0.3s ease;
}

body.dark-mode .external-service-container {
    background: #1a1a1a;
}

.external-service-header {
    padding: 30px 30px 20px;
    text-align: center;
    border-bottom: 1px solid #eee;
}

body.dark-mode .external-service-header {
    border-bottom-color: #333;
}

.external-service-body {
    padding: 25px 30px;
}

.warning-box {
    display: flex;
    gap: 15px;
    padding: 15px;
    background: #fef3c7;
    border: 1px solid #fbbf24;
    border-radius: 8px;
}

body.dark-mode .warning-box {
    background: #78350f;
    border-color: #f59e0b;
}

.info-box {
    display: flex;
    gap: 12px;
    padding: 12px;
    background: #eff6ff;
    border: 1px solid #93c5fd;
    border-radius: 8px;
}

body.dark-mode .info-box {
    background: #1e3a8a;
    border-color: #3b82f6;
}

.external-service-footer {
    padding: 20px 30px;
    display: flex;
    gap: 10px;
    justify-content: flex-end;
    border-top: 1px solid #eee;
}

body.dark-mode .external-service-footer {
    border-top-color: #333;
}

.btn-primary,
.btn-secondary {
    padding: 12px 24px;
    border: none;
    border-radius: 8px;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    transition: all 0.3s;
}

.btn-primary {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
}

.btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
}

.btn-secondary {
    background: #f3f4f6;
    color: #666;
}

.btn-secondary:hover {
    background: #e5e7eb;
}

body.dark-mode .btn-secondary {
    background: #374151;
    color: #d1d5db;
}

@media (max-width: 768px) {
    .external-service-container {
        width: 95%;
    }
    
    .external-service-footer {
        flex-direction: column;
    }
    
    .btn-primary,
    .btn-secondary {
        width: 100%;
        justify-content: center;
    }
}
</style>

<footer>
    <div class="footer-content">
        <div class="footer-bottom" style="border-top: none; padding-top: 0; display: flex; justify-content: center; align-items: center;">
            <div style="display: flex; align-items: center; gap: 15px; justify-content: center;">
                <img src="" id="footerLogo" class="site-logo" style="height: 50px; display: none;" alt="CEE Mimarlık">
                <p class="footer-copyright" style="margin: 0; text-align: center; color: #1a1a1a;">
                    © <span id="footerYear">2024</span> 
                    <span class="admin-link" onclick="goToAdmin()" id="footerCompany" style="cursor: pointer; color: #1a1a1a; font-weight: 600;">CEE MİMARLIK</span> 
                    <span data-tr="Tüm hakları saklıdır" data-en="All rights reserved">Tüm hakları saklıdır</span>
                </p>
            </div>
        </div>
    </div>
</footer>

<script>
// Footer bilgilerini yükle
function loadFooterSettings() {
    const savedFooter = localStorage.getItem('cee_footer_settings');
    if (savedFooter) {
        try {
            const footer = JSON.parse(savedFooter);
            if (footer.year) document.getElementById('footerYear').textContent = footer.year;
            if (footer.company) document.getElementById('footerCompany').textContent = footer.company;
        } catch(e) {}
    }
    
    // Footer logosunu yükle
    const siteLogo = localStorage.getItem('site_logo');
    const footerLogoEl = document.getElementById('footerLogo');
    if (siteLogo && footerLogoEl) {
        footerLogoEl.src = siteLogo;
        footerLogoEl.style.display = 'block';
    }
}
loadFooterSettings();
</script>

<script>
let projects = [];
let siteLogo = '';
let currentLang = 'tr';
let currentFilter = 'all';
let currentSlide = 0;
let heroImages = [];

// Varsayılan projeler (herkes görebilsin)
const defaultProjects = [
    {
        id: 'demo1',
        title: 'Modern Villa Projesi',
        category: 'villa',
        img: 'https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=800&q=80',
        location: 'İstanbul',
        area: '450m²',
        row: 'top'
    },
    {
        id: 'demo2',
        title: 'Lüks Rezidans',
        category: 'apartman',
        img: 'https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?w=800&q=80',
        location: 'Çorlu',
        area: '320m²',
        row: 'top'
    },
    {
        id: 'demo3',
        title: 'Ofis Binası',
        category: 'ofis',
        img: 'https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?w=800&q=80',
        location: 'TekirdaÄŸ',
        area: '1200m²',
        row: 'top'
    },
    {
        id: 'demo4',
        title: 'Ticari Kompleks',
        category: 'ticari',
        img: 'https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=800&q=80',
        location: 'İstanbul',
        area: '2500m²',
        row: 'top'
    },
    {
        id: 'demo5',
        title: 'Minimalist Konut',
        category: 'konut',
        img: 'https://images.unsplash.com/photo-1600566753190-17f0baa2a6c3?w=800&q=80',
        location: 'Çorlu',
        area: '280m²',
        row: 'top'
    },
    {
        id: 'demo6',
        title: 'Bahçeli Villa',
        category: 'villa',
        img: 'https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=800&q=80',
        location: 'Silivri',
        area: '520m²',
        row: 'top'
    }
];

function init() {
    loadFromLocalStorage();
    loadColorTheme();
    loadDarkMode();
    loadLanguage();
    loadSiteSettings();
    setupHero();
    renderProjects();
    setupFilters();
    setupNavigation();
    loadTeam();
    initMap();
    setupStatsObserver();
    initSocialSidebar();
    updateLanguageUI();
}

function loadFromLocalStorage() {
    try {
        const savedProjects = localStorage.getItem('cee_projects');
        if (savedProjects) {
            const allProjects = JSON.parse(savedProjects);
            projects = allProjects.filter(p => p && p.row === 'top' && p.img);
            
            heroImages = allProjects
                .filter(p => p && p.img && p.favorite === true && p.mediaType !== 'pdf')
                .slice(0, 5);
            
            if (heroImages.length === 0) {
                heroImages = projects
                    .filter(p => p.img && p.mediaType !== 'pdf')
                    .sort((a, b) => (b.clickCount || 0) - (a.clickCount || 0))
                    .slice(0, 4);
            }
        }
        
        // Eğer proje yoksa varsayılanları kullan
        if (projects.length === 0) {
            projects = defaultProjects;
        }
        
        siteLogo = localStorage.getItem('site_logo') || '';
        if (siteLogo) {
            const headerLogo = document.getElementById('headerLogo');
            const footerLogo = document.getElementById('footerLogo');
            const waLogo = document.getElementById('waLogo');
            const logoText = document.querySelector('.logo-text');
            
            if (headerLogo) {
                headerLogo.src = siteLogo;
                headerLogo.style.display = 'block';
            }
            if (footerLogo) {
                footerLogo.src = siteLogo;
                footerLogo.style.display = 'block';
            }
            if (waLogo) {
                waLogo.src = siteLogo;
                waLogo.style.display = 'block';
            }
            if (logoText) {
                logoText.style.display = 'none';
            }
        }
    } catch (e) {
        projects = defaultProjects;
        heroImages = [];
    }
}

let heroAutoSlide;
let heroProgressInterval;

// Varsayılan hero görselleri (herkes görebilsin)
const defaultHeroImages = [
    {
        img: 'https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=1920&q=80',
        title: 'Modern Villa Tasarımı'
    },
    {
        img: 'https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?w=1920&q=80',
        title: 'Lüks Konut Projesi'
    },
    {
        img: 'https://images.unsplash.com/photo-1600566753190-17f0baa2a6c3?w=1920&q=80',
        title: 'Mimari Tasarım'
    }
];

function setupHero() {
    const slider = document.getElementById('heroSlider');
    const indicatorsContainer = document.getElementById('heroIndicators');
    
    // Önce localStorage'dan, yoksa varsayılan görseller
    let slidesToUse = heroImages.length > 0 ? heroImages : defaultHeroImages;
    
    if (slidesToUse.length === 0) {
        slider.innerHTML = `
            <div class="hero-slide active">
                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='1200' height='800'%3E%3Crect fill='%23e8e8e8' width='1200' height='800'/%3E%3Ctext x='50%25' y='50%25' text-anchor='middle' fill='%23999' font-size='24' font-family='Arial'%3EProje Eklenmedi%3C/text%3E%3C/svg%3E" alt="Placeholder">
                <div class="hero-overlay"></div>
            </div>
        `;
        return;
    }
    
    // Slides - Sadece fotoÄŸraf
    slider.innerHTML = slidesToUse.map((project, index) => `
        <div class="hero-slide ${index === 0 ? 'active' : ''}">
            <img src="${project.img}" alt="${project.title || 'Proje'}" loading="${index === 0 ? 'eager' : 'lazy'}">
            <div class="hero-overlay"></div>
        </div>
    `).join('');
    
    // Indicators
    if (slidesToUse.length > 1) {
        indicatorsContainer.innerHTML = slidesToUse.map((_, index) => 
            `<div class="hero-indicator ${index === 0 ? 'active' : ''}" onclick="goToSlide(${index})"></div>`
        ).join('');
    }
    
    // Auto-slide her 5 saniyede
    startHeroAutoSlide();
    
    // Hero içeriğini localStorage'dan yükle
    loadHeroContent();
    
    // Favori proje showcase'ini doldur
    setupDiagonalSplit(slidesToUse);
}

function setupDiagonalSplit(projects) {
    // Hero slider'ı gizle - animasyon sırasında görünmesin
    const heroSlider = document.getElementById('heroSlider');
    if (heroSlider) {
        heroSlider.style.opacity = '0';
        heroSlider.style.visibility = 'hidden';
    }
    
    // SaÄŸ taraftaki fotoÄŸraflara ilk 4 favori projeyi ekle
    if (projects.length > 0) {
        for (let i = 0; i < 4; i++) {
            const photoEl = document.getElementById('projectPhoto' + (i + 1));
            if (photoEl && projects[i] && projects[i].img) {
                photoEl.style.backgroundImage = `url(${projects[i].img})`;
            } else if (photoEl && projects[0] && projects[0].img) {
                // Yeterli proje yoksa döngüsel kullan
                photoEl.style.backgroundImage = `url(${projects[i % projects.length].img})`;
            }
        }
        
        // En son gösterilen fotoğrafı hero arka planına ekle (4. fotoğraf veya son favori)
        const lastPhotoIndex = Math.min(3, projects.length - 1);
        const lastPhoto = projects[lastPhotoIndex];
        if (lastPhoto && lastPhoto.img) {
            // Animasyon bitince hero section'a arka plan ekle
            setTimeout(() => {
                const heroSection = document.querySelector('.hero');
                if (heroSection) {
                    heroSection.style.backgroundImage = `linear-gradient(to bottom, rgba(10,15,20,0.3), rgba(10,15,20,0.5)), url(${lastPhoto.img})`;
                    heroSection.style.backgroundSize = 'cover';
                    heroSection.style.backgroundPosition = 'center center';
                    heroSection.style.backgroundRepeat = 'no-repeat';
                }
            }, 4500);
            
            // Auto-slide'ı durdur
            if (typeof heroAutoSlide !== 'undefined') {
                clearInterval(heroAutoSlide);
            }
            if (typeof heroProgressInterval !== 'undefined') {
                clearInterval(heroProgressInterval);
            }
        }
    }
}

function loadHeroContent() {
    const heroSettings = JSON.parse(localStorage.getItem('hero_settings') || '{}');
    
    // Tagline
    const taglineEl = document.querySelector('.tagline-text');
    if (taglineEl && heroSettings.tagline) {
        taglineEl.textContent = heroSettings.tagline;
    }
    
    // Description
    const descEl = document.getElementById('heroDesc');
    if (descEl && heroSettings.description) {
        descEl.innerHTML = heroSettings.description;
    }
}

function startHeroAutoSlide() {
    // Progress bar animation
    const progressBar = document.getElementById('heroProgress');
    let progress = 0;
    
    // Clear existing intervals
    if (heroProgressInterval) clearInterval(heroProgressInterval);
    if (heroAutoSlide) clearInterval(heroAutoSlide);
    
    // Progress bar
    heroProgressInterval = setInterval(() => {
        progress += 0.5;
        if (progressBar) progressBar.style.width = progress + '%';
        if (progress >= 100) {
            progress = 0;
        }
    }, 25); // 5000ms / 200 = 25ms intervals
    
    // Auto slide
    heroAutoSlide = setInterval(() => {
        if (heroImages.length > 1) {
            changeSlide(1);
            progress = 0;
        }
    }, 5000);
}

function changeSlide(direction) {
    if (heroImages.length === 0) return;
    
    const slides = document.querySelectorAll('.hero-slide');
    const indicators = document.querySelectorAll('.hero-indicator');
    
    slides[currentSlide].classList.remove('active');
    if (indicators[currentSlide]) indicators[currentSlide].classList.remove('active');
    
    currentSlide += direction;
    if (currentSlide >= heroImages.length) currentSlide = 0;
    if (currentSlide < 0) currentSlide = heroImages.length - 1;
    
    slides[currentSlide].classList.add('active');
    if (indicators[currentSlide]) indicators[currentSlide].classList.add('active');
    
    // Reset progress
    const progressBar = document.getElementById('heroProgress');
    if (progressBar) progressBar.style.width = '0%';
}

function goToSlide(index) {
    if (heroImages.length === 0) return;
    
    const slides = document.querySelectorAll('.hero-slide');
    const indicators = document.querySelectorAll('.hero-indicator');
    
    slides[currentSlide].classList.remove('active');
    if (indicators[currentSlide]) indicators[currentSlide].classList.remove('active');
    
    currentSlide = index;
    
    slides[currentSlide].classList.add('active');
    if (indicators[currentSlide]) indicators[currentSlide].classList.add('active');
    
    // Reset auto-slide
    startHeroAutoSlide();
}

function renderProjects() {
    const grid = document.getElementById('projectsGrid');
    
    if (projects.length === 0) {
        grid.innerHTML = `
            <div style="grid-column: 1/-1; text-align: center; padding: 100px 20px; color: var(--secondary);">
                <p style="font-size: 16px; letter-spacing: 2px;">Henüz proje eklenmedi</p>
            </div>
        `;
        return;
    }
    
    let filteredProjects = projects;
    if (currentFilter !== 'all') {
        filteredProjects = projects.filter(p => 
            p.tags && p.tags.includes(currentFilter)
        );
    }
    
    grid.innerHTML = filteredProjects.map(project => {
        const isPDF = project.mediaType === 'pdf';
        const isVideo = project.mediaType === 'video';
        
        let mediaHTML = '';
        if (isPDF) {
            mediaHTML = `
                <div style="display: flex; align-items: center; justify-content: center; height: 100%; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); position: relative;">
                    <div style="text-align: center; color: white;">
                        <div style="font-size: 80px; margin-bottom: 15px;">📄</div>
                        <div style="font-size: 18px; font-weight: 600; letter-spacing: 2px;">PDF DOSYASI</div>
                        ${project.title ? `<div style="font-size: 14px; margin-top: 10px; opacity: 0.9;">${project.title}</div>` : ''}
                    </div>
                </div>
            `;
        } else if (isVideo) {
            mediaHTML = `
                <video style="width: 100%; height: 100%; object-fit: cover;" muted loop playsinline>
                    <source src="${project.img}" type="video/mp4">
                </video>
                <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 60px; opacity: 0.9; pointer-events: none;">▶️</div>
            `;
        } else {
            mediaHTML = `<img src="${project.img}" alt="${project.title || 'Proje'}" class="project-image" loading="lazy">`;
        }
        
        return `
            <div class="project-card" onclick="openLightbox('${project.img}', '${project.id}', ${isPDF}, ${isVideo})">
                ${mediaHTML}
                <div class="project-overlay">
                    ${project.title ? `<div class="project-title">${project.title}</div>` : ''}
                    ${project.description ? `<p style="color: rgba(255,255,255,0.8); font-size: 14px; line-height: 1.6; margin-bottom: 20px;">${project.description}</p>` : ''}
                    <button class="project-detail-btn" style="background: transparent; border: 1px solid rgba(255,255,255,0.5); color: white; padding: 12px 30px; font-size: 12px; letter-spacing: 2px; cursor: pointer; transition: all 0.3s ease; text-transform: uppercase;">DAHA FAZLA</button>
                </div>
            </div>
        `;
    }).join('');
}

function setupFilters() {
    document.querySelectorAll('.filter-btn').forEach(btn => {
        btn.addEventListener('click', () => {
            document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            currentFilter = btn.dataset.filter;
            renderProjects();
        });
    });
}

function setupNavigation() {
    document.querySelectorAll('nav > a').forEach(link => {
        link.addEventListener('click', function(e) {
            // External linkler için event'i durdurma
            const href = this.getAttribute('href');
            if (!href || href === 'javascript:void(0)' || href.startsWith('http')) {
                return;
            }
            
            e.preventDefault();
            
            // Active class güncelle
            document.querySelectorAll('nav > a').forEach(a => a.classList.remove('active'));
            this.classList.add('active');
            
            // Smooth scroll
            const targetId = href;
            const targetSection = document.querySelector(targetId);
            if (targetSection) {
                const headerHeight = document.querySelector('header').offsetHeight;
                const targetPosition = targetSection.offsetTop - headerHeight;
                window.scrollTo({
                    top: targetPosition,
                    behavior: 'smooth'
                });
            }
            
            // Mobile menüyü kapat
            closeMobileMenu();
        });
    });
}


function closeMobileMenu() {
    const nav = document.getElementById('mainNav');
    const toggle = document.getElementById('menuToggle');
    if (nav && toggle) {
        nav.classList.remove('mobile-open');
        toggle.textContent = '☰';
    }
}

function toggleMobileMenu() {
    const nav = document.getElementById('mainNav');
    const toggle = document.getElementById('menuToggle');
    nav.classList.toggle('mobile-open');
    toggle.textContent = nav.classList.contains('mobile-open') ? '✕' : '☰';
}



// Varsayılan ekip üyeleri
const defaultTeamMembers = [
    {
        id: '1',
        name: 'Emrah İpek',
        role: 'BaÅŸ Mimar',
        photo: '',
        bio: 'Yaratıcı ve çözüm odaklı bir mimar olarak konut, ticari ve kamusal projelerde tasarım ve uygulama süreçlerinde deneyim sahibiyim. Konsept geliştirme, uygulama projesi çizimi ve saha koordinasyonu konularında yetkinim. AutoCAD, Revit ve 3D modelleme programlarını etkin kullanarak estetik, işlevsel ve sürdürülebilir tasarımlar üretmeye odaklanırım. Takım çalışmasına yatkın, sorumluluk sahibi ve detaylara önem veren bir mimarım.',
        education: 'Kırklareli Üniversitesi',
        experience: '15',
        projects: '100',
        expertise: 'Mimari',
        email: 'ceemimarlik@gmail.com'
    }
];

function loadTeam() {
    const grid = document.getElementById('teamGrid');
    if (!grid) return;
    
    // Her zaman varsayılan ekip üyesini kullan - Emrah İpek
    let team = defaultTeamMembers;
    
    // Placeholder fotoÄŸraf
    const placeholderPhoto = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Crect fill='%23e8e8e8' width='400' height='400'/%3E%3Ctext x='50%25' y='50%25' text-anchor='middle' fill='%23999' font-size='64' dy='.3em'%3E👤%3C/text%3E%3C/svg%3E";
    
    grid.innerHTML = team.map(member => {
        // Sosyal medya linkleri oluÅŸtur (MADDE 2)
        let socialLinks = '';
        if (member.email) {
            socialLinks += '<a href="mailto:' + member.email + '" class="team-social-link email" title="E-posta">✉️</a>';
        }
        if (member.instagram) {
            const instaUrl = member.instagram.startsWith('http') ? member.instagram : 'https://instagram.com/' + member.instagram;
            socialLinks += '<a href="' + instaUrl + '" target="_blank" class="team-social-link instagram" title="Instagram">📷</a>';
        }
        if (member.linkedin) {
            const linkedinUrl = member.linkedin.startsWith('http') ? member.linkedin : 'https://linkedin.com/in/' + member.linkedin;
            socialLinks += '<a href="' + linkedinUrl + '" target="_blank" class="team-social-link linkedin" title="LinkedIn">💼</a>';
        }
        if (member.phone) {
            socialLinks += '<a href="tel:' + member.phone + '" class="team-social-link phone" title="Telefon">📞</a>';
        }
        
        return '<div class="team-member" style="background: white; border-radius: 16px; overflow: hidden; box-shadow: 0 4px 20px rgba(0,0,0,0.08); transition: transform 0.3s ease; max-width: 400px;">' +
            '<div style="height: 320px; overflow: hidden; background: #f5f5f5;">' +
                '<img src="' + (member.photo || placeholderPhoto) + '" alt="' + member.name + '" class="team-photo" style="width: 100%; height: 100%; object-fit: cover; object-position: center top; image-rendering: -webkit-optimize-contrast; image-rendering: crisp-edges;" onerror="this.src=\'' + placeholderPhoto + '\'">' +
            '</div>' +
            '<div style="padding: 25px; text-align: center;">' +
                '<h3 style="font-size: 22px; font-weight: 600; color: var(--text); margin-bottom: 8px;">' + member.name + '</h3>' +
                '<p style="color: var(--accent); font-weight: 600; margin-bottom: 15px; text-transform: uppercase; letter-spacing: 2px; font-size: 13px;">' + (member.role || member.position || '') + '</p>' +
                (member.bio ? '<p style="font-size: 14px; color: var(--secondary); line-height: 1.7; margin-bottom: 15px;">' + member.bio.substring(0, 200) + '...</p>' : '') +
                '<div style="display: flex; justify-content: center; gap: 20px; margin-top: 15px; padding-top: 15px; border-top: 1px solid #eee;">' +
                    (member.education ? '<span style="font-size: 12px; color: #666;">🎓 ' + member.education + '</span>' : '') +
                    (member.projects ? '<span style="font-size: 12px; color: #666;">🏗️ ' + member.projects + '+ Proje</span>' : '') +
                '</div>' +
                (socialLinks ? '<div class="team-member-socials">' + socialLinks + '</div>' : '') +
            '</div>' +
        '</div>';
    }).join('');
}
</script>

<script>

function openLightbox(imgSrc, projectId, isPDF, isVideo) {
    const lightbox = document.getElementById('lightbox');
    const lightboxImage = document.getElementById('lightboxImage');
    
    if (isPDF) {
        // PDF için yeni sekmede aç
        window.open(imgSrc, '_blank');
        incrementClickCount(projectId);
        return;
    }
    
    if (isVideo) {
        // Video için yeni sekmede aç veya modal göster
        window.open(imgSrc, '_blank');
        incrementClickCount(projectId);
        return;
    }
    
    lightboxImage.src = imgSrc;
    lightbox.classList.add('show');
    incrementClickCount(projectId);
}

function closeLightbox() {
    document.getElementById('lightbox').classList.remove('show');
}

document.getElementById('lightbox').addEventListener('click', (e) => {
    if (e.target.id === 'lightbox') closeLightbox();
});

document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
        closeLightbox();
        closeWhatsApp();
    }
});

function incrementClickCount(projectId) {
    try {
        const allProjects = JSON.parse(localStorage.getItem('cee_projects') || '[]');
        const project = allProjects.find(p => p.id === projectId);
        if (project) {
            if (!project.clickCount) project.clickCount = 0;
            project.clickCount++;
            localStorage.setItem('cee_projects', JSON.stringify(allProjects));
        }
    } catch (e) {}
}

function toggleDarkMode() {
    document.body.classList.toggle('dark-mode');
    var isDark = document.body.classList.contains('dark-mode');
    var btn = document.getElementById('themeBtn');
    if (btn) btn.textContent = isDark ? '☀️' : '🌙';
    localStorage.setItem('cee_public_dark', isDark);
    
    // Renk ayarlarını al
    var cs = isDark 
        ? JSON.parse(localStorage.getItem('dark_color_settings') || '{}')
        : JSON.parse(localStorage.getItem('light_color_settings') || '{}');
    if (!cs.bgMain) cs = isDark 
        ? {bgMain:'#111111',bgSection:'#1a1a1a',text:'#e2e8f0',header:'#0f0f0f'}
        : {bgMain:'#ffffff',bgSection:'#f8f9fa',text:'#2d3748',header:'#1a202c'};
    
    // CSS Variables HEMEN güncelle
    document.documentElement.style.setProperty('--bg-primary', cs.bgMain);
    document.documentElement.style.setProperty('--bg-secondary', cs.bgSection);
    document.documentElement.style.setProperty('--header-bg', cs.header);
    document.documentElement.style.setProperty('--text-color', cs.text);
    document.documentElement.style.setProperty('--diagonal-color', cs.iconBg || '#5a6677');
    document.documentElement.style.setProperty('--divider-color', cs.iconBg || '#5a6677');
    document.documentElement.style.setProperty('--divider-color-light', cs.iconBgLight || '#6b7a8a');
    
    // Body ve tüm elementleri HEMEN güncelle
    document.body.style.setProperty('background-color', cs.bgMain, 'important');
    document.body.style.setProperty('background', cs.bgMain, 'important');
    
    document.querySelectorAll('section').forEach(function(s) {
        s.style.setProperty('background-color', cs.bgMain, 'important');
        s.style.setProperty('background', cs.bgMain, 'important');
    });
    document.querySelectorAll('#hizmetler, #referanslar, #ofis-konum, #sss, #ekip, #location, #projeler').forEach(function(s) {
        s.style.setProperty('background-color', cs.bgSection, 'important');
        s.style.setProperty('background', cs.bgSection, 'important');
    });
    document.querySelectorAll('header, nav, .header').forEach(function(el) {
        el.style.setProperty('background-color', cs.header, 'important');
        el.style.setProperty('background', cs.header, 'important');
    });
    document.querySelectorAll('footer, .footer').forEach(function(el) {
        el.style.setProperty('background-color', cs.header, 'important');
        el.style.setProperty('background', cs.header, 'important');
    });
    
    var cardBg = isDark ? cs.bgSection : '#ffffff';
    document.querySelectorAll('.service-card, .service-card-v2, .ref-card, .faq-item, .team-member, .location-card').forEach(function(el) {
        el.style.setProperty('background-color', cardBg, 'important');
        el.style.setProperty('background', cardBg, 'important');
    });
    
    document.querySelectorAll('.section-title, .section-label, h2, h3, h4, p, span, li').forEach(function(el) {
        if (!el.closest('footer') && !el.closest('header') && !el.closest('.hero') && !el.closest('button')) {
            el.style.setProperty('color', cs.text, 'important');
        }
    });
    
    // applyColors'ı birden fazla kez çağır
    if (typeof applyColors === 'function') {
        applyColors();
        setTimeout(applyColors, 50);
        setTimeout(applyColors, 150);
        setTimeout(applyColors, 300);
    }
}

function loadDarkMode() {
    var isDark = localStorage.getItem('cee_public_dark') === 'true';
    if (isDark) {
        document.body.classList.add('dark-mode');
        var btn = document.getElementById('themeBtn');
        if (btn) btn.textContent = '☀️';
    }
    
    // Renk ayarlarını al ve hemen uygula
    var cs = isDark 
        ? JSON.parse(localStorage.getItem('dark_color_settings') || '{}')
        : JSON.parse(localStorage.getItem('light_color_settings') || '{}');
    if (cs.bgMain) {
        document.documentElement.style.setProperty('--bg-primary', cs.bgMain);
        document.documentElement.style.setProperty('--bg-secondary', cs.bgSection);
        document.documentElement.style.setProperty('--header-bg', cs.header);
        document.body.style.setProperty('background-color', cs.bgMain, 'important');
    }
    
    if (typeof applyColors === 'function') {
        applyColors();
        setTimeout(applyColors, 100);
        setTimeout(applyColors, 300);
    }
}

function toggleLanguage() {
    currentLang = currentLang === 'tr' ? 'en' : 'tr';
    updateLanguageUI();
    applyLanguage();
    localStorage.setItem('cee_public_lang', currentLang);
}

function updateLanguageUI() {
    const langFlag = document.getElementById('langFlag');
    const langText = document.getElementById('langText');
    
    if (langFlag) {
        if (currentLang === 'tr') {
            // Türk Bayrağı SVG
            langFlag.innerHTML = `<svg viewBox="0 0 1200 800" style="width: 100%; height: 100%;">
                <rect fill="#E30A17" width="1200" height="800"/>
                <circle fill="#fff" cx="425" cy="400" r="200"/>
                <circle fill="#E30A17" cx="475" cy="400" r="160"/>
                <polygon fill="#fff" points="583,400 764,450 652,326 652,474 764,350" transform="rotate(18 583 400)"/>
            </svg>`;
        } else {
            // İngiliz Bayrağı SVG
            langFlag.innerHTML = `<svg viewBox="0 0 60 30" style="width: 100%; height: 100%;">
                <rect fill="#012169" width="60" height="30"/>
                <path d="M0,0 L60,30 M60,0 L0,30" stroke="#fff" stroke-width="6"/>
                <path d="M0,0 L60,30 M60,0 L0,30" stroke="#C8102E" stroke-width="4" clip-path="polygon(30 15, 30 0, 0 0, 30 15, 60 0, 60 15, 30 15, 60 30, 30 30, 30 15, 0 30, 0 15)"/>
                <path d="M30,0 V30 M0,15 H60" stroke="#fff" stroke-width="10"/>
                <path d="M30,0 V30 M0,15 H60" stroke="#C8102E" stroke-width="6"/>
            </svg>`;
        }
    }
    if (langText) langText.textContent = currentLang === 'tr' ? 'TR' : 'EN';
}

function loadLanguage() {
    const saved = localStorage.getItem('cee_public_lang');
    if (saved) {
        currentLang = saved;
        updateLanguageUI();
        applyLanguage();
    }
}

function applyLanguage() {
    document.querySelectorAll('[data-tr]').forEach(el => {
        const text = currentLang === 'tr' ? el.dataset.tr : el.dataset.en;
        if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
            el.placeholder = text;
        } else {
            el.textContent = text;
        }
    });
}

// SOSYAL MEDYA SEKMESİ FONKSİYONLARI (MADDE 3)
function toggleSocialSidebar() {
    const content = document.getElementById('socialSidebarContent');
    if (content) content.classList.toggle('active');
}

function closeSocialSidebar() {
    const content = document.getElementById('socialSidebarContent');
    if (content) content.classList.remove('active');
}

function initSocialSidebar() {
    // 3 saniye sonra otomatik aç
    setTimeout(() => {
        const content = document.getElementById('socialSidebarContent');
        if (content && !content.classList.contains('active')) {
            content.classList.add('active');
            // 5 saniye sonra otomatik kapat
            setTimeout(() => {
                content.classList.remove('active');
            }, 5000);
        }
    }, 3000);
    
    // Dışarı tıklayınca kapat
    document.addEventListener('click', (e) => {
        const sidebar = document.getElementById('socialSidebar');
        if (sidebar && !sidebar.contains(e.target)) {
            closeSocialSidebar();
        }
    });
}

// E-Hizmetler Toggle
function toggleEHizmetler(e) {
    e.preventDefault();
    e.stopPropagation();
    const menu = document.getElementById('ehizmetlerMenu');
    if (menu) {
        menu.style.display = menu.style.display === 'none' ? 'block' : 'none';
    }
}

// Dış Servis Değişkenleri
let pendingExternalURL = '';
let pendingExternalName = '';
let pendingExternalOwner = '';

// Dış Servise Yönlendirme Uyarısı
function openExternalServiceWithWarning(url, serviceName, owner) {
    pendingExternalURL = url;
    pendingExternalName = serviceName;
    pendingExternalOwner = owner;
    
    const modal = document.getElementById('externalServiceModal');
    const serviceNameEl = document.getElementById('externalServiceName');
    const ownerEl = document.getElementById('externalServiceOwner');
    
    serviceNameEl.textContent = serviceName;
    ownerEl.textContent = owner;
    
    modal.style.display = 'flex';
    document.body.style.overflow = 'hidden';
    
    // E-Hizmetler menüsünü kapat
    const menu = document.getElementById('ehizmetlerMenu');
    if (menu) menu.style.display = 'none';
}

// Dış Servise Git
function confirmExternalService() {
    window.open(pendingExternalURL, '_blank');
    closeExternalServiceModal();
}

// Uyarı Modalını Kapat
function closeExternalServiceModal() {
    const modal = document.getElementById('externalServiceModal');
    modal.style.display = 'none';
    document.body.style.overflow = '';
    
    pendingExternalURL = '';
    pendingExternalName = '';
    pendingExternalOwner = '';
}

// ESC tuÅŸu ile kapat
document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') {
        const modal = document.getElementById('externalServiceModal');
        if (modal && modal.style.display !== 'none') {
            closeExternalServiceModal();
        }
    }
});

// Dışarı tıklayınca kapat
document.addEventListener('click', function(e) {
    const menu = document.getElementById('ehizmetlerMenu');
    if (menu && menu.style.display === 'block') {
        const dropdown = e.target.closest('.nav-dropdown');
        if (!dropdown) {
            menu.style.display = 'none';
        }
    }
});

function openWhatsApp() {
    document.getElementById('whatsappModal').classList.add('show');
    const notification = document.getElementById('whatsappNotification');
    if (notification) {
        notification.style.display = 'none';
    }
    const badge = document.querySelector('.whatsapp-badge');
    if (badge) {
        badge.style.display = 'none';
    }
}

function closeWhatsApp() {
    const modal = document.getElementById('whatsappModal');
    if (modal) modal.classList.remove('show');
}

function closeAiAssistant() {
    const panel = document.getElementById('aiAssistantPanel');
    if (panel) panel.classList.remove('active');
}

// AI ASSISTANT PANEL - ÖĞRENEN SİSTEM
let aiConversationHistory = JSON.parse(localStorage.getItem('cee_ai_history') || '[]');
let aiKnowledgeBase = JSON.parse(localStorage.getItem('cee_ai_knowledge') || '{}');

function askAiQuestion(question) {
    const input = document.getElementById('aiAssistantInput');
    if (input) {
        input.value = question;
        sendAiAssistantMessage();
    }
}

function addAiMessage(content, isUser = false) {
    const messagesDiv = document.getElementById('aiAssistantMessages');
    if (!messagesDiv) return;
    
    const welcome = messagesDiv.querySelector('.ai-assistant-welcome');
    if (welcome) welcome.remove();
    
    const messageDiv = document.createElement('div');
    messageDiv.className = isUser ? 'user-msg' : 'ai-msg';
    
    messageDiv.innerHTML = `
        <div class="msg-avatar">${isUser ? '👤' : '🏗️'}</div>
        <div class="msg-content">${content}</div>
    `;
    
    messagesDiv.appendChild(messageDiv);
    messagesDiv.scrollTop = messagesDiv.scrollHeight;
}

function showTyping() {
    const messagesDiv = document.getElementById('aiAssistantMessages');
    const typingDiv = document.createElement('div');
    typingDiv.className = 'typing-indicator-wrapper';
    typingDiv.id = 'typingIndicator';
    typingDiv.innerHTML = `
        <div class="msg-avatar">🏗️</div>
        <div class="typing-indicator">
            <div class="typing-dot"></div>
            <div class="typing-dot"></div>
            <div class="typing-dot"></div>
        </div>
    `;
    messagesDiv.appendChild(typingDiv);
    messagesDiv.scrollTop = messagesDiv.scrollHeight;
}

function hideTyping() {
    const typing = document.getElementById('typingIndicator');
    if (typing) typing.remove();
}

function sendAiAssistantMessage() {
    const input = document.getElementById('aiAssistantInput');
    const message = input.value.trim();
    
    if (!message) return;
    
    addAiMessage(message, true);
    input.value = '';
    
    showTyping();
    
    // Konuşma geçmişine ekle
    aiConversationHistory.push({
        role: 'user',
        content: message,
        timestamp: new Date().toISOString()
    });
    
    setTimeout(() => {
        const response = getSmartResponse(message);
        hideTyping();
        addAiMessage(response, false);
        
        // Cevabı geçmişe ekle
        aiConversationHistory.push({
            role: 'assistant',
            content: response,
            timestamp: new Date().toISOString()
        });
        
        // localStorage'a kaydet
        localStorage.setItem('cee_ai_history', JSON.stringify(aiConversationHistory.slice(-50))); // Son 50 mesaj
        
        // Bilgi tabanını güncelle (öğrenme)
        updateKnowledgeBase(message, response);
    }, 800);
}

function getSmartResponse(message) {
    const lowerMsg = message.toLowerCase();
    
    // Önce öğrenilmiş bilgilere bak
    for (let key in aiKnowledgeBase) {
        if (lowerMsg.includes(key.toLowerCase())) {
            return aiKnowledgeBase[key];
        }
    }
    
    // Mevzuat bilgileri
    if (lowerMsg.includes('piyes') || lowerMsg.includes('ölçek') || lowerMsg.includes('çizim')) {
        return `<strong>📐 Piyes Ölçüleri</strong><br><br>
<strong>Vaziyet Planı:</strong> 1/500, 1/1000, 1/2000<br>
<strong>Kat Planları:</strong> 1/50 (detaylı), 1/100 (standart)<br>
<strong>Kesit & Görünüş:</strong> 1/50, 1/100<br>
<strong>Detaylar:</strong> 1/1, 1/2, 1/5, 1/10, 1/20<br><br>
<strong>Kağıt Boyutları:</strong><br>
A0: 841 x 1189 mm | A1: 594 x 841 mm<br>
A2: 420 x 594 mm | A3: 297 x 420 mm<br><br>
Profesyonel çizim hizmetlerimiz için: <strong>(0537) 327 87 65</strong>`;
    }
    
    else if (lowerMsg.includes('yangın') || lowerMsg.includes('yangin')) {
        return `<strong>🔥 Yangın Yönetmeliği</strong><br><br>
<strong>Yangın Merdiveni:</strong><br>
• Zorunluluk: 4+ katlı binalar<br>
• Genişlik: Min. 1.20m (konut), 1.50m (kamu)<br>
• Basamak: 28cm genişlik, Max 19cm yükseklik<br>
• Koridor: Min. 1.20m<br>
• Kapı: EI 60 (60 dk dayanımlı)<br><br>
<strong>Yangın Yalıtımı:</strong><br>
Bodrum: EI 120 | Kat arası: EI 60<br><br>
Detaylı yangın raporu: <strong>(0537) 327 87 65</strong>`;
    }
    
    else if (lowerMsg.includes('merdiven') && !lowerMsg.includes('yangın')) {
        return `<strong>🪜 Merdiven Ölçüleri</strong><br><br>
<strong>Konut:</strong><br>
• Basamak genişliği: Min. 28 cm<br>
• Basamak yüksekliği: Max. 18 cm<br>
• Merdiven genişliği: Min. 90 cm<br>
• <strong>Formül:</strong> 2h + g = 60-65 cm<br><br>
<strong>Kamu Yapıları:</strong><br>
• Basamak genişliği: Min. 30 cm<br>
• Basamak yüksekliği: Max. 17 cm<br>
• Merdiven genişliği: Min. 1.50 m<br><br>
<strong>Korkuluk:</strong> Min. 90 cm yükseklik<br><br>
Merdiven tasarımı: <strong>(0537) 327 87 65</strong>`;
    }
    
    else if (lowerMsg.includes('emsal')) {
        return `<strong>📊 Emsal Nedir?</strong><br><br>
Emsal = Toplam İnşaat Alanı / Arsa Alanı<br><br>
<strong>Örnek:</strong><br>
500 m² arsa × 1.5 emsal = <strong>750 m² inşaat</strong><br><br>
<strong>Önemli:</strong><br>
• Bodrum katlar emsale dahil değil<br>
• Her bölgede farklı<br>
• İmar planında belirtilir<br><br>
Arsanızın emsal hesabı: <strong>(0537) 327 87 65</strong>`;
    }
    
    else if (lowerMsg.includes('sığınak') || lowerMsg.includes('siginak')) {
        return `<strong>🛡️ Sığınak Yönetmeliği</strong><br><br>
<strong>Zorunluluk:</strong> 2000 m² üzeri binalar<br><br>
<strong>Teknik Özellikler:</strong><br>
• Alan: İnşaat alanının %2'si<br>
• Tavan: Min. 2.20 m<br>
• Duvar: Min. 30 cm betonarme<br>
• Kapı: Gaz sızdırmaz<br>
• Havalandırma: Özel sistem<br><br>
Sığınak projesi: <strong>(0537) 327 87 65</strong>`;
    }
    
    else if (lowerMsg.includes('ısı') || lowerMsg.includes('yalıt') || lowerMsg.includes('bep')) {
        return `<strong>🏠 Isı Yalıtımı</strong><br><br>
<strong>Duvar:</strong> Min. 5 cm XPS/EPS<br>
<strong>Çatı:</strong> Min. 10 cm<br>
<strong>Taban:</strong> Min. 5 cm (zemine temas)<br>
<strong>Cam:</strong> Çift cam, U ≤ 1.8 W/m²K<br><br>
<strong>BEP Belgesi:</strong> Zorunlu (2011'den itibaren)<br><br>
BEP belgesi düzenleme: <strong>(0537) 327 87 65</strong>`;
    }
    
    else if (lowerMsg.includes('otopark') || lowerMsg.includes('park')) {
        return `<strong>🚗 Otopark Ölçüleri</strong><br><br>
<strong>Araç Yeri:</strong> 2.30 x 5.00 m<br>
<strong>Engelli:</strong> 3.70 x 5.00 m<br>
<strong>Koridor:</strong> İki yön 6m, Tek yön 3.5m<br>
<strong>Tavan:</strong> Min. 2.30 m<br><br>
<strong>Havalandırma:</strong> Kapalı otoparklarda mekanik zorunlu<br><br>
Otopark projesi: <strong>(0537) 327 87 65</strong>`;
    }
    
    else if (lowerMsg.includes('mutfak')) {
        return `<strong>🍳 Mutfak Tasarımı</strong><br><br>
<strong>Çalışma Üçgeni:</strong> 4-6 m (Ocak-Lavabo-Buzdolabı)<br>
<strong>Tezgah:</strong> 85-90 cm yükseklik<br>
<strong>Üst Dolap:</strong> Min. 55 cm tezgah üstü<br>
<strong>Koridor:</strong> Min. 120 cm<br>
<strong>Davlumbaz:</strong> 65-75 cm ocak üstü<br><br>
Mutfak tasarım & iç mimari: <strong>(0537) 327 87 65</strong>`;
    }
    
    else if (lowerMsg.includes('tuvalet') || lowerMsg.includes('wc') || lowerMsg.includes('banyo')) {
        return `<strong>🚽 Tuvalet/Banyo Ölçüleri</strong><br><br>
<strong>Klozet Kabini:</strong> Min. 80 x 120 cm<br>
<strong>Lavabo:</strong> 85 cm yükseklik<br>
<strong>Engelli WC:</strong> Min. 150 x 220 cm<br>
<strong>DuÅŸ:</strong> Min. 80 x 80 cm<br>
<strong>Küvet:</strong> 70 x 150 cm<br><br>
Banyo tasarımı: <strong>(0537) 327 87 65</strong>`;
    }
    
    else if (lowerMsg.includes('kapı') || lowerMsg.includes('kapi') || lowerMsg.includes('pencere')) {
        return `<strong>🚪 Kapı & Pencere</strong><br><br>
<strong>Standart Kapı:</strong> 80-90 cm x 210 cm<br>
<strong>Ana GiriÅŸ:</strong> Min. 120 cm<br>
<strong>Engelli:</strong> Min. 90 cm net<br><br>
<strong>Pencere Parapet:</strong> 90-110 cm<br>
<strong>Havalandırma:</strong> Oda alanının 1/8'i<br><br>
Kapı-pencere seçimi: <strong>(0537) 327 87 65</strong>`;
    }
    
    else if (lowerMsg.includes('taks') || lowerMsg.includes('kaks')) {
        return `<strong>📐 TAKS & KAKS</strong><br><br>
<strong>TAKS (Taban Alanı Katsayısı):</strong><br>
Taban Alanı / Arsa Alanı<br>
Örnek: 500m² × 0.40 = 200m²<br><br>
<strong>KAKS (Kat Alanı Katsayısı):</strong><br>
Toplam Kat Alanı / Arsa Alanı<br>
(KAKS = Emsal)<br><br>
Genelde TAKS: 0.30-0.40 arası<br><br>
İmar analizi: <strong>(0537) 327 87 65</strong>`;
    }
    
    else if (lowerMsg.includes('ruhsat')) {
        return `<strong>📋 İnşaat Ruhsatı</strong><br><br>
<strong>Gerekli Belgeler:</strong><br>
1. Tapu fotokopisi<br>
2. İmar durumu<br>
3. Mimari proje (3 takım)<br>
4. Statik proje<br>
5. Elektrik + Mekanik proje<br>
6. Zemin etüdü<br>
7. Aplikasyon krokisi<br><br>
<strong>Süre:</strong> 2-4 ay<br><br>
Ruhsat işlemleriniz için: <strong>(0537) 327 87 65</strong>`;
    }
    
    else if (lowerMsg.includes('asansör') || lowerMsg.includes('asansor')) {
        return `<strong>🛗 Asansör Yönetmeliği</strong><br><br>
<strong>Zorunluluk:</strong> 4+ katlı binalar<br>
<strong>Kapasite:</strong> 630 kg (8 kiÅŸi)<br>
<strong>Kabin:</strong> Min. 1.00 x 1.25 m<br>
<strong>Engelli:</strong> 1.10 x 1.40 m<br><br>
Asansör planlaması: <strong>(0537) 327 87 65</strong>`;
    }
    
    else if (lowerMsg.includes('merhaba') || lowerMsg.includes('selam') || lowerMsg.includes('hi')) {
        return `<strong>Merhaba! 👋</strong><br><br>
Ben <strong>CEE MİMARLIK</strong>'ın müşteri temsilcisiyim. Size mimarlık ve yapı mevzuatı konularında yardımcı olabilirim.<br><br>
<strong>Uzmanlık alanlarım:</strong><br>
• İmar mevzuatı (Emsal, TAKS, KAKS)<br>
• Yangın güvenliği<br>
• Merdiven ölçüleri<br>
• Isı yalıtımı & BEP<br>
• Otopark, mutfak, banyo tasarımı<br>
• İnşaat ruhsatı süreçleri<br><br>
Sormak istediğiniz bir konu var mı? 🏗️`;
    }
    
    else {
        return `Anladım. Bu konuda size daha detaylı bilgi vermek için <strong>uzman ekibimizle</strong> görüşmenizi öneririm.<br><br>
<strong>📞 CEE MİMARLIK</strong><br>
Telefon: <strong>(0537) 327 87 65</strong><br>
Adres: Hatip, Ali Osman Çelebi Blv. No:52 A Blok Kat 1 No:3, 59860 Çorlu/Tekirdağ<br><br>
<strong>Hizmetlerimiz:</strong><br>
• Mimari Proje & İç Mimari<br>
• Yapı Ruhsatı İşlemleri<br>
• 3D Görselleştirme<br>
• Şantiye Yönetimi<br><br>
Size en kısa sürede dönüş yapacağız! 🏗️`;
    }
}

function updateKnowledgeBase(question, answer) {
    // Basit anahtar kelime çıkarma
    const keywords = question.toLowerCase()
        .split(' ')
        .filter(word => word.length > 3);
    
    // Her anahtar kelime için cevabı kaydet
    keywords.forEach(keyword => {
        if (!aiKnowledgeBase[keyword]) {
            aiKnowledgeBase[keyword] = answer;
        }
    });
    
    // localStorage'a kaydet
    localStorage.setItem('cee_ai_knowledge', JSON.stringify(aiKnowledgeBase));
}

// Baloncuğu 3 saniye sonra göster
function showWhatsAppNotification() {
    setTimeout(() => {
        const notification = document.getElementById('whatsappNotification');
        if (notification) {
            notification.style.display = 'block';
        }
    }, 3000);
}

// Scroll to top
function scrollToTop() {
    window.scrollTo({
        top: 0,
        behavior: 'smooth'
    });
}

// Scroll Progress Indicator
window.addEventListener('scroll', () => {
    const scrollProgress = document.getElementById('scrollProgress');
    const progressCircle = document.getElementById('progressCircle');
    
    if (scrollProgress && progressCircle) {
        const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
        const scrollHeight = document.documentElement.scrollHeight - window.innerHeight;
        const scrollPercent = scrollTop / scrollHeight;
        
        // Circle parametreleri
        const radius = 46;
        const circumference = 2 * Math.PI * radius;
        
        // Progress çizgisini ayarla
        progressCircle.style.strokeDasharray = circumference;
        progressCircle.style.strokeDashoffset = circumference - (scrollPercent * circumference);
        
        // Görünürlük
        if (scrollTop > 200) {
            scrollProgress.classList.add('visible');
        } else {
            scrollProgress.classList.remove('visible');
        }
    }
});

function sendWhatsApp(e) {
    e.preventDefault();
    
    const name = document.getElementById('fullName').value.trim();
    const phone = document.getElementById('phone').value.trim();
    const message = document.getElementById('message').value.trim();
    
    // Validasyon
    if (!name || name.length < 2) {
        alert('⚠️ Lütfen geçerli bir isim girin!');
        return;
    }
    
    if (!phone || phone.length < 10) {
        alert('⚠️ Lütfen geçerli bir telefon numarası girin!');
        return;
    }
    
    if (!message || message.length < 5) {
        alert('⚠️ Lütfen en az 5 karakter mesaj yazın!');
        return;
    }
    
    const ada = document.getElementById('ada').value.trim();
    const parsel = document.getElementById('parsel').value.trim();
    const il = document.getElementById('il').value.trim();
    const ilce = document.getElementById('ilce').value.trim();
    
    let waMessage = `Merhaba, ben ${name}.\n`;
    if (ada) waMessage += `Ada: ${ada}\n`;
    if (parsel) waMessage += `Parsel: ${parsel}\n`;
    if (il) waMessage += `İl: ${il}\n`;
    if (ilce) waMessage += `İlçe: ${ilce}\n`;
    waMessage += `\nMesajım:\n${message}`;
    
    const waUrl = `https://wa.me/905373278765?text=${encodeURIComponent(waMessage)}`;
    window.open(waUrl, '_blank');
    closeWhatsApp();
    e.target.reset();
}

function saveMessage() {
    const name = document.getElementById('fullName').value.trim();
    const phone = document.getElementById('phone').value.trim();
    const message = document.getElementById('message').value.trim();
    
    // Validasyon
    if (!name || name.length < 2) {
        showError('Lütfen geçerli bir isim girin!');
        return;
    }
    
    if (!phone || phone.length < 10) {
        showError('Lütfen geçerli bir telefon numarası girin!');
        return;
    }
    
    if (!message || message.length < 5) {
        showError('Lütfen en az 5 karakter mesaj yazın!');
        return;
    }
    
    const formData = {
        id: 'msg-' + Date.now(),
        name: name,
        phone: phone,
        ada: document.getElementById('ada').value.trim(),
        parsel: document.getElementById('parsel').value.trim(),
        il: document.getElementById('il').value.trim(),
        ilce: document.getElementById('ilce').value.trim(),
        message: message,
        date: new Date().toISOString(),
        read: false
    };
    
    try {
        const messages = JSON.parse(localStorage.getItem('cee_messages') || '[]');
        messages.unshift(formData);
        localStorage.setItem('cee_messages', JSON.stringify(messages));
        showSuccess('Mesajınız kaydedildi! En kısa sürede size dönüş yapacağız.');
        // closeWhatsApp(); // Not needed anymore
        const form = document.querySelector('#iletisim form');
        if (form) form.reset();
    } catch (e) {
        showError('Mesaj kaydedilemedi! Lütfen tekrar deneyin.');
        }
}

// goToAdmin zaten yukarıda tanımlı

window.addEventListener('DOMContentLoaded', init);
// UNIFIED CHAT SYSTEM
let chatMenuOpen = false;
let aiChatOpen = false;

function toggleChatMenu() {
    const menu = document.getElementById('chatMenu');
    const btn = document.getElementById('unifiedChatBtn');
    
    chatMenuOpen = !chatMenuOpen;
    
    if (chatMenuOpen) {
        menu.classList.add('active');
        btn.style.transform = 'rotate(45deg)';
    } else {
        menu.classList.remove('active');
        btn.style.transform = 'rotate(0deg)';
    }
}

function openAiAssistant(event) {
    // Event varsa prevent default
    if (event) {
        event.preventDefault();
        event.stopPropagation();
    }
    
    // Menüyü kapat
    chatMenuOpen = false;
    const menu = document.getElementById('chatMenu');
    const btn = document.getElementById('unifiedChatBtn');
    
    if (menu) menu.classList.remove('active');
    if (btn) btn.style.transform = 'rotate(0deg)';
    
    // AI Panel'i aç
    const panel = document.getElementById('aiAssistantPanel');
    if (panel) {
        panel.classList.add('active');
        // Input'a focus
        setTimeout(() => {
            const input = document.getElementById('aiPanelInput');
            if (input) input.focus();
        }, 300);
    }
}

function closeAiPanel() {
    const panel = document.getElementById('aiAssistantPanel');
    if (panel) {
        panel.classList.remove('active');
    }
}

function askPanelQuestion(question) {
    document.getElementById('aiPanelInput').value = question;
    sendPanelMessage();
}

let aiPanelHistory = [];

function sendPanelMessage() {
    const input = document.getElementById('aiPanelInput');
    const message = input.value.trim();
    
    if (!message) return;
    
    // Kullanıcı mesajını ekle
    addPanelMessage(message, 'user');
    input.value = '';
    
    // Typing göster
    showPanelTyping();
    
    // Cevabı oluştur
    setTimeout(() => {
        const response = getSmartResponse(message);
        hidePanelTyping();
        addPanelMessage(response, 'assistant');
        
        // Geçmişe ekle (öğrenme için)
        aiPanelHistory.push({
            question: message,
            answer: response,
            timestamp: Date.now()
        });
        
        // Local storage'a kaydet
        try {
            localStorage.setItem('cee_ai_history', JSON.stringify(aiPanelHistory.slice(-50)));
        } catch(e) {}
    }, 800);
}

function addPanelMessage(text, type) {
    const container = document.getElementById('aiPanelMessages');
    const messageDiv = document.createElement('div');
    messageDiv.className = `ai-panel-message ${type}`;
    
    const bubbleDiv = document.createElement('div');
    bubbleDiv.className = 'ai-panel-bubble';
    bubbleDiv.innerHTML = text;
    
    messageDiv.appendChild(bubbleDiv);
    container.appendChild(messageDiv);
    
    // Scroll to bottom
    container.scrollTop = container.scrollHeight;
}

function showPanelTyping() {
    const container = document.getElementById('aiPanelMessages');
    const typingDiv = document.createElement('div');
    typingDiv.className = 'ai-panel-message assistant';
    typingDiv.id = 'aiPanelTyping';
    typingDiv.innerHTML = `
        <div class="ai-panel-typing">
            <div class="ai-panel-typing-dot"></div>
            <div class="ai-panel-typing-dot"></div>
            <div class="ai-panel-typing-dot"></div>
        </div>
    `;
    container.appendChild(typingDiv);
    container.scrollTop = container.scrollHeight;
}

function hidePanelTyping() {
    const typing = document.getElementById('aiPanelTyping');
    if (typing) typing.remove();
}

function getSmartResponse(message) {
    const lowerMsg = message.toLowerCase();
    
    // AKILLI ARAMA - Tüm anahtar kelimeleri kontrol et
    const keywords = {
        piyes: ['piyes', 'piyès', 'çizim ölçü', 'teknik çizim', 'mimari çizim', 'proje ölçek'],
        yangin: ['yangın', 'yangin', 'fire', 'yangın merdiven', 'yangın kapı', 'yangın yalıtım'],
        merdiven: ['merdiven', 'stairs', 'basamak', 'rıht', 'riht', 'step'],
        emsal: ['emsal', 'kaks', 'inşaat alanı', 'yapı yoğunluk'],
        taks: ['taks', 'taban alan', 'zemin kat alan'],
        siginak: ['sığınak', 'siginak', 'shelter', 'hava sığınağı'],
        asansor: ['asansör', 'asansor', 'lift', 'elevator'],
        imar: ['imar', 'imar plan', 'nazım', 'uygulama planı'],
        ruhsat: ['ruhsat', 'izin', 'yapı ruhsat', 'inşaat izin', 'belediye izin'],
        otopark: ['otopark', 'park', 'parking', 'araç park', 'garaj'],
        mutfak: ['mutfak', 'kitchen', 'tezgah', 'dolap'],
        banyo: ['banyo', 'tuvalet', 'wc', 'lavabo', 'klozet'],
        kapi: ['kapı', 'kapi', 'door', 'giriş kapı'],
        pencere: ['pencere', 'window', 'cam', 'doÄŸrama'],
        yalitim: ['yalıtım', 'yalit', 'ısı yalıt', 'ses yalıt', 'nem yalıt', 'bep'],
        deprem: ['deprem', 'earthquake', 'tbdy', 'zemin etüd'],
        cati: ['çatı', 'cati', 'roof', 'dam', 'kiremit'],
        temel: ['temel', 'foundation', 'radye', 'kazık'],
        celik: ['çelik', 'celik', 'steel', 'demir', 'karkas'],
        beton: ['beton', 'concrete', 'betonarme', 'c25', 'c30'],
        cephe: ['cephe', 'facade', 'dış cephe', 'giydirme cephe'],
        tesisat: ['tesisat', 'mekanik', 'elektrik', 'hidrofor'],
        proje: ['proje', 'plan', 'tasarım', 'dizayn']
    };
    
    // Hangi kategori?
    let matchedCategory = null;
    for (const [category, words] of Object.entries(keywords)) {
        if (words.some(word => lowerMsg.includes(word))) {
            matchedCategory = category;
            break;
        }
    }
    
    // Telefon numarası tıklanabilir
    const phoneLink = '<a href="javascript:void(0)" onclick="handlePhoneClick()" style="color: #5a6677; font-weight: 600; text-decoration: none; border-bottom: 2px solid #5a6677;"><span id="displayPhone">(0537) 327 87 65</span></a>';
    
    // Kategoriye göre cevap
    if (matchedCategory === 'piyes') {
        return `<strong>📐 Piyes Ölçüleri (Mimari Çizim)</strong><br><br>
<strong>Vaziyet Planı:</strong> 1/500, 1/1000, 1/2000<br>
<strong>Kat Planları:</strong> 1/50 (detaylı), 1/100 (standart)<br>
<strong>Kesit & Görünüş:</strong> 1/50, 1/100<br>
<strong>Detaylar:</strong> 1/1, 1/2, 1/5, 1/10, 1/20<br><br>
<strong>Kağıt Boyutları:</strong><br>
• A0: 841 x 1189 mm<br>
• A1: 594 x 841 mm<br>
• A2: 420 x 594 mm<br>
• A3: 297 x 420 mm<br><br>
Profesyonel çizim hizmeti: ${phoneLink}`;
    }
    
    else if (matchedCategory === 'yangin') {
        return `<strong>🔥 Yangın Yönetmeliği</strong><br><br>
<strong>Yangın Merdiveni:</strong><br>
• Zorunluluk: 4+ katlı binalar<br>
• Genişlik: Min. 1.20 m (konut), 1.50 m (kamu)<br>
• Basamak: 28 cm genişlik, max 19 cm yükseklik<br>
• Kapı: EI 60 (60 dk yangın dayanımlı)<br><br>
<strong>Yangın Yalıtımı:</strong><br>
• Bodrum: EI 120<br>
• Kat arası: EI 60<br>
• Cephe: E 30-60<br><br>
Yangın projesi için: ${phoneLink}`;
    }
    
    else if (matchedCategory === 'merdiven') {
        return `<strong>🪜 Merdiven Ölçüleri</strong><br><br>
<strong>KONUT:</strong><br>
• Basamak genişliği: Min. 28 cm<br>
• Yükseklik: Max. 18 cm<br>
• Merdiven genişliği: Min. 90 cm<br>
• Formül: 2h + g = 60-65 cm ✓<br><br>
<strong>KAMU YAPILARI:</strong><br>
• Basamak genişliği: Min. 30 cm<br>
• Yükseklik: Max. 17 cm<br>
• Genişlik: Min. 1.50 m<br><br>
<strong>Korkuluk:</strong> Min. 90 cm<br><br>
Merdiven projesi: ${phoneLink}`;
    }
    
    else if (matchedCategory === 'emsal') {
        return `<strong>📊 Emsal (KAKS)</strong><br><br>
<strong>Tanım:</strong> Toplam İnşaat Alanı / Arsa Alanı<br><br>
<strong>Örnek:</strong><br>
• 500 m² arsa<br>
• 1.5 emsal<br>
• <strong>Toplam İnşaat: 750 m²</strong><br><br>
<strong>Önemli:</strong><br>
• Bodrum katlar emsale dahil DEĞİL<br>
• Her bölgede farklıdır<br>
• İmar planında belirtilir<br><br>
Emsal hesabı: ${phoneLink}`;
    }
    
    else if (matchedCategory === 'siginak') {
        return `<strong>🛡️ Sığınak Yönetmeliği</strong><br><br>
<strong>Zorunluluk:</strong> 2000 m² ve üzeri<br><br>
<strong>Teknik Özellikler:</strong><br>
• Alan: İnşaat alanının %2'si<br>
• Tavan: Min. 2.20 m<br>
• Duvar: Min. 30 cm betonarme<br>
• Kapı: Gaz sızdırmaz<br>
• Havalandırma: Özel sistem<br><br>
Sığınak projesi: ${phoneLink}`;
    }
    
    else if (matchedCategory === 'otopark') {
        return `<strong>🚗 Otopark Yönetmeliği</strong><br><br>
<strong>Araç Yeri:</strong><br>
• Standart: 2.30 x 5.00 m<br>
• Engelli: 3.70 x 5.00 m<br><br>
<strong>Koridor:</strong><br>
• İki yönlü: Min. 6.00 m<br>
• Tek yönlü: Min. 3.50 m<br><br>
<strong>Tavan:</strong> Min. 2.30 m<br>
<strong>Havalandırma:</strong> Mekanik (kapalı)<br><br>
Otopark projesi: ${phoneLink}`;
    }
    
    else if (matchedCategory === 'yalitim') {
        return `<strong>🏠 Isı Yalıtımı & BEP</strong><br><br>
<strong>Duvar:</strong> Min. 5 cm XPS/EPS<br>
<strong>Çatı:</strong> Min. 10 cm<br>
<strong>Taban:</strong> Min. 5 cm<br>
<strong>Cam:</strong> Çift cam, U≤1.8<br><br>
<strong>BEP Belgesi:</strong><br>
• 2011'den beri zorunlu<br>
• Enerji sınıfı: A-G arası<br><br>
BEP belgesi düzenleme: ${phoneLink}`;
    }
    
    else if (matchedCategory === 'ruhsat') {
        return `<strong>📋 İnşaat Ruhsatı</strong><br><br>
<strong>Gerekli Belgeler:</strong><br>
• Tapu<br>
• İmar durumu<br>
• Mimari proje (3 takım)<br>
• Statik proje<br>
• Elektrik projesi<br>
• Mekanik proje<br>
• Zemin etüdü<br>
• Aplikasyon<br><br>
<strong>Süre:</strong> 2-4 ay<br><br>
Ruhsat hizmeti: ${phoneLink}`;
    }
    
    else if (matchedCategory === 'taks') {
        return `<strong>📏 TAKS (Taban Alanı Katsayısı)</strong><br><br>
<strong>Formül:</strong> Taban Alanı / Arsa Alanı<br><br>
<strong>Örnek:</strong><br>
• 500 m² arsa<br>
• TAKS: 0.40<br>
• <strong>Taban Alanı: 200 m²</strong><br><br>
<strong>Tipik DeÄŸerler:</strong><br>
• Konut: 0.30 - 0.40<br>
• Ticaret: 0.60 - 0.80<br><br>
İmar durumu analizi: ${phoneLink}`;
    }
    
    else if (matchedCategory === 'deprem') {
        return `<strong>🏗️ Deprem Yönetmeliği (TBDY 2018)</strong><br><br>
<strong>Zorunluluklar:</strong><br>
• Zemin etüdü raporu<br>
• Deprem bölgesi analizi<br>
• Yapı yükseklik kontrolü<br>
• Betonarme yapı sistemi<br><br>
<strong>Zemin Sınıfları:</strong><br>
• ZA: Sağlam kayalar<br>
• ZB: Az ayrışmış kayalar<br>
• ZC: Sıkı kum/kil<br>
• ZD: Gevşek kum/kil<br>
• ZE: Yumuşak killer<br><br>
Deprem projesi: ${phoneLink}`;
    }
    
    else if (matchedCategory === 'cephe') {
        return `<strong>🏢 Cephe Sistemleri</strong><br><br>
<strong>Cephe Türleri:</strong><br>
• Klasik sıva cephe<br>
• Giydirme cephe<br>
• Cam cephe<br>
• Kompozit panel<br>
• Doğal taş kaplama<br><br>
<strong>Önemli Noktalar:</strong><br>
• Isı yalıtımı zorunlu<br>
• Yangın geçişini önleme<br>
• Su yalıtımı detayları<br><br>
Cephe tasarımı: ${phoneLink}`;
    }
    
    else if (matchedCategory === 'proje') {
        return `<strong>📐 Mimari Proje Hizmetleri</strong><br><br>
<strong>Proje Aşamaları:</strong><br>
1. Ön görüşme & keşif<br>
2. Konsept tasarım<br>
3. Ön proje<br>
4. Kesin proje<br>
5. Uygulama projesi<br>
6. Ruhsat iÅŸlemleri<br><br>
<strong>Hizmetlerimiz:</strong><br>
• Konut projeleri<br>
• Villa projeleri<br>
• Ticari yapılar<br>
• İç mimari<br>
• 3D görselleştirme<br><br>
Proje teklifi: ${phoneLink}`;
    }
    
    // Genel mimarlık sorusu
    else if (lowerMsg.includes('fiyat') || lowerMsg.includes('ücret') || lowerMsg.includes('ne kadar')) {
        return `<strong>💰 Fiyat Bilgisi</strong><br><br>
Projelerimiz için fiyat, projenizin özelliklerine göre değişmektedir:<br><br>
• Proje türü (konut, villa, ticari)<br>
• Alan büyüklüğü<br>
• Detay seviyesi<br>
• Ek hizmetler (3D, ruhsat, vb.)<br><br>
<strong>Detaylı fiyat teklifi için:</strong><br>
📞 ${phoneLink}<br>
📍 Hatip, Ali Osman Çelebi Blv. No:52 A Blok Kat 1 No:3, 59860 Çorlu/Tekirdağ`;
    }
    
    else if (lowerMsg.includes('merhaba') || lowerMsg.includes('selam') || lowerMsg.includes('hello') || lowerMsg.includes('hi')) {
        return `Merhaba! 👋<br><br>
Size nasıl yardımcı olabilirim?<br><br>
<strong>Sorabilecekleriniz:</strong><br>
• Piyes ölçüleri<br>
• Yangın, merdiven, otopark yönetmelikleri<br>
• Emsal, TAKS hesaplamaları<br>
• İnşaat ruhsatı<br>
• Cephe sistemleri<br>
• Proje fiyatları<br><br>
Sorunuzu yazabilirsiniz! 🏗️`;
    }
    
    // Bilinmeyen soru - müşteri temsilcisi modunda + ÖĞRENME
    else {
        // Öğrenme sistemi - yeni kelimeler kaydet
        try {
            let unknownQuestions = JSON.parse(localStorage.getItem('cee_unknown_questions') || '[]');
            unknownQuestions.push({
                question: message,
                timestamp: Date.now(),
                keywords: lowerMsg.split(' ').filter(w => w.length > 3)
            });
            // Son 100 bilinmeyen soruyu sakla
            localStorage.setItem('cee_unknown_questions', JSON.stringify(unknownQuestions.slice(-100)));
        } catch(e) {}
        
        return `Anlıyorum, <strong>"${message}"</strong> konusunda detaylı bilgi almak istiyorsunuz.<br><br>
Bu konu için uzman ekibimizle görüşmenizi öneriyorum. Size en doğru ve güncel bilgiyi verebilirler.<br><br>
<strong>📞 Hemen İletişime Geçin:</strong><br>
Telefon: ${phoneLink}<br>
Adres: Hatip, Ali Osman Çelebi Blv. No:52 A Blok Kat 1 No:3, 59860 Çorlu/Tekirdağ<br><br>
Başka sorunuz varsa sormaktan çekinmeyin! 🏗️`;
    }
}

// Sayfa yüklendiğinde geçmişi yükle
try {
    const savedHistory = localStorage.getItem('cee_ai_history');
    if (savedHistory) {
        aiPanelHistory = JSON.parse(savedHistory);
    }
} catch(e) {}

// FAQ TOGGLE
function toggleFaq(element) {
    const answer = element.querySelector('.faq-answer');
    const icon = element.querySelector('span');
    const isOpen = answer.style.maxHeight && answer.style.maxHeight !== '0px';
    
    // Tüm FAQ'ları kapat
    document.querySelectorAll('.faq-item').forEach(item => {
        item.querySelector('.faq-answer').style.maxHeight = '0';
        item.querySelector('span').textContent = '+';
        item.querySelector('span').style.transform = 'rotate(0deg)';
    });
    
    // Eğer kapalıysa aç
    if (!isOpen) {
        answer.style.maxHeight = answer.scrollHeight + 'px';
        icon.textContent = '−';
        icon.style.transform = 'rotate(180deg)';
    }
}

// SERVICE CARD HOVER
document.addEventListener('DOMContentLoaded', function() {
    const serviceCards = document.querySelectorAll('.service-card');
    serviceCards.forEach(card => {
        card.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-10px)';
            this.style.boxShadow = '0 10px 30px rgba(212, 175, 55, 0.2)';
        });
        card.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0)';
            this.style.boxShadow = '0 2px 10px rgba(0,0,0,0.05)';
        });
    });
    
    // REFERENCE CARD HOVER
    const referenceItems = document.querySelectorAll('.reference-item');
    referenceItems.forEach(item => {
        item.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-5px)';
            this.style.borderColor = '#5a6677';
            this.style.boxShadow = '0 5px 20px rgba(212, 175, 55, 0.15)';
        });
        item.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0)';
            this.style.borderColor = '#e0e0e0';
            this.style.boxShadow = 'none';
        });
    });
});

function openAiChat(event) {
    // Event varsa prevent default
    if (event) {
        event.preventDefault();
        event.stopPropagation();
    }
    
    // Menüyü kapat
    chatMenuOpen = false;
    const menu = document.getElementById('chatMenu');
    const btn = document.getElementById('unifiedChatBtn');
    
    if (menu) menu.classList.remove('active');
    if (btn) btn.style.transform = 'rotate(0deg)';
    
    // AI Chat'i aç
    const chatWindow = document.getElementById('aiChatWindow');
    if (chatWindow) {
        chatWindow.classList.add('active');
        aiChatOpen = true;
        
        // İlk açılışta quick questions göster
        setTimeout(() => {
            const quickQ = document.getElementById('aiQuickQuestions');
            if (quickQ && quickQ.style.display === 'none') {
                quickQ.style.display = 'grid';
            }
        }, 100);
    }
}

function openWhatsAppDirect(event) {
    // Event varsa (click event) prevent default
    if (event) {
        event.preventDefault();
        event.stopPropagation();
    }
    
    // Menüyü kapat
    chatMenuOpen = false;
    const menu = document.getElementById('chatMenu');
    const btn = document.getElementById('unifiedChatBtn');
    
    if (menu) menu.classList.remove('active');
    if (btn) btn.style.transform = 'rotate(0deg)';
    
    // WhatsApp'ı aç
    const phoneNumber = '905373278765'; // WhatsApp numarası
    const message = 'Merhaba! Web sitenizden ulaşıyorum. Mimari proje hakkında bilgi almak istiyorum.';
    const url = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`;
    
    // Debug
    // Mobile ve desktop için farklı yöntemler
    const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
    
    if (isMobile) {
        // Mobile: location.href kullan (daha güvenilir)
        window.location.href = url;
    } else {
        // Desktop: yeni tab
        window.open(url, '_blank');
    }
}

function toggleAiChat() {
    const window = document.getElementById('aiChatWindow');
    aiChatOpen = !aiChatOpen;
    
    if (aiChatOpen) {
        window.classList.add('active');
        setTimeout(() => {
            const quickQ = document.getElementById('aiQuickQuestions');
            if (quickQ && quickQ.style.display === 'none') {
                quickQ.style.display = 'grid';
            }
        }, 100);
    } else {
        window.classList.remove('active');
    }
}

// Close menu when clicking outside
document.addEventListener('click', function(event) {
    const btn = document.getElementById('unifiedChatBtn');
    const menu = document.getElementById('chatMenu');
    
    if (chatMenuOpen && btn && menu && !btn.contains(event.target) && !menu.contains(event.target)) {
        chatMenuOpen = false;
        menu.classList.remove('active');
        btn.style.transform = 'rotate(0deg)';
    }
});

// Mobile touch support
document.addEventListener('touchstart', function(event) {
    const btn = document.getElementById('unifiedChatBtn');
    const menu = document.getElementById('chatMenu');
    
    if (chatMenuOpen && btn && menu && !btn.contains(event.target) && !menu.contains(event.target)) {
        chatMenuOpen = false;
        menu.classList.remove('active');
        btn.style.transform = 'rotate(0deg)';
    }
}, { passive: true });

// AI CHAT ASSISTANT

function askQuestion(question) {
    // Quick question'ı gizle
    document.getElementById('aiQuickQuestions').style.display = 'none';
    
    // Kullanıcı mesajını ekle
    addMessage(question, 'user');
    
    // AI cevabını göster
    setTimeout(() => {
        showTypingIndicator();
        setTimeout(() => {
            hideTypingIndicator();
            const answer = getAiAnswer(question);
            addMessage(answer, 'ai');
        }, 1500);
    }, 300);
}

function sendAiMessage() {
    const input = document.getElementById('aiChatInput');
    const question = input.value.trim();
    
    if (!question) return;
    
    // Quick questions'ı gizle
    const quickQ = document.getElementById('aiQuickQuestions');
    if (quickQ) quickQ.style.display = 'none';
    
    // Mesajı ekle
    addMessage(question, 'user');
    input.value = '';
    
    // AI cevabını göster
    setTimeout(() => {
        showTypingIndicator();
        setTimeout(() => {
            hideTypingIndicator();
            const answer = getAiAnswer(question);
            addMessage(answer, 'ai');
        }, 1500);
    }, 300);
}

function addMessage(text, sender) {
    const messagesDiv = document.getElementById('aiChatMessages');
    const messageDiv = document.createElement('div');
    messageDiv.className = sender === 'user' ? 'ai-message user-message' : 'ai-message';
    
    const avatar = document.createElement('div');
    avatar.className = 'ai-message-avatar';
    avatar.textContent = sender === 'user' ? 'SİZ' : 'AI';
    
    const content = document.createElement('div');
    content.className = 'ai-message-content';
    content.innerHTML = `<p>${text}</p>`;
    
    messageDiv.appendChild(avatar);
    messageDiv.appendChild(content);
    messagesDiv.appendChild(messageDiv);
    
    // Scroll to bottom
    messagesDiv.scrollTop = messagesDiv.scrollHeight;
}

function showTypingIndicator() {
    const messagesDiv = document.getElementById('aiChatMessages');
    const typingDiv = document.createElement('div');
    typingDiv.className = 'ai-message';
    typingDiv.id = 'typingIndicator';
    typingDiv.innerHTML = `
        <div class="ai-message-avatar">AI</div>
        <div class="ai-message-content">
            <div class="ai-typing active">
                <span></span><span></span><span></span>
            </div>
        </div>
    `;
    messagesDiv.appendChild(typingDiv);
    messagesDiv.scrollTop = messagesDiv.scrollHeight;
}

function hideTypingIndicator() {
    const indicator = document.getElementById('typingIndicator');
    if (indicator) indicator.remove();
}

function getAiAnswer(question) {
    const q = question.toLowerCase().replace(/[ğ]/g, 'g').replace(/[ü]/g, 'u').replace(/[ş]/g, 's').replace(/[ı]/g, 'i').replace(/[ö]/g, 'o').replace(/[ç]/g, 'c');
    
    // Gelişmiş Mimarlık Bilgi Bankası
    const answers = {
        // Villa projeleri
        villa: `🏡 <b>Villa Projeleri:</b><br><br>
Villa projelerimizde modern mimari ve fonksiyonel tasarım anlayışı sunuyoruz:<br><br>
• <b>Arazi Analizi:</b> Topoğrafya, manzara, güneşlenme<br>
• <b>Konsept Tasarım:</b> Size özel mimari çözümler<br>
• <b>3D Görselleştirme:</b> Projenizi gerçek gibi görün<br>
• <b>Ruhsat İşlemleri:</b> Tüm yasal süreçler dahil<br><br>
Detaylı bilgi için mesaj atabilirsiniz!`,

        // Tasarım süreci
        tasarim: `📐 <b>Mimari Tasarım Sürecimiz:</b><br><br>
<b>1. İhtiyaç Analizi (1-2 hafta)</b><br>
• İlk görüşme ve saha keşfi<br>
• Bütçe belirleme<br><br>
<b>2. Ön Tasarım (2-3 hafta)</b><br>
• Konsept eskizler ve 3D modelleme<br><br>
<b>3. Uygulama Projesi (4-6 hafta)</b><br>
• Detaylı çizimler ve statik hesaplar<br><br>
<b>4. Ruhsat ve Uygulama</b><br>
• Belediye onayları ve şantiye takibi`,

        // İç mimarlık
        ic: `🛋️ <b>İç Mimarlık Hizmetlerimiz:</b><br><br>
• Mekan Planlaması<br>
• Mobilya Tasarımı (özel üretim)<br>
• Malzeme Seçimi<br>
• Aydınlatma Tasarımı<br>
• Renk Paleti Oluşturma<br>
• 3D Görselleştirme<br><br>
Portföyümüzü inceleyebilirsiniz!`,

        // TAKS KAKS
        taks: `📊 <b>TAKS ve KAKS Nedir?</b><br><br>
<b>TAKS (Taban Alanı Kat Sayısı):</b><br>
Yapının taban alanının parsel alanına oranıdır.<br>
• Formül: TAKS = Taban Alanı / Parsel Alanı<br>
• Örnek: 500m² parselde TAKS=0.40 ise max taban 200m²<br><br>
<b>KAKS (Kat Alanı Kat Sayısı):</b><br>
Toplam inşaat alanının parsel alanına oranıdır.<br>
• Formül: KAKS = Toplam İnşaat / Parsel Alanı<br>
• Örnek: KAKS=1.5 ise 500m² parselde max 750m² inşaat<br><br>
<b>Emsal:</b> KAKS ile aynı anlama gelir.`,

        // İmar
        imar: `🏛️ <b>İmar Mevzuatı Bilgileri:</b><br><br>
<b>Önemli Kavramlar:</b><br>
• <b>İmar Durumu:</b> Parselin yapılaşma şartları<br>
• <b>Çekme Mesafeleri:</b> Yapının sınırlara uzaklığı<br>
• <b>H max:</b> Maksimum bina yüksekliği<br>
• <b>Kat Adedi:</b> İzin verilen kat sayısı<br><br>
<b>Başvuru İçin Gerekli Belgeler:</b><br>
• Tapu fotokopisi<br>
• İmar durumu belgesi<br>
• Mimari proje<br>
• Statik proje<br>
• Mekanik proje`,

        // Ruhsat
        ruhsat: `📋 <b>Yapı Ruhsatı Süreci:</b><br><br>
<b>Gerekli Projeler:</b><br>
✅ Mimari Proje<br>
✅ Statik Proje<br>
✅ Mekanik (Tesisat) Proje<br>
✅ Elektrik Proje<br><br>
<b>Gerekli Belgeler:</b><br>
• Tapu fotokopisi<br>
• İmar durum belgesi<br>
• Zemin etüdü raporu<br>
• Harita aplikasyonu<br><br>
<b>Süre:</b> Ortalama 2-4 ay (belediyeye göre değişir)`,

        // Deprem yönetmeliği
        deprem: `🏗️ <b>Türkiye Bina Deprem Yönetmeliği (TBDY 2018):</b><br><br>
<b>Temel Prensipler:</b><br>
• Dayanım esaslı tasarım<br>
• Süneklik sınıfları (sınırlı, normal, yüksek)<br>
• Deprem bölgeleri yerine DD-1, DD-2, DD-3, DD-4<br><br>
<b>Yapı Düzensizlikleri:</b><br>
• A Tipi (Plan): Burulma, döşeme süreksizliği<br>
• B Tipi (Düşey): Yumuşak kat, rijitlik düzensizliği<br><br>
<b>Önemli:</b> Tüm projelerimiz TBDY 2018'e uygundur.`,

        // Yangın yönetmeliği
        yangin: `🔥 <b>Binaların Yangından Korunması Yönetmeliği:</b><br><br>
<b>Kaçış Yolları:</b><br>
• Min genişlik: 80cm (konut), 120cm (ticari)<br>
• Merdiven genişliği: Min 120cm<br><br>
<b>Yangın Merdiveni Zorunluluğu:</b><br>
• 21.50m üzeri binalar<br>
• 30 kişiyi aşan katlar<br><br>
<b>Yangın Kompartımanı:</b><br>
• Her 2500m²'de bölme<br>
• 2 saat yangın dayanımı`,

        // Maliyet
        maliyet: `💰 <b>Proje Maliyetleri:</b><br><br>
<b>Mimari Proje (m² bazlı):</b><br>
• Villa: 150-300 TL/m²<br>
• Apartman: 100-200 TL/m²<br>
• İç Mekan: 80-150 TL/m²<br>
• Ticari: 120-250 TL/m²<br><br>
<b>Not:</b> Fiyatlar proje kapsamına göre değişir.<br>
Net fiyat için proje detaylarınızı paylaşın!`,

        // Çekme mesafeleri
        cekme: `📏 <b>Çekme Mesafeleri:</b><br><br>
<b>Ayrık Yapı Düzeni:</b><br>
• Ön bahçe: Min 5m (yola göre değişir)<br>
• Arka bahçe: Min 3m (H/2 kuralı)<br>
• Yan bahçe: Min 3m<br><br>
<b>Bitişik Yapı Düzeni:</b><br>
• Sadece ön ve arka bahçe çekmesi<br><br>
<b>Not:</b> İmar planına göre değişiklik gösterebilir.`,

        // Kat yüksekliği
        kat: `📐 <b>Kat Yüksekliği Standartları:</b><br><br>
<b>Konutlarda:</b><br>
• Min döşemeden tavana: 2.40m<br>
• Brüt kat yüksekliği: 2.80-3.00m<br><br>
<b>Ticari Alanlarda:</b><br>
• Min temiz yükseklik: 2.60m<br>
• Bodrum: Min 2.40m<br><br>
<b>Asansör Zorunluluğu:</b><br>
• 4 kattan fazla binalarda zorunlu`,

        // Otopark
        otopark: `🚗 <b>Otopark Yönetmeliği:</b><br><br>
<b>Konut:</b><br>
• 0-75m²: 1 araç / 2 daire<br>
• 75-150m²: 1 araç / daire<br>
• 150m² üzeri: 2 araç / daire<br><br>
<b>Ticari:</b><br>
• Ofis: 1 araç / 30m²<br>
• Mağaza: 1 araç / 50m²<br><br>
<b>Otopark Boyutları:</b><br>
• Min 2.50 x 5.00m`,

        // 3D
        '3d': `🎨 <b>3D Görselleştirme:</b><br><br>
• Fotorealistik görüntüler<br>
• Gündüz/gece sahneleri<br>
• İç ve dış mekan renderleri<br>
• 360° sanal tur<br>
• Video animasyon<br><br>
Projenizi yaşamadan önce görün!`,

        // Süre
        sure: `⏱️ <b>Proje Süreleri:</b><br><br>
• Villa Projesi: 6-8 hafta<br>
• Konut İç Mekan: 3-4 hafta<br>
• Ticari Mekan: 4-6 hafta<br>
• Ruhsat Süreci: 2-4 ay<br><br>
Acil projeler için hızlandırılmış seçeneklerimiz var!`,

        // Ödeme
        odeme: `💳 <b>Ödeme Koşulları:</b><br><br>
<b>Standart Plan:</b><br>
• %40 - Sözleşmede<br>
• %30 - Ön tasarım onayında<br>
• %30 - Proje tesliminde<br><br>
Özel ödeme planları için görüşebiliriz!`,

        // Default
        default: `Merhaba! 👋<br><br>
CEE Mimarlık AI asistanıyım. Size yardımcı olabileceğim konular:<br><br>
🏡 Villa ve konut projeleri<br>
📐 Tasarım süreci<br>
🛋️ İç mimarlık<br>
📊 TAKS/KAKS hesaplama<br>
🏛️ İmar mevzuatı<br>
📋 Ruhsat işlemleri<br>
🏗️ Deprem yönetmeliği<br>
🔥 Yangın yönetmeliği<br>
📏 Çekme mesafeleri<br>
🚗 Otopark yönetmeliği<br>
💰 Maliyet hesaplama<br><br>
Sorunuzu yazın, detaylı bilgi vereyim!`
    };
    
    // GeliÅŸmiÅŸ anahtar kelime eÅŸleÅŸtirme
    if (q.includes('taks') || q.includes('kaks') || q.includes('emsal')) {
        return answers.taks;
    } else if (q.includes('imar') || q.includes('yapi') || q.includes('mevzuat')) {
        return answers.imar;
    } else if (q.includes('deprem') || q.includes('tbdy') || q.includes('yonetmelik') && q.includes('bina')) {
        return answers.deprem;
    } else if (q.includes('yangin') || q.includes('kacis') || q.includes('merdiven')) {
        return answers.yangin;
    } else if (q.includes('cekme') || q.includes('bahce') || q.includes('mesafe')) {
        return answers.cekme;
    } else if (q.includes('kat') && (q.includes('yukseklik') || q.includes('asansor'))) {
        return answers.kat;
    } else if (q.includes('otopark') || q.includes('park') || q.includes('garaj')) {
        return answers.otopark;
    } else if (q.includes('villa') || q.includes('ev') || q.includes('konut')) {
        return answers.villa;
    } else if (q.includes('tasarim') || q.includes('surec') || q.includes('nasil') || q.includes('asama')) {
        return answers.tasarim;
    } else if (q.includes('ic') || q.includes('mobilya') || q.includes('dekor')) {
        return answers.ic;
    } else if (q.includes('maliyet') || q.includes('fiyat') || q.includes('ucret') || q.includes('para')) {
        return answers.maliyet;
    } else if (q.includes('sure') || q.includes('ne kadar') || q.includes('zaman')) {
        return answers.sure;
    } else if (q.includes('ruhsat') || q.includes('izin') || q.includes('belediye')) {
        return answers.ruhsat;
    } else if (q.includes('odeme') || q.includes('taksit') || q.includes('pesin')) {
        return answers.odeme;
    } else if (q.includes('3d') || q.includes('gorsel') || q.includes('render')) {
        return answers['3d'];
    } else {
        return answers.default;
    }
}

// DWG TOOLS SYSTEM
let converterFile = null;
let downgradeFile = null;

function openDwgTools() {
    document.getElementById('dwgToolsModal').classList.add('active');
}

function closeDwgTools() {
    document.getElementById('dwgToolsModal').classList.remove('active');
}

function switchDwgTab(tab) {
    // Switch tabs
    document.querySelectorAll('.dwg-tab').forEach(t => t.classList.remove('active'));
    document.querySelectorAll('.dwg-tab-content').forEach(c => c.classList.remove('active'));
    
    document.querySelector(`[data-tab="${tab}"]`).classList.add('active');
    document.getElementById(tab + 'Tab').classList.add('active');
}

// CONVERTER FUNCTIONS
function handleConverterFile(file) {
    if (!file) return;
    
    const maxSize = 50 * 1024 * 1024; // 50MB
    if (file.size > maxSize) {
        showError('Dosya boyutu 50MB\'dan küçük olmalıdır!');
        return;
    }
    
    const validTypes = ['.dwg', '.dxf'];
    const ext = '.' + file.name.split('.').pop().toLowerCase();
    if (!validTypes.includes(ext)) {
        showError('Sadece DWG ve DXF dosyaları kabul edilir!');
        return;
    }
    
    converterFile = file;
    
    // Show preview
    document.getElementById('converterUpload').style.display = 'none';
    document.getElementById('converterPreview').style.display = 'flex';
    document.getElementById('converterFileName').textContent = file.name;
    document.getElementById('converterFileSize').textContent = formatFileSize(file.size);
    document.getElementById('convertBtn').disabled = false;
    
    showSuccess('Dosya yüklendi: ' + file.name);
}

function removeConverterFile() {
    converterFile = null;
    document.getElementById('converterUpload').style.display = 'block';
    document.getElementById('converterPreview').style.display = 'none';
    document.getElementById('converterFileInput').value = '';
    document.getElementById('convertBtn').disabled = true;
    document.getElementById('converterResult').style.display = 'none';
}

function updateQualityLabel(value) {
    const labels = ['Düşük Kalite', 'Orta Kalite', 'Yüksek Kalite', 'En Yüksek Kalite'];
    document.getElementById('currentQuality').textContent = labels[value - 1];
}

function convertDwgFile() {
    if (!converterFile) {
        showError('Lütfen bir dosya yükleyin!');
        return;
    }
    
    const format = document.querySelector('input[name="outputFormat"]:checked').value;
    const quality = document.getElementById('qualitySlider').value;
    
    // Show progress
    document.getElementById('convertBtn').disabled = true;
    document.getElementById('converterProgress').style.display = 'block';
    document.getElementById('converterResult').style.display = 'none';
    
    // Simulate conversion process
    let progress = 0;
    const interval = setInterval(() => {
        progress += Math.random() * 15;
        if (progress > 100) progress = 100;
        
        document.getElementById('converterProgressBar').style.width = progress + '%';
        document.getElementById('converterProgressText').textContent = `Dönüştürülüyor... ${Math.floor(progress)}%`;
        
        if (progress >= 100) {
            clearInterval(interval);
            setTimeout(() => {
                document.getElementById('converterProgress').style.display = 'none';
                document.getElementById('converterResult').style.display = 'block';
                document.getElementById('convertBtn').disabled = false;
                
                // Create download button
                const downloadBtn = document.getElementById('converterDownloadBtn');
                downloadBtn.onclick = () => {
                    // In real implementation, this would download the converted file
                    const fileName = converterFile.name.replace(/\.[^/.]+$/, '') + '.' + format;
                    showSuccess(`${fileName} indirilmeye hazır!`);
                    
                    // Simulate download
                    const blob = new Blob(['Converted file content'], { type: 'application/octet-stream' });
                    const url = URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = fileName;
                    a.click();
                };
                
                showSuccess('Dönüştürme başarıyla tamamlandı!');
            }, 500);
        }
    }, 200);
}

// DOWNGRADE FUNCTIONS
function handleDowngradeFile(file) {
    if (!file) return;
    
    const maxSize = 50 * 1024 * 1024; // 50MB
    if (file.size > maxSize) {
        showError('Dosya boyutu 50MB\'dan küçük olmalıdır!');
        return;
    }
    
    const ext = '.' + file.name.split('.').pop().toLowerCase();
    if (ext !== '.dwg') {
        showError('Sadece DWG dosyaları kabul edilir!');
        return;
    }
    
    downgradeFile = file;
    
    // Show preview
    document.getElementById('downgradeUpload').style.display = 'none';
    document.getElementById('downgradePreview').style.display = 'flex';
    document.getElementById('downgradeFileName').textContent = file.name;
    document.getElementById('downgradeFileSize').textContent = formatFileSize(file.size);
    
    // Detect version (simulated)
    setTimeout(() => {
        const versions = ['AutoCAD 2025', 'AutoCAD 2024', 'AutoCAD 2021', 'AutoCAD 2018'];
        const detectedVersion = versions[Math.floor(Math.random() * versions.length)];
        document.getElementById('downgradeFileVersion').textContent = 'Tespit edilen versiyon: ' + detectedVersion;
    }, 1000);
    
    document.getElementById('downgradeBtn').disabled = false;
    
    showSuccess('Dosya yüklendi: ' + file.name);
}

function removeDowngradeFile() {
    downgradeFile = null;
    document.getElementById('downgradeUpload').style.display = 'block';
    document.getElementById('downgradePreview').style.display = 'none';
    document.getElementById('downgradeFileInput').value = '';
    document.getElementById('downgradeBtn').disabled = true;
    document.getElementById('downgradeResult').style.display = 'none';
}

function downgradeDwgFile() {
    if (!downgradeFile) {
        showError('Lütfen bir dosya yükleyin!');
        return;
    }
    
    const targetVersion = document.querySelector('input[name="targetVersion"]:checked').value;
    const versionNames = {
        '2018': 'AutoCAD 2018',
        '2013': 'AutoCAD 2013',
        '2010': 'AutoCAD 2010',
        '2007': 'AutoCAD 2007',
        '2004': 'AutoCAD 2004',
        'R14': 'AutoCAD R14'
    };
    
    // Show progress
    document.getElementById('downgradeBtn').disabled = true;
    document.getElementById('downgradeProgress').style.display = 'block';
    document.getElementById('downgradeResult').style.display = 'none';
    
    // Simulate downgrade process
    let progress = 0;
    const interval = setInterval(() => {
        progress += Math.random() * 12;
        if (progress > 100) progress = 100;
        
        document.getElementById('downgradeProgressBar').style.width = progress + '%';
        document.getElementById('downgradeProgressText').textContent = `İşleniyor... ${Math.floor(progress)}%`;
        
        if (progress >= 100) {
            clearInterval(interval);
            setTimeout(() => {
                document.getElementById('downgradeProgress').style.display = 'none';
                document.getElementById('downgradeResult').style.display = 'block';
                document.getElementById('downgradeBtn').disabled = false;
                
                document.getElementById('downgradeResultInfo').textContent = 
                    `Dosya başarıyla ${versionNames[targetVersion]} formatına dönüştürüldü.`;
                
                // Create download button
                const downloadBtn = document.getElementById('downgradeDownloadBtn');
                downloadBtn.onclick = () => {
                    const fileName = downgradeFile.name.replace('.dwg', '') + '_' + targetVersion + '.dwg';
                    showSuccess(`${fileName} indirilmeye hazır!`);
                    
                    // Simulate download
                    const blob = new Blob(['Downgraded DWG content'], { type: 'application/octet-stream' });
                    const url = URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = fileName;
                    a.click();
                };
                
                showSuccess('Versiyon düşürme başarıyla tamamlandı!');
            }, 500);
        }
    }, 250);
}

function formatFileSize(bytes) {
    if (bytes === 0) return '0 Bytes';
    const k = 1024;
    const sizes = ['Bytes', 'KB', 'MB', 'GB'];
    const i = Math.floor(Math.log(bytes) / Math.log(k));
    return Math.round(bytes / Math.pow(k, i) * 100) / 100 + ' ' + sizes[i];
}

// Close modal when clicking outside
document.addEventListener('click', function(event) {
    const modal = document.getElementById('dwgToolsModal');
    if (event.target === modal) {
        closeDwgTools();
    }
});

// TOAST NOTIFICATIONS
function showToast(message, type = 'info', duration = 3000) {
    const container = document.getElementById('toastContainer');
    if (!container) return;
    
    const toast = document.createElement('div');
    toast.className = `toast toast-${type}`;
    
    const icons = {
        success: '<svg viewBox="0 0 24 24" fill="none" stroke="#10b981" stroke-width="2"><path d="M20 6L9 17l-5-5"/></svg>',
        error: '<svg viewBox="0 0 24 24" fill="none" stroke="#ef4444" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M15 9l-6 6M9 9l6 6"/></svg>',
        info: '<svg viewBox="0 0 24 24" fill="none" stroke="#3b82f6" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4M12 8h.01"/></svg>',
        warning: '<svg viewBox="0 0 24 24" fill="none" stroke="#f59e0b" stroke-width="2"><path d="M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z"/><path d="M12 9v4M12 17h.01"/></svg>'
    };
    
    const titles = {
        success: 'Başarılı!',
        error: 'Hata!',
        info: 'Bilgi',
        warning: 'Uyarı'
    };
    
    toast.innerHTML = `
        <div class="toast-icon">${icons[type]}</div>
        <div class="toast-content">
            <div class="toast-title">${titles[type]}</div>
            <div class="toast-message">${message}</div>
        </div>
        <button class="toast-close" onclick="this.parentElement.remove()">×</button>
        <div class="toast-progress"></div>
    `;
    
    container.appendChild(toast);
    
    // Auto remove
    setTimeout(() => {
        toast.classList.add('removing');
        setTimeout(() => toast.remove(), 300);
    }, duration);
}

// Convenience functions
function showSuccess(message) {
    showToast(message, 'success');
}

function showError(message) {
    showToast(message, 'error');
}

function showInfo(message) {
    showToast(message, 'info');
}

function showWarning(message) {
    showToast(message, 'warning');
}

// ANIMATED COUNTERS
function animateCounters() {
    const counters = document.querySelectorAll('.stat-number');
    const speed = 200; // Animation speed
    
    counters.forEach(counter => {
        const updateCount = () => {
            const target = +counter.getAttribute('data-target');
            const count = +counter.innerText;
            const increment = target / speed;
            
            if (count < target) {
                counter.innerText = Math.ceil(count + increment);
                setTimeout(updateCount, 10);
            } else {
                counter.innerText = target + '+';
            }
        };
        
        updateCount();
    });
}

// Intersection Observer for stats
function setupStatsObserver() {
    const statsContainer = document.querySelector('.stats-container');
    if (!statsContainer) return;
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                animateCounters();
                observer.unobserve(entry.target);
            }
        });
    }, { threshold: 0.5 });
    
    observer.observe(statsContainer);
}

// RENK TEMASI
function loadColorTheme() {
    const theme = localStorage.getItem('cee_color_theme') || 'default';
    if (theme !== 'default') {
        document.body.setAttribute('data-theme', theme);
    }
}

// INSTAGRAM FEED
function loadInstagram() {
    // Demo Instagram posts - Gerçek API için instagram-feed.js kullanılabilir
    const instagramPosts = [
        {
            id: 1,
            image: 'https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=400',
            likes: 234,
            comments: 12,
            link: 'https://instagram.com/p/example1'
        },
        {
            id: 2,
            image: 'https://images.unsplash.com/photo-1600566753190-17f0baa2a6c3?w=400',
            likes: 189,
            comments: 8,
            link: 'https://instagram.com/p/example2'
        },
        {
            id: 3,
            image: 'https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?w=400',
            likes: 312,
            comments: 15,
            link: 'https://instagram.com/p/example3'
        },
        {
            id: 4,
            image: 'https://images.unsplash.com/photo-1600047509807-ba8f99d2cdde?w=400',
            likes: 276,
            comments: 21,
            link: 'https://instagram.com/p/example4'
        },
        {
            id: 5,
            image: 'https://images.unsplash.com/photo-1600210492486-724fe5c67fb0?w=400',
            likes: 198,
            comments: 9,
            link: 'https://instagram.com/p/example5'
        },
        {
            id: 6,
            image: 'https://images.unsplash.com/photo-1600585154526-990dced4db0d?w=400',
            likes: 245,
            comments: 18,
            link: 'https://instagram.com/p/example6'
        }
    ];

    const grid = document.getElementById('instagramGrid');
    if (!grid) return;

    grid.innerHTML = instagramPosts.map(post => `
        <a href="${post.link}" target="_blank" class="instagram-post">
            <img src="${post.image}" alt="Instagram post" loading="lazy">
            <div class="instagram-overlay">
                <span>❤️ ${post.likes}</span>
                <span>💬 ${post.comments}</span>
            </div>
        </a>
    `).join('');
}

// VIDEO GALLERY
function loadVideos() {
    // Admin panelden yüklenen videolar (mediaType: 'video')
    const projects = JSON.parse(localStorage.getItem('cee_projects') || '[]');
    const videos = projects.filter(p => p.mediaType === 'video');

    // Demo YouTube videoları (gerçek videolar yoksa)
    const demoVideos = [
        {
            id: 'dQw4w9WgXcQ',
            title: 'Villa Projesi - 3D Tur',
            thumbnail: 'https://img.youtube.com/vi/dQw4w9WgXcQ/maxresdefault.jpg'
        },
        {
            id: 'dQw4w9WgXcQ',
            title: 'Apartman Dönüşümü',
            thumbnail: 'https://img.youtube.com/vi/dQw4w9WgXcQ/maxresdefault.jpg'
        },
        {
            id: 'dQw4w9WgXcQ',
            title: 'Ofis İç Tasarım',
            thumbnail: 'https://img.youtube.com/vi/dQw4w9WgXcQ/maxresdefault.jpg'
        }
    ];

    const grid = document.getElementById('videoGrid');
    if (!grid) return;

    // Önce admin panelden yüklenen videoları göster
    let videoHTML = '';

    if (videos.length > 0) {
        videoHTML = videos.map(video => `
            <div class="video-item" onclick="openVideo('${video.img}', 'local')">
                <video class="video-thumbnail" muted>
                    <source src="${video.img}" type="video/mp4">
                </video>
                <div class="video-play-btn">â–¶</div>
                <div class="video-title">${video.title || 'Video'}</div>
            </div>
        `).join('');
    }

    // Demo YouTube videoları ekle
    videoHTML += demoVideos.map(video => `
        <div class="video-item" onclick="openVideo('${video.id}', 'youtube')">
            <img src="${video.thumbnail}" alt="${video.title}" class="video-thumbnail" loading="lazy">
            <div class="video-play-btn">â–¶</div>
            <div class="video-title">${video.title}</div>
        </div>
    `).join('');

    if (videoHTML) {
        grid.innerHTML = videoHTML;
    } else {
        grid.innerHTML = '<div class="instagram-placeholder"><p>Henüz video eklenmedi</p></div>';
    }
}

function openVideo(id, type) {
    const lightbox = document.getElementById('videoLightbox');
    const container = document.getElementById('videoContainer');
    
    if (type === 'youtube') {
        container.innerHTML = `<iframe src="https://www.youtube.com/embed/${id}?autoplay=1" allow="autoplay; encrypted-media" allowfullscreen></iframe>`;
    } else {
        container.innerHTML = `<video controls autoplay style="width: 100%; height: 100%; border-radius: 8px;"><source src="${id}" type="video/mp4"></video>`;
    }
    
    lightbox.classList.add('active');
}

function closeVideo() {
    const lightbox = document.getElementById('videoLightbox');
    const container = document.getElementById('videoContainer');
    lightbox.classList.remove('active');
    container.innerHTML = '';
}

// GOOGLE MAPS
function initMap() {
    // Varsayılan konum: İstanbul Taksim
    const officeLocation = { lat: 41.0369, lng: 28.9850 };
    
    // Admin panelden ayarlanabilir konum
    const savedLat = localStorage.getItem('cee_office_lat');
    const savedLng = localStorage.getItem('cee_office_lng');
    
    if (savedLat && savedLng) {
        officeLocation.lat = parseFloat(savedLat);
        officeLocation.lng = parseFloat(savedLng);
    }

    const mapDiv = document.getElementById('map');
    if (!mapDiv) return;

    // Google Maps yüklü mü kontrol et
    if (typeof google === 'undefined' || !google.maps) {
        mapDiv.innerHTML = '<div style="display: flex; align-items: center; justify-content: center; height: 100%; background: #f0f0f0; color: #666;"><p>Harita yükleniyor...</p></div>';
        loadGoogleMaps();
        return;
    }

    const map = new google.maps.Map(mapDiv, {
        zoom: 15,
        center: officeLocation,
        styles: [
            {
                featureType: 'all',
                elementType: 'geometry',
                stylers: [{ color: '#f5f5f5' }]
            },
            {
                featureType: 'water',
                elementType: 'geometry',
                stylers: [{ color: '#c9e9f6' }]
            }
        ]
    });

    new google.maps.Marker({
        position: officeLocation,
        map: map,
        title: 'CEE MİMARLIK',
        animation: google.maps.Animation.DROP
    });
}

function loadGoogleMaps() {
    const script = document.createElement('script');
    script.src = `https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&callback=initMap`;
    script.async = true;
    script.defer = true;
    document.head.appendChild(script);
}

// ============================================
// 🔒 GÜVENLİK SİSTEMİ - CEE MİMARLIK
// ============================================

// 1. XSS (Cross-Site Scripting) KORUNMASI
const SecurityManager = {
    escapeHtml: function(text) {
        if (typeof text !== 'string') return text;
        const map = {
            '&': '&amp;', '<': '&lt;', '>': '&gt;', '"': '&quot;',
            "'": '&#39;', "/": '&#x2F;', "`": '&#x60;', "=": '&#x3D;'
        };
        return text.replace(/[&<>"'`=\/]/g, (char) => map[char]);
    },

    sanitizeInput: function(input) {
        if (typeof input !== 'string') return '';
        input = input.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi, '');
        input = input.replace(/on\w+\s*=\s*["'][^"']*["']/gi, '');
        input = input.replace(/javascript:/gi, '');
        input = input.replace(/['";\-\-]/g, '');
        return input.trim();
    },

    validateEmail: function(email) {
        return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(String(email).toLowerCase());
    },

    validatePhone: function(phone) {
        return /^[0-9\s\+\-\(\)]{10,}$/.test(phone);
    }
};

// 2. RATE LIMITING
const RateLimiter = {
    requests: {},
    checkLimit: function(action, limit = 10, timeWindow = 60000) {
        const now = Date.now();
        if (!this.requests[action]) this.requests[action] = [];
        this.requests[action] = this.requests[action].filter(time => now - time < timeWindow);
        if (this.requests[action].length >= limit) return false;
        this.requests[action].push(now);
        return true;
    },
    getTimeUntilReset: function(action, timeWindow = 60000) {
        if (!this.requests[action] || this.requests[action].length === 0) return 0;
        const oldestRequest = Math.min(...this.requests[action]);
        return Math.max(0, Math.ceil((oldestRequest + timeWindow - Date.now()) / 1000));
    }
};

// 3. INPUT VALIDATION
const InputValidator = {
    validateLength: function(input, min = 1, max = 1000) {
        return input.length >= min && input.length <= max;
    },
    validateSafeText: function(text) {
        const dangerous = [/<script/gi, /<iframe/gi, /javascript:/gi, /on\w+\s*=/gi];
        return !dangerous.some(pattern => pattern.test(text));
    }
};

// 4. SESSION MANAGEMENT
const SessionManager = {
    createSession: function() {
        const sessionId = Array.from(crypto.getRandomValues(new Uint8Array(16)))
            .map(b => b.toString(16).padStart(2, '0')).join('');
        sessionStorage.setItem('session_data', JSON.stringify({
            id: sessionId, created: Date.now(), lastActivity: Date.now()
        }));
        return sessionId;
    },
    updateActivity: function() {
        const data = JSON.parse(sessionStorage.getItem('session_data') || '{}');
        if (data.id) {
            data.lastActivity = Date.now();
            sessionStorage.setItem('session_data', JSON.stringify(data));
        }
    },
    checkTimeout: function(timeout = 1800000) {
        const data = JSON.parse(sessionStorage.getItem('session_data') || '{}');
        return data.lastActivity && (Date.now() - data.lastActivity) < timeout;
    }
};

// 5. GÜVENLI MESAJ GÖNDERME
function sendPanelMessageSecure() {
    const input = document.getElementById('aiPanelInput');
    let message = input.value.trim();
    if (!message) return;
    
    // Rate Limiting
    if (!RateLimiter.checkLimit('ai_message', 10, 60000)) {
        const wait = RateLimiter.getTimeUntilReset('ai_message');
        addPanelMessage(`⚠️ Çok fazla mesaj gönderdiniz. ${wait} saniye bekleyin.`, 'assistant');
        return;
    }
    
    // Validation
    if (!InputValidator.validateLength(message, 1, 500)) {
        addPanelMessage('⚠️ Mesaj 1-500 karakter olmalı.', 'assistant');
        return;
    }
    
    if (!InputValidator.validateSafeText(message)) {
        addPanelMessage('⚠️ Geçersiz karakterler.', 'assistant');
        return;
    }
    
    // Sanitize
    message = SecurityManager.sanitizeInput(message);
    message = SecurityManager.escapeHtml(message);
    
    SessionManager.updateActivity();
    addPanelMessage(message, 'user');
    input.value = '';
    showPanelTyping();
    
    setTimeout(() => {
        const response = getSmartResponse(message);
        hidePanelTyping();
        addPanelMessage(response, 'assistant');
        
        try {
            let history = JSON.parse(localStorage.getItem('cee_ai_history') || '[]');
            history.push({ question: message, answer: response, timestamp: Date.now() });
            localStorage.setItem('cee_ai_history', JSON.stringify(history.slice(-50)));
        } catch(e) {}
    }, 800);
}

window.sendPanelMessage = sendPanelMessageSecure;

// 6. SAYFA YÜKLENDİĞİNDE
document.addEventListener('DOMContentLoaded', function() {
    if (!SessionManager.checkTimeout()) SessionManager.createSession();
    
    setInterval(() => {
        if (!SessionManager.checkTimeout()) {
            SessionManager.createSession();
        }
    }, 300000);
    
    // Input güvenliği
    document.querySelectorAll('input, textarea').forEach(input => {
        input.addEventListener('input', function() {
            const max = this.getAttribute('maxlength') || 1000;
            if (this.value.length > max) this.value = this.value.substring(0, max);
            if (this.type !== 'password') this.value = SecurityManager.sanitizeInput(this.value);
        });
    });
    
    // ============================================
    // âš¡ PERFORMANCE OPTIMIZATION
    // ============================================
    
    // 1. LAZY LOADING IMAGES
    const lazyImages = document.querySelectorAll('img[data-src]');
    const imageObserver = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const img = entry.target;
                img.src = img.dataset.src;
                img.removeAttribute('data-src');
                observer.unobserve(img);
                
                // Analytics: Image loaded
                if (typeof trackEvent === 'function') {
                    trackEvent('Performance', 'image_loaded', img.alt || 'unnamed');
                }
            }
        });
    });
    
    lazyImages.forEach(img => imageObserver.observe(img));
    
    // 2. SCROLL PERFORMANCE
    let scrollTimer;
    const header = document.querySelector('header');
    
    // Header scroll effect
    window.addEventListener('scroll', function() {
        if (header) {
            if (window.scrollY > 50) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        }
        
        if (scrollTimer) clearTimeout(scrollTimer);
        scrollTimer = setTimeout(() => {
            // Scroll ended - track analytics
            const scrollPercent = Math.round((window.scrollY / (document.documentElement.scrollHeight - window.innerHeight)) * 100);
            if (scrollPercent > 75 && typeof trackEvent === 'function') {
                trackEvent('Engagement', 'scroll_depth', '75%');
            }
        }, 150);
    }, { passive: true });
    
    // 3. ANALYTICS EVENT TRACKING
    
    // Track WhatsApp click
    const whatsappLinks = document.querySelectorAll('a[href*="wa.me"], a[href*="whatsapp"]');
    whatsappLinks.forEach(link => {
        link.addEventListener('click', () => {
            if (typeof trackEvent === 'function') {
                trackEvent('Contact', 'whatsapp_click', 'floating_button');
            }
            if (typeof fbq === 'function') {
                fbq('track', 'Contact');
            }
        });
    });
    
    // Track phone click
    const phoneLinks = document.querySelectorAll('a[href^="tel:"]');
    phoneLinks.forEach(link => {
        link.addEventListener('click', () => {
            if (typeof trackEvent === 'function') {
                trackEvent('Contact', 'phone_click', link.href);
            }
            if (typeof fbq === 'function') {
                fbq('track', 'Contact');
            }
        });
    });
    
    // Track email click
    const emailLinks = document.querySelectorAll('a[href^="mailto:"]');
    emailLinks.forEach(link => {
        link.addEventListener('click', () => {
            if (typeof trackEvent === 'function') {
                trackEvent('Contact', 'email_click', link.href);
            }
        });
    });
    
    // Track project views
    const projectCards = document.querySelectorAll('.project-card');
    projectCards.forEach((card, index) => {
        card.addEventListener('click', () => {
            if (typeof trackEvent === 'function') {
                trackEvent('Projects', 'project_click', `project_${index + 1}`);
            }
        });
    });
    
    // Track AI Assistant opens
    const aiButton = document.querySelector('[onclick*="openAiAssistant"]');
    if (aiButton) {
        aiButton.addEventListener('click', () => {
            if (typeof trackEvent === 'function') {
                trackEvent('AI', 'assistant_open', 'chat_button');
            }
            if (typeof fbq === 'function') {
                fbq('track', 'Lead');
            }
        });
    }
    
    // Track DWG Tools
    const dwgButton = document.querySelector('[onclick*="openDwgTools"]');
    if (dwgButton) {
        dwgButton.addEventListener('click', () => {
            if (typeof trackEvent === 'function') {
                trackEvent('Tools', 'dwg_tools_open', 'menu_button');
            }
        });
    }
    
    // 4. PAGE LOAD PERFORMANCE TRACKING
    window.addEventListener('load', () => {
        if ('performance' in window && typeof trackEvent === 'function') {
            const perfData = performance.timing;
            const pageLoadTime = perfData.loadEventEnd - perfData.navigationStart;
            const dnsTime = perfData.domainLookupEnd - perfData.domainLookupStart;
            const tcpTime = perfData.connectEnd - perfData.connectStart;
            
            trackEvent('Performance', 'page_load_time', Math.round(pageLoadTime));
            trackEvent('Performance', 'dns_time', Math.round(dnsTime));
            trackEvent('Performance', 'tcp_time', Math.round(tcpTime));
        }
    });
    
    // 5. ERROR TRACKING
    window.addEventListener('error', (event) => {
        if (typeof trackEvent === 'function') {
            trackEvent('Error', 'javascript_error', event.message);
        }
    });
    
    // 6. VISIBILITY TRACKING (Tab switching)
    let visibilityStart = Date.now();
    document.addEventListener('visibilitychange', () => {
        if (document.hidden) {
            const timeSpent = Math.round((Date.now() - visibilityStart) / 1000);
            if (typeof trackEvent === 'function' && timeSpent > 10) {
                trackEvent('Engagement', 'time_on_page', `${timeSpent}s`);
            }
        } else {
            visibilityStart = Date.now();
        }
    });
    
    // 7. BUTTON CLICK HEATMAP
    document.addEventListener('click', (e) => {
        const element = e.target.closest('button, a');
        if (element && typeof trackEvent === 'function') {
            const label = element.textContent.trim().substring(0, 50) || element.className;
            trackEvent('Interaction', 'button_click', label);
        }
    });
});

// 7. CLICKJACKING KORUNMASI
if (window.top !== window.self) window.top.location = window.self.location;

// ==============================================
// SİTE AYARLARINI YÜKLE
// ==============================================

function loadSiteSettings() {
    // Hero ayarlarını yükle
    const heroSettings = JSON.parse(localStorage.getItem('hero_settings') || '{}');
    if (heroSettings.title || heroSettings.subtitle) {
        const heroTitle = document.querySelector('.hero-content h1');
        const heroSubtitle = document.querySelector('.hero-content p');
        
        if (heroSettings.title && heroTitle) heroTitle.textContent = heroSettings.title;
        if (heroSettings.subtitle && heroSubtitle) heroSubtitle.textContent = heroSettings.subtitle;
        if (heroSettings.fontSize && heroTitle) heroTitle.style.fontSize = heroSettings.fontSize;
        if (heroSettings.fontWeight && heroTitle) heroTitle.style.fontWeight = heroSettings.fontWeight;
        if (heroSettings.color && heroTitle) heroTitle.style.color = heroSettings.color;
    }
    
    // Sosyal medya linklerini yükle
    const socialLinks = JSON.parse(localStorage.getItem('social_links') || '{}');
    const socialContainer = document.querySelector('footer div[style*="gap: 15px"]');
    if (socialContainer && Object.keys(socialLinks).length > 0) {
        let html = '';
        if (socialLinks.facebook) html += `<a href="${socialLinks.facebook}" target="_blank" style="width: 40px; height: 40px; border-radius: 50%; background: #1877f2; display: flex; align-items: center; justify-content: center; color: white; text-decoration: none;">f</a>`;
        if (socialLinks.instagram) html += `<a href="${socialLinks.instagram}" target="_blank" style="width: 40px; height: 40px; border-radius: 50%; background: linear-gradient(45deg, #833ab4, #fd1d1d, #fcb045); display: flex; align-items: center; justify-content: center; color: white; text-decoration: none;">📷</a>`;
        if (socialLinks.linkedin) html += `<a href="${socialLinks.linkedin}" target="_blank" style="width: 40px; height: 40px; border-radius: 50%; background: #0a66c2; display: flex; align-items: center; justify-content: center; color: white; text-decoration: none;">in</a>`;
        if (socialLinks.twitter) html += `<a href="${socialLinks.twitter}" target="_blank" style="width: 40px; height: 40px; border-radius: 50%; background: linear-gradient(135deg, #5a6677, #b8962e); display: flex; align-items: center; justify-content: center; color: white; text-decoration: none;">𝕏</a>`;
        if (socialLinks.youtube) html += `<a href="${socialLinks.youtube}" target="_blank" style="width: 40px; height: 40px; border-radius: 50%; background: #ff0000; display: flex; align-items: center; justify-content: center; color: white; text-decoration: none;">â–¶</a>`;
        if (html) socialContainer.innerHTML = html;
    }
    
    // Renk ayarlarını yükle - MODERN TEMA SİSTEMİ
    const colorSettings = JSON.parse(localStorage.getItem('color_settings') || '{}');
    if (Object.keys(colorSettings).length > 0) {
        const root = document.documentElement;
        
        // CSS Değişkenlerini Güncelle
        if (colorSettings.iconBg) {
            root.style.setProperty('--accent-gold', colorSettings.iconBg);
            root.style.setProperty('--accent-gold-light', lightenColor(colorSettings.iconBg, 15));
            root.style.setProperty('--icon-bg', colorSettings.iconBg);
        }
        if (colorSettings.bgMain) {
            root.style.setProperty('--bg-primary', colorSettings.bgMain);
        }
        if (colorSettings.bgSection) {
            root.style.setProperty('--bg-secondary', colorSettings.bgSection);
            root.style.setProperty('--bg-accent', colorSettings.bgSection);
        }
        if (colorSettings.text) {
            root.style.setProperty('--text-primary', colorSettings.text);
        }
        
        // Dinamik stil oluÅŸtur
        const dynamicStyle = document.createElement('style');
        dynamicStyle.id = 'dynamic-theme';
        dynamicStyle.textContent = `
            /* Arka Plan */
            body { background: ${colorSettings.bgMain || '#ffffff'} !important; }
            section { background: ${colorSettings.bgMain || '#ffffff'} !important; }
            #hizmetler, #referanslar, #ofis-konum { background: ${colorSettings.bgSection || '#f5f5f5'} !important; }
            
            /* Yazı Rengi */
            body, p, span, li { color: ${colorSettings.text || '#2c2c2c'}; }
            .section-title { color: ${colorSettings.text || '#2c2c2c'} !important; }
            .section-label { color: ${colorSettings.text ? lightenColor(colorSettings.text, 40) : '#999'} !important; }
            
            /* Accent Rengi */
            .section-title .accent { color: ${colorSettings.iconBg || '#5a6677'} !important; }
            .hero-brand { color: ${colorSettings.iconBg || '#5a6677'} !important; }
            .hero-cta, .team-cta-btn, .directions-btn { background: ${colorSettings.iconBg || '#5a6677'} !important; }
            .filter-btn.active { background: ${colorSettings.iconBg || '#5a6677'} !important; border-color: ${colorSettings.iconBg || '#5a6677'} !important; color: white !important; }
            .filter-btn:hover { border-color: ${colorSettings.iconBg || '#5a6677'} !important; color: ${colorSettings.iconBg || '#5a6677'} !important; }
            .filter-btn.active:hover { color: white !important; }
            .section-decoration .dot { background: ${colorSettings.iconBg || '#5a6677'} !important; }
            nav a:hover, nav a.active { color: ${colorSettings.iconBg || '#5a6677'} !important; }
            
            /* Header & Footer */
            header, nav, .header { 
                background: ${colorSettings.header || '#ffffff'} !important; 
                ${colorSettings.header && colorSettings.header !== '#ffffff' ? 'border-bottom: none !important;' : ''}
            }
            ${colorSettings.header && (colorSettings.header === '#1a1a1a' || colorSettings.header === '#000000' || colorSettings.header === '#111111' || colorSettings.header === '#0f0f0f' || colorSettings.header === '#451a03') ? `
                nav a { color: #ffffff !important; }
                nav a:hover, nav a.active { color: ${colorSettings.iconBg || '#5a6677'} !important; }
                .logo-text { color: #ffffff !important; }
            ` : ''}
            footer, .footer { background: ${colorSettings.header || '#1a1a1a'} !important; }
            
            /* Section Geçişleri */
            #hizmetler::before, #referanslar::before, #ofis-konum::before {
                background: linear-gradient(to bottom, ${colorSettings.bgMain || '#ffffff'}, ${colorSettings.bgSection || '#f5f5f5'}) !important;
            }
            #hizmetler::after, #referanslar::after, #ofis-konum::after {
                background: linear-gradient(to bottom, ${colorSettings.bgSection || '#f5f5f5'}, ${colorSettings.bgMain || '#ffffff'}) !important;
            }
            
            /* Kartlar */
            .service-card, [id="referencesGrid"] > div, .faq-item, .contact-card {
                background: ${colorSettings.bgMain || '#ffffff'} !important;
            }
            
            /* Hizmet ve Referans İkonları */
            .service-icon-v2, .ref-icon, .contact-icon-circle {
                background: ${colorSettings.iconBg || '#5a6677'} !important;
                background: linear-gradient(135deg, ${colorSettings.iconBg || '#5a6677'}, ${lightenColor(colorSettings.iconBg || '#5a6677', 15)}) !important;
            }
            
            /* Takip Et ve Chat Butonları */
            .social-sidebar-trigger {
                background: ${colorSettings.iconBg || '#5a6677'} !important;
            }
            .unified-chat-btn {
                background: ${colorSettings.iconBg || '#5a6677'} !important;
            }
            .chat-badge {
                background: ${colorSettings.iconBg || '#5a6677'} !important;
            }
        `;
        
        // Eski dinamik stili kaldır
        const oldStyle = document.getElementById('dynamic-theme');
        if (oldStyle) oldStyle.remove();
        
        document.head.appendChild(dynamicStyle);
        
        // Hizmet ve Referans ikonlarını güncelle (JavaScript ile oluşturuluyorlar)
        const accentColor = colorSettings.iconBg || '#5a6677';
        const accentLight = lightenColor(accentColor, 15);
        const gradientBg = `linear-gradient(135deg, ${accentColor}, ${accentLight})`;
        
        setTimeout(() => {
            // Tüm ikon dairelerini güncelle
            document.querySelectorAll('.service-icon-v2, .ref-icon, .contact-icon-circle').forEach(icon => {
                icon.style.setProperty('background', gradientBg, 'important');
            });
            
            // Takip Et butonu
            const socialTrigger = document.querySelector('.social-sidebar-trigger');
            if (socialTrigger) socialTrigger.style.setProperty('background', accentColor, 'important');
            
            // Chat butonu
            const chatBtn = document.querySelector('.unified-chat-btn');
            if (chatBtn) chatBtn.style.setProperty('background', accentColor, 'important');
            
            // Chat badge
            const chatBadge = document.querySelector('.chat-badge');
            if (chatBadge) chatBadge.style.setProperty('background', accentColor, 'important');
            
            // Harita pin ikonu
            document.querySelectorAll('.map-location-badge div[style*="background"]').forEach(el => {
                if (el.querySelector('svg')) {
                    el.style.setProperty('background', gradientBg, 'important');
                }
            });
            
            // Form gönder butonu
            document.querySelectorAll('button[type="submit"], #contactForm button').forEach(btn => {
                btn.style.setProperty('background', gradientBg, 'important');
            });
        }, 100);
        
        setTimeout(() => {
            document.querySelectorAll('.service-icon-v2, .ref-icon, .contact-icon-circle').forEach(icon => {
                icon.style.setProperty('background', gradientBg, 'important');
            });
            
            // Takip Et ve Chat butonları
            const socialTrigger = document.querySelector('.social-sidebar-trigger');
            if (socialTrigger) socialTrigger.style.setProperty('background', accentColor, 'important');
            const chatBtn = document.querySelector('.unified-chat-btn');
            if (chatBtn) chatBtn.style.setProperty('background', accentColor, 'important');
        }, 500);
        
        setTimeout(() => {
            document.querySelectorAll('.service-icon-v2, .ref-icon, .contact-icon-circle').forEach(icon => {
                icon.style.setProperty('background', gradientBg, 'important');
            });
            
            // Takip Et ve Chat butonları
            const socialTrigger = document.querySelector('.social-sidebar-trigger');
            if (socialTrigger) socialTrigger.style.setProperty('background', accentColor, 'important');
            const chatBtn = document.querySelector('.unified-chat-btn');
            if (chatBtn) chatBtn.style.setProperty('background', accentColor, 'important');
        }, 1000);
    }
    
    // SEO Ayarlarını yükle
    const seoSettings = JSON.parse(localStorage.getItem('seo_settings') || '{}');
    if (seoSettings.title) {
        document.title = seoSettings.title;
        const ogTitle = document.querySelector('meta[property="og:title"]');
        if (ogTitle) ogTitle.setAttribute('content', seoSettings.title);
    }
    if (seoSettings.description) {
        const metaDesc = document.querySelector('meta[name="description"]');
        if (metaDesc) metaDesc.setAttribute('content', seoSettings.description);
        const ogDesc = document.querySelector('meta[property="og:description"]');
        if (ogDesc) ogDesc.setAttribute('content', seoSettings.description);
    }
    if (seoSettings.keywords) {
        const metaKeywords = document.querySelector('meta[name="keywords"]');
        if (metaKeywords) metaKeywords.setAttribute('content', seoSettings.keywords);
    }
    
    // Tema Ayarlarını yükle
    const themeSettings = JSON.parse(localStorage.getItem('theme_settings') || '{}');
    const savedTheme = localStorage.getItem('user_theme'); // Kullanıcının manuel seçimi
    
    if (savedTheme) {
        // Kullanıcı manuel seçim yapmışsa onu kullan
        if (savedTheme === 'dark') {
            document.body.classList.add('dark-mode');
        }
    } else if (themeSettings.defaultTheme) {
        // Admin ayarına göre
        if (themeSettings.defaultTheme === 'dark') {
            document.body.classList.add('dark-mode');
        } else if (themeSettings.defaultTheme === 'auto') {
            // Sistem ayarına göre
            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                document.body.classList.add('dark-mode');
            }
        }
    }
    
    // Dark mode toggle'ı gizle/göster
    if (themeSettings.allowToggle === false) {
        const darkModeToggle = document.getElementById('darkModeToggle');
        if (darkModeToggle) darkModeToggle.style.display = 'none';
    }
}

// Rengi açıklaştırma fonksiyonu
function lightenColor(color, percent) {
    const num = parseInt(color.replace('#', ''), 16);
    const amt = Math.round(2.55 * percent);
    const R = (num >> 16) + amt;
    const G = (num >> 8 & 0x00FF) + amt;
    const B = (num & 0x0000FF) + amt;
    return '#' + (
        0x1000000 +
        (R < 255 ? (R < 1 ? 0 : R) : 255) * 0x10000 +
        (G < 255 ? (G < 1 ? 0 : G) : 255) * 0x100 +
        (B < 255 ? (B < 1 ? 0 : B) : 255)
    ).toString(16).slice(1);
}

</script>

<!-- AI ASSISTANT PANEL -->
<div class="ai-assistant-panel" id="aiAssistantPanel">
    <div class="ai-panel-header">
        <div class="ai-panel-header-content">
            <div class="ai-panel-logo">🏗️</div>
            <div class="ai-panel-title">
                <h2>CEE MİMARLIK</h2>
                <p>Mimarlık & Mevzuat Danışmanı</p>
            </div>
        </div>
        <button class="ai-panel-close" onclick="closeAiPanel()">×</button>
    </div>
    
    <div class="ai-panel-messages" id="aiPanelMessages">
        <div class="ai-panel-message assistant">
            <div class="ai-panel-bubble">
                <strong>Merhaba! 👋</strong><br><br>
                Ben CEE MİMARLIK'ın AI asistanıyım. Size mimarlık ve yapı mevzuatı konularında yardımcı olabilirim.<br><br>
                <strong>Yardımcı olabileceğim konular:</strong><br>
                • İmar planı ve imar durumu<br>
                • Piyes ölçüleri ve teknik çizimler<br>
                • Yangın, merdiven, otopark yönetmelikleri<br>
                • İnşaat ruhsatı süreçleri<br>
                • Mimari proje hazırlama<br><br>
                Aklınıza takılan soruyu sorabilirsiniz! 🏗️
            </div>
        </div>
    </div>
    
    <div class="ai-panel-quick-questions">
        <button class="ai-panel-quick-btn" onclick="askPanelQuestion('Piyes ölçüleri nedir?')">📐 Piyes</button>
        <button class="ai-panel-quick-btn" onclick="askPanelQuestion('Yangın merdiveni')">🔥 Yangın</button>
        <button class="ai-panel-quick-btn" onclick="askPanelQuestion('Merdiven ölçüleri')">🪜 Merdiven</button>
        <button class="ai-panel-quick-btn" onclick="askPanelQuestion('Emsal nedir?')">📊 Emsal</button>
        <button class="ai-panel-quick-btn" onclick="askPanelQuestion('Sığınak')">🛡️ Sığınak</button>
        <button class="ai-panel-quick-btn" onclick="askPanelQuestion('Otopark ölçüleri')">🚗 Otopark</button>
    </div>
    
    <div class="ai-panel-input-area">
        <div class="ai-panel-input-wrapper">
            <input 
                type="text" 
                class="ai-panel-input" 
                id="aiPanelInput" 
                placeholder="Sorunuzu yazın..."
                onkeypress="if(event.key==='Enter') sendPanelMessage()"
            >
            <button class="ai-panel-send" onclick="sendPanelMessage()">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="22" y1="2" x2="11" y2="13"></line>
                    <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                </svg>
            </button>
        </div>
    </div>
</div>

<!-- ============================================ -->
<!-- FIREBASE CONFIG - ZORUNLU -->
<!-- ============================================ -->
<script type="module" src="firebase-config.js"></script>

<!-- ============================================ -->
<!-- FIRESTORE ENTEGRASYONU - VERİLERİ YÜKLE -->
<!-- ============================================ -->
<script type="module">
import { collection, getDocs, orderBy, query } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';

// Firebase hazır olmasını bekle
window.addEventListener('DOMContentLoaded', async () => {
    // Firebase config yüklenene kadar bekle
    let attempts = 0;
    while (!window.firebaseDB && attempts < 50) {
        await new Promise(resolve => setTimeout(resolve, 100));
        attempts++;
    }
    
    if (!window.firebaseDB) {
        console.log('ℹ️ Firebase bağlantısı yok, localStorage kullanılıyor');
        return;
    }
    
    console.log('🔥 Firebase bağlandı, veriler yükleniyor...');
    
    // PROJELERİ YÜKLE
    try {
        const projectsQuery = query(collection(window.firebaseDB, 'projects'), orderBy('createdAt', 'desc'));
        const projectsSnapshot = await getDocs(projectsQuery);
        
        const projects = [];
        projectsSnapshot.forEach((doc) => {
            const data = doc.data();
            projects.push({
                id: doc.id,
                title: data.title || '',
                description: data.description || '',
                img: data.thumbnail || (data.images && data.images[0]) || '',
                media: data.images || [],
                tags: data.tags || [],
                details: data.details || {},
                specs: data.specs || {},
                createdAt: data.createdAt
            });
        });
        
        if (projects.length > 0) {
            console.log('✅ Firebase projeleri yüklendi:', projects.length);
            window.projects = projects;
            
            // Projeleri render et
            if (typeof window.renderProjects === 'function') {
                window.renderProjects();
            }
        }
    } catch (error) {
        console.log('Proje yükleme hatası:', error);
    }
    
    // EKİP ÜYELERİNİ YÜKLE
    try {
        const teamQuery = query(collection(window.firebaseDB, 'team_members'), orderBy('order', 'asc'));
        const teamSnapshot = await getDocs(teamQuery);
        
        const teamMembers = [];
        teamSnapshot.forEach((doc) => {
            const data = doc.data();
            teamMembers.push({
                id: doc.id,
                name: data.name || '',
                role: data.role || data.position || '',
                photo: data.photo || '',
                bio: data.bio || '',
                education: data.education || '',
                experience: data.experience || '',
                projects: data.projects || '',
                email: data.email || '',
                linkedin: data.linkedin || '',
                instagram: data.instagram || '',
                phone: data.phone || '',
                order: data.order || 0
            });
        });
        
        if (teamMembers.length > 0) {
            console.log('✅ Firebase ekip üyeleri yüklendi:', teamMembers.length);
            // localStorage'a da kaydet (loadTeam fonksiyonu için)
            localStorage.setItem('team_members', JSON.stringify(teamMembers));
            
            // Ekibi yeniden render et
            if (typeof window.loadTeam === 'function') {
                window.loadTeam();
            }
        }
    } catch (error) {
        console.log('Ekip yükleme hatası:', error);
    }
    
    // SİTE AYARLARINI YÜKLE
    try {
        const settingsDoc = await getDocs(collection(window.firebaseDB, 'settings'));
        settingsDoc.forEach((doc) => {
            const data = doc.data();
            if (data.theme) {
                localStorage.setItem('cee_site_theme', data.theme);
            }
            if (data.footer) {
                localStorage.setItem('cee_footer_settings', JSON.stringify(data.footer));
            }
        });
    } catch (error) {
        // Settings yüklenemezse devam et
    }
});

// Proje detay sayfasına git
window.openProjectDetail = function(projectId) {
    window.location.href = `project-detail.html?id=${projectId}`;
};
</script>



<!-- Firebase Integration -->
<script type="module">
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
    import { getFirestore, collection, getDocs, query, orderBy } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';
    
    // Firebase config yükle
    try {
        const response = await fetch('firebase-config.js');
        const configText = await response.text();
        const configMatch = configText.match(/firebaseConfig\s*=\s*(\{[^}]+\})/);
        
        if (configMatch) {
            const firebaseConfig = eval('(' + configMatch[1] + ')');
            
            // API key kontrolü
            if (firebaseConfig.apiKey && !firebaseConfig.apiKey.includes('BURAYA')) {
                const app = initializeApp(firebaseConfig);
                const db = getFirestore(app);
                
                // Projeleri çek
                const q = query(collection(db, 'projects'), orderBy('createdAt', 'desc'));
                const querySnapshot = await getDocs(q);
                
                const firebaseProjects = [];
                querySnapshot.forEach((doc) => {
                    firebaseProjects.push({ id: doc.id, ...doc.data() });
                });
                
                if (firebaseProjects.length > 0) {
                    console.log('✅ Firebase projeleri yüklendi:', firebaseProjects.length);
                    window.firebaseProjects = firebaseProjects;
                    
                    // Proje listesini güncelle
                    if (typeof displayProjects === 'function') {
                        displayProjects(firebaseProjects);
                    }
                }
            }
        }
    } catch (error) {
        console.log('ℹ️ Firebase config bulunamadı, demo modda çalışıyor');
    }
</script>

    <script src="cookie-consent.js"></script>

<!-- Service Worker Registration -->
<script>
if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js')
            .then(reg => console.log('✅ Service Worker kayıtlı'))
            .catch(err => console.log('❌ Service Worker hatası:', err));
    });
}
</script>

<script>
// Logo ve slogan yükleyici
function loadSiteLogo() {
    const logo = localStorage.getItem('cee_site_logo');
    const slogan = localStorage.getItem('cee_header_slogan');
    const logoImg = document.getElementById('headerLogo');
    const sloganEl = document.getElementById('headerSlogan');
    
    // Logo yükle
    if (logo && logo.trim() !== '') {
        if (logoImg) {
            logoImg.src = logo;
            logoImg.style.display = 'block';
        }
    } else {
        if (logoImg) logoImg.style.display = 'none';
    }
    
    // Slogan yükle
    if (slogan && slogan.trim() !== '' && sloganEl) {
        sloganEl.textContent = slogan;
        sloganEl.setAttribute('data-tr', slogan);
    }
}

// Sayfa yüklendiğinde
document.addEventListener('DOMContentLoaded', loadSiteLogo);
</script>



</body>

<!-- ESKİ VERİLERİ TEMİZLE VE RENK AYARLARI - SAYFA SONUNDA ÇALIŞIR -->
<script>
(function() {
    // Eski emoji içeren verileri temizle (bir kerelik)
    const cleanupDone = localStorage.getItem('cee_cleanup_v2');
    if (!cleanupDone) {
        // Emoji içeren eski referans ve hizmet verilerini sil
        const refs = localStorage.getItem('cee_references');
        const servs = localStorage.getItem('cee_services');
        
        // Eğer veri emoji içeriyorsa sil
        if (refs && (refs.includes('🏛') || refs.includes('🏢') || refs.includes('🏠') || refs.includes('💰'))) {
            localStorage.removeItem('cee_references');
        }
        if (servs && (servs.includes('🏠') || servs.includes('📋') || servs.includes('🎨') || servs.includes('🏗'))) {
            localStorage.removeItem('cee_services');
        }
        
        localStorage.setItem('cee_cleanup_v2', 'true');
        // Sayfayı yenile
        if (refs || servs) {
            location.reload();
        }
    }
    
    function lighten(color, percent) {
        if (!color || color.length < 4) return '#7a8694';
        try {
            const num = parseInt(color.replace('#', ''), 16);
            const amt = Math.round(2.55 * percent);
            const R = Math.min(255, Math.max(0, (num >> 16) + amt));
            const G = Math.min(255, Math.max(0, (num >> 8 & 0x00FF) + amt));
            const B = Math.min(255, Math.max(0, (num & 0x0000FF) + amt));
            return '#' + ((1 << 24) + (R << 16) + (G << 8) + B).toString(16).slice(1);
        } catch(e) { return '#7a8694'; }
    }
    
    function applyColors() {
        try {
            const cs = JSON.parse(localStorage.getItem('color_settings') || '{}');
            if (!cs || Object.keys(cs).length === 0) return;
            
            const accent = cs.iconBg || '#5a6677';
            const accentLight = lighten(accent, 15);
            const bgMain = cs.bgMain || '#ffffff';
            const bgSection = cs.bgSection || '#f8f9fa';
            const textColor = cs.text || '#2d3748';
            const headerColor = cs.header || '#1a202c';
            const iconSize = cs.iconSize || 60;
            
            // CSS Variables
            document.documentElement.style.setProperty('--accent-gold', accent);
            document.documentElement.style.setProperty('--accent-gold-light', accentLight);
            document.documentElement.style.setProperty('--bg-primary', bgMain);
            document.documentElement.style.setProperty('--bg-secondary', bgSection);
            document.documentElement.style.setProperty('--icon-size', iconSize + 'px');
            
            // İkon boyutlarını güncelle
            document.querySelectorAll('.service-icon-v2, .ref-icon, .contact-icon-circle').forEach(el => {
                el.style.width = iconSize + 'px';
                el.style.height = iconSize + 'px';
            });
            
            // Body & Sections
            document.body.style.backgroundColor = bgMain;
            document.querySelectorAll('section').forEach(s => s.style.backgroundColor = bgMain);
            document.querySelectorAll('#hizmetler, #referanslar, #ofis-konum').forEach(s => s.style.backgroundColor = bgSection);
            
            // Header & Footer
            document.querySelectorAll('header, nav, .header').forEach(el => el.style.backgroundColor = headerColor);
            document.querySelectorAll('footer, .footer').forEach(el => el.style.backgroundColor = headerColor);
            
            const isDark = ['#1a1a1a','#000000','#111111','#0f0f0f','#451a03','#1a202c'].includes(headerColor);
            document.querySelectorAll('nav a').forEach(a => a.style.color = isDark ? '#fff' : '#1a1a1a');
            const logo = document.querySelector('.logo-text');
            if (logo) logo.style.color = isDark ? '#fff' : '#1a1a1a';
            
            // Accent elements
            document.querySelectorAll('.hero-brand').forEach(el => el.style.color = accent);
            document.querySelectorAll('.hero-cta, .team-cta-btn, .directions-btn').forEach(el => el.style.background = accent);
            document.querySelectorAll('.section-title .accent').forEach(el => el.style.setProperty('color', accent, 'important'));
            document.querySelectorAll('.section-decoration .dot').forEach(el => el.style.background = accent);
            
            // Icons with gradient
            const grad = 'linear-gradient(135deg, ' + accent + ', ' + accentLight + ')';
            document.querySelectorAll('.service-icon-v2, .ref-icon, .contact-icon-circle').forEach(el => el.style.setProperty('background', grad, 'important'));
            
            // Buttons
            document.querySelectorAll('.social-sidebar-trigger, .unified-chat-btn').forEach(el => el.style.background = accent);
            document.querySelectorAll('.filter-btn.active').forEach(el => { el.style.background = accent; el.style.borderColor = accent; });
            
            // Text
            document.querySelectorAll('.section-title').forEach(el => el.style.color = textColor);
            
            console.log('✅ Renkler uygulandı');
        } catch(e) { console.error('Renk hatası:', e); }
    }
    
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', applyColors);
    } else {
        applyColors();
    }
    setTimeout(applyColors, 500);
    setTimeout(applyColors, 1000);
    setTimeout(applyColors, 2000);
})();

// Admin Panele Dön butonu
(function() {
    if (window.location.search.includes('from=admin') || sessionStorage.getItem('fromAdmin')) {
        sessionStorage.setItem('fromAdmin', 'true');
        
        const adminBtn = document.createElement('a');
        adminBtn.href = 'admin.html';
        adminBtn.innerHTML = '← Admin Panel';
        adminBtn.style.cssText = `
            position: fixed;
            top: 100px;
            left: 20px;
            z-index: 9999;
            background: linear-gradient(135deg, #1a1a2e, #2d2d44);
            color: white;
            padding: 12px 20px;
            border-radius: 30px;
            text-decoration: none;
            font-size: 13px;
            font-weight: 600;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        `;
        adminBtn.onmouseover = function() {
            this.style.transform = 'translateX(5px)';
            this.style.boxShadow = '0 6px 25px rgba(0,0,0,0.4)';
        };
        adminBtn.onmouseout = function() {
            this.style.transform = 'translateX(0)';
            this.style.boxShadow = '0 4px 20px rgba(0,0,0,0.3)';
        };
        
        document.body.appendChild(adminBtn);
    }
})();
</script>
</body>
</html>

<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="CEE MimarlÄ±k - Modern mimarlÄ±k anlayÄ±ÅŸÄ±yla villa, apartman, ofis ve ticari yapÄ± tasarÄ±mÄ±. Hayalinizdeki projeler, ustalÄ±kla hayata geÃ§iyor.">
    <meta name="keywords" content="mimarlÄ±k, inÅŸaat, villa tasarÄ±mÄ±, apartman projesi, ofis tasarÄ±mÄ±, ticari yapÄ±, CEE MimarlÄ±k">
    <meta name="author" content="CEE MimarlÄ±k">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="CEE MimarlÄ±k">
    <meta property="og:description" content="Modern mimarlÄ±k anlayÄ±ÅŸÄ±yla hayalinizdeki projeler">
    <meta property="og:type" content="website">
    
    <!-- Security Meta Tags -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta http-equiv="X-XSS-Protection" content="1; mode=block">
    <meta name="referrer" content="strict-origin-when-cross-origin">
    
    <!-- Content Security Policy -->
    <meta http-equiv="Content-Security-Policy" content="
        default-src 'self';
        script-src 'self' 'unsafe-inline' 'unsafe-eval' 
            https://maps.googleapis.com 
            https://cdnjs.cloudflare.com
            https://www.gstatic.com;
        style-src 'self' 'unsafe-inline' https://fonts.googleapis.com;
        img-src 'self' data: https: blob: 
            https://firebasestorage.googleapis.com 
            https://storage.googleapis.com
            https://*.appspot.com;
        font-src 'self' data: https://fonts.gstatic.com;
        connect-src 'self' 
            https://api.whatsapp.com https://wa.me
            https://*.firebaseio.com 
            https://firestore.googleapis.com 
            https://identitytoolkit.googleapis.com
            https://firebasestorage.googleapis.com
            https://storage.googleapis.com
            https://*.googleapis.com;
        frame-src 'self' https://www.google.com https://maps.google.com;
        object-src 'none';
        base-uri 'self';
        form-action 'self';
        upgrade-insecure-requests;
    ">
    
    <!-- Permissions Policy -->
    <meta http-equiv="Permissions-Policy" content="
        geolocation=(self),
        microphone=(),
        camera=(),
        payment=(),
        usb=(),
        magnetometer=(),
        gyroscope=(),
        accelerometer=()
    ">
    
    <meta name="theme-color" content="#2c2c2c">
    <title>CEE MimarlÄ±k</title>
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://www.ceemimarlik.com">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    
    <!-- Preload Critical Resources -->
    <link rel="preload" as="style" href="#critical-css">
    
    <!-- Schema.org Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "ArchitecturalService",
        "name": "CEE MimarlÄ±k",
        "description": "Modern mimarlÄ±k anlayÄ±ÅŸÄ±yla villa, apartman, ofis ve ticari yapÄ± tasarÄ±mÄ±",
        "url": "https://www.ceemimarlik.com",
        "logo": "https://www.ceemimarlik.com/logo.png",
        "image": "https://www.ceemimarlik.com/og-image.jpg",
        "telephone": "+90-537-327-8765",
        "address": {
            "@type": "PostalAddress",
            "streetAddress": "Hatip, Ali Osman Ã‡elebi Blv. No:52 A Blok Kat 1 No:3",
            "addressLocality": "Ã‡orlu",
            "postalCode": "59860",
            "addressRegion": "TekirdaÄŸ",
            "postalCode": "59860",
            "addressCountry": "TR"
        },
        "geo": {
            "@type": "GeoCoordinates",
            "latitude": "41.1653",
            "longitude": "27.7972"
        },
        "openingHoursSpecification": {
            "@type": "OpeningHoursSpecification",
            "dayOfWeek": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday"],
            "opens": "09:00",
            "closes": "18:00"
        },
        "sameAs": [
            "https://instagram.com/cee_mimarlik",
            "https://facebook.com/cee_mimarlik",
            "https://linkedin.com/company/cee_mimarlik"
        ],
        "priceRange": "$$",
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.9",
            "reviewCount": "234"
        }
    }
    </script>
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-XXXXXXXXXX', {
            'anonymize_ip': true,
            'cookie_flags': 'SameSite=None;Secure'
        });
        
        // Custom Events
        function trackEvent(category, action, label) {
            gtag('event', action, {
                'event_category': category,
                'event_label': label
            });
        }
    </script>
    
    <!-- Facebook Pixel -->
    <script>
        !function(f,b,e,v,n,t,s)
        {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
        n.callMethod.apply(n,arguments):n.queue.push(arguments)};
        if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
        n.queue=[];t=b.createElement(e);t.async=!0;
        t.src=v;s=b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t,s)}(window, document,'script',
        'https://connect.facebook.net/en_US/fbevents.js');
        fbq('init', 'YOUR_PIXEL_ID');
        fbq('track', 'PageView');
    </script>
    <noscript><img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=YOUR_PIXEL_ID&ev=PageView&noscript=1"/></noscript>
    <style>
        /* AI ASSISTANT PANEL - SAÃ„Å¾ TARAFTA */
        .ai-assistant-panel {
            position: fixed;
            top: 0;
            right: -450px;
            width: 450px;
            height: 100vh;
            background: white;
            box-shadow: -5px 0 30px rgba(0,0,0,0.2);
            display: flex;
            flex-direction: column;
            z-index: 10001;
            transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .ai-assistant-panel.active {
            right: 0;
        }

        body.dark-mode .ai-assistant-panel {
            background: #1a1a1a;
            box-shadow: -5px 0 30px rgba(0,0,0,0.5);
        }

        .ai-assistant-header {
            background: linear-gradient(135deg, #d4af37 0%, #f4d03f 100%);
            color: white;
            padding: 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .ai-assistant-logo {
            width: 45px;
            height: 45px;
            background: rgba(255,255,255,0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }

        .ai-assistant-messages {
            flex: 1;
            overflow-y: auto;
            padding: 25px;
            background: #f8f9fa;
        }

        body.dark-mode .ai-assistant-messages {
            background: #2c2c2c;
        }

        .ai-assistant-welcome {
            text-align: center;
            padding: 20px 0;
        }

        .ai-assistant-welcome h3 {
            margin: 15px 0 10px;
            font-size: 22px;
            color: var(--primary);
        }

        body.dark-mode .ai-assistant-welcome h3 {
            color: var(--accent);
        }

        .ai-assistant-welcome p {
            color: #666;
            line-height: 1.6;
            margin-bottom: 25px;
        }

        body.dark-mode .ai-assistant-welcome p {
            color: #aaa;
        }

        .quick-topics {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin: 25px 0;
        }

        .quick-topic {
            background: white;
            border: 1px solid #e0e0e0;
            padding: 12px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 13px;
            text-align: center;
        }

        body.dark-mode .quick-topic {
            background: #333;
            border-color: #444;
            color: white;
        }

        .quick-topic:hover {
            background: var(--accent);
            color: white;
            border-color: var(--accent);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(212, 175, 55, 0.3);
        }

        .contact-info {
            background: #fff9e6;
            border: 1px solid #ffe066;
            padding: 15px;
            border-radius: 8px;
            font-size: 13px;
            margin-top: 20px;
            text-align: left;
        }

        body.dark-mode .contact-info {
            background: #3a3a1a;
            border-color: #5a5a3a;
        }

        .contact-info strong {
            color: var(--accent);
        }

        .ai-assistant-input {
            padding: 20px;
            background: white;
            border-top: 1px solid #e0e0e0;
            display: flex;
            gap: 10px;
        }

        body.dark-mode .ai-assistant-input {
            background: #1a1a1a;
            border-top-color: #333;
        }

        .ai-assistant-input input {
            flex: 1;
            padding: 14px 18px;
            border: 2px solid #e0e0e0;
            border-radius: 25px;
            font-size: 14px;
            outline: none;
            transition: border-color 0.3s;
        }

        body.dark-mode .ai-assistant-input input {
            background: #2c2c2c;
            border-color: #444;
            color: white;
        }

        .ai-assistant-input input:focus {
            border-color: var(--accent);
        }

        .ai-assistant-input button {
            background: linear-gradient(135deg, #d4af37 0%, #f4d03f 100%);
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .ai-assistant-input button:hover {
            transform: scale(1.1);
        }

        /* Mesaj stilleri */
        .ai-msg, .user-msg {
            margin-bottom: 20px;
            animation: slideIn 0.3s ease;
        }

        .ai-msg {
            display: flex;
            gap: 12px;
        }

        .user-msg {
            display: flex;
            gap: 12px;
            flex-direction: row-reverse;
        }

        .msg-avatar {
            width: 38px;
            height: 38px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            flex-shrink: 0;
        }

        .ai-msg .msg-avatar {
            background: linear-gradient(135deg, #d4af37 0%, #f4d03f 100%);
        }

        .user-msg .msg-avatar {
            background: #2c2c2c;
            color: white;
            font-size: 14px;
        }

        .msg-content {
            background: white;
            padding: 14px 18px;
            border-radius: 16px;
            max-width: 75%;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            line-height: 1.6;
            font-size: 14px;
        }

        body.dark-mode .msg-content {
            background: #333;
            color: white;
        }

        .user-msg .msg-content {
            background: var(--accent);
            color: white;
        }

        .msg-content strong {
            display: block;
            margin-bottom: 8px;
            color: var(--accent);
            font-size: 15px;
        }

        .user-msg .msg-content strong {
            color: white;
        }

        body.dark-mode .msg-content strong {
            color: #f4d03f;
        }

        .typing-indicator-wrapper {
            display: flex;
            gap: 12px;
            margin-bottom: 20px;
        }

        .typing-indicator {
            display: flex;
            gap: 5px;
            padding: 14px 18px;
            background: white;
            border-radius: 16px;
        }

        body.dark-mode .typing-indicator {
            background: #333;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            background: var(--accent);
            border-radius: 50%;
            animation: typing 1.4s infinite;
        }

        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-10px); }
        }

        @media (max-width: 768px) {
            .ai-assistant-panel {
                width: 100%;
                right: -100%;
            }
            
            .msg-content {
                max-width: 85%;
                font-size: 13px;
                padding: 12px 16px;
            }
            
            .quick-topics {
                grid-template-columns: 1fr;
            }
            
            .ai-assistant-input {
                padding: 15px;
            }
            
            .ai-assistant-input input {
                font-size: 13px;
                padding: 12px 16px;
            }
        
        /* HERO MOBILE */
        @media (max-width: 768px) {
            .hero {
                height: 60vh;
                margin-top: 70px;
            }

            .hero-content {
                bottom: 30px;
                left: 30px;
                right: 30px;
            }

            .hero-title {
                font-size: 32px;
                letter-spacing: 1px;
            }

            .hero-category {
                font-size: 11px;
                letter-spacing: 2px;
            }

            .hero-meta {
                font-size: 13px;
            }

            .hero-nav {
                width: 40px;
                height: 40px;
                font-size: 16px;
            }

            .hero-nav.prev { left: 15px; }
            .hero-nav.next { right: 15px; }

            .hero-indicators {
                bottom: 20px;
                right: 30px;
            }

            .hero-indicator {
                width: 20px;
            }

            .hero-indicator.active {
                width: 35px;
            }
        }

        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #2c2c2c;
            --secondary: #666;
            --accent: #1a1a1a;
            --bg: #fafafa;
            --white: #ffffff;
            --border: #e0e0e0;
            --shadow: rgba(0, 0, 0, 0.05);
            --whatsapp: #25D366;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            background: var(--bg);
            color: var(--primary);
            line-height: 1.8;
            overflow-x: hidden;
            transition: all 0.3s ease;
        }

        /* THEME COLORS */
        body[data-theme="blue"] {
            --primary: #1e3a5f;
            --secondary: #5c7a99;
            --accent: #2563eb;
            --border: #d1e3f8;
        }

        body[data-theme="brown"] {
            --primary: #3e2723;
            --secondary: #8d6e63;
            --accent: #5d4037;
            --bg: #f5f1ed;
            --border: #d7ccc8;
        }

        body[data-theme="green"] {
            --primary: #1b4332;
            --secondary: #52796f;
            --accent: #2d6a4f;
            --bg: #f1f8f4;
            --border: #b7e4c7;
        }

        body[data-theme="purple"] {
            --primary: #4a154b;
            --secondary: #8b7ab8;
            --accent: #6b46c1;
            --bg: #f5f3ff;
            --border: #ddd6fe;
        }

        body[data-theme="warm"] {
            --primary: #7c2d12;
            --secondary: #ea580c;
            --accent: #c2410c;
            --bg: #fff7ed;
            --border: #fed7aa;
        }

        body[data-theme="cool"] {
            --primary: #164e63;
            --secondary: #0891b2;
            --accent: #0e7490;
            --bg: #ecfeff;
            --border: #a5f3fc;
        }

        body[data-theme="elegant"] {
            --primary: #1a1a1a;
            --secondary: #8b7355;
            --accent: #d4af37;
            --bg: #fafaf8;
            --border: #e8dcc8;
        }

        /* MICRO-ANIMATIONS & SMOOTH TRANSITIONS */
        button, .btn, .btn-primary, .btn-secondary, a, input, textarea {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Ripple Effect */
        .ripple {
            position: relative;
            overflow: hidden;
        }

        .ripple::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.4);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .ripple:active::after {
            width: 300px;
            height: 300px;
        }

        /* Button Hover Lift */
        button:hover, .btn:hover, .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }

        button:active, .btn:active {
            transform: scale(0.98);
        }

        /* Card Animations */
        .project-item, .team-member {
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .project-item:hover, .team-member:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }

        /* Smooth Scroll */
        html {
            scroll-behavior: smooth;
        }

        /* Page Load Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        section {
            animation: fadeInUp 0.8s ease-out;
        }

        /* DWG TOOLS MODAL */
        .dwg-tools-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(5px);
            z-index: 10001;
            overflow-y: auto;
            padding: 20px;
        }

        .dwg-tools-modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s;
        }

        .dwg-tools-container {
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            max-width: 800px;
            width: 100%;
            padding: 40px;
            position: relative;
            animation: scaleIn 0.3s;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        body.dark-mode .dwg-tools-container {
            background: rgba(44, 44, 44, 0.98);
        }

        .modal-close-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            font-size: 32px;
            color: var(--secondary);
            cursor: pointer;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.2s;
        }

        .modal-close-btn:hover {
            background: rgba(0,0,0,0.1);
            transform: rotate(90deg);
        }

        .dwg-tools-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .dwg-tools-header svg {
            color: var(--primary);
            margin-bottom: 15px;
        }

        .dwg-tools-header h2 {
            font-size: 28px;
            margin-bottom: 10px;
            color: var(--primary);
        }

        .dwg-tools-header p {
            color: var(--secondary);
            font-size: 15px;
        }

        .dwg-tools-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            border-bottom: 2px solid var(--border);
        }

        .dwg-tab {
            flex: 1;
            background: none;
            border: none;
            padding: 15px 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            cursor: pointer;
            color: var(--secondary);
            font-weight: 500;
            border-bottom: 3px solid transparent;
            margin-bottom: -2px;
            transition: all 0.3s;
        }

        .dwg-tab:hover {
            color: var(--primary);
            background: rgba(102, 126, 234, 0.05);
        }

        .dwg-tab.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
        }

        .dwg-tab svg {
            flex-shrink: 0;
        }

        .dwg-tab-content {
            display: none;
        }

        .dwg-tab-content.active {
            display: block;
            animation: fadeIn 0.3s;
        }

        .upload-area {
            border: 2px dashed var(--border);
            border-radius: 12px;
            padding: 40px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            margin-bottom: 20px;
        }

        .upload-area:hover {
            border-color: var(--primary);
            background: rgba(102, 126, 234, 0.05);
        }

        .upload-area svg {
            color: var(--primary);
            margin-bottom: 15px;
        }

        .upload-area h3 {
            font-size: 18px;
            margin-bottom: 8px;
            color: var(--primary);
        }

        .upload-area p {
            color: var(--secondary);
            margin-bottom: 10px;
        }

        .file-info {
            font-size: 13px;
            color: var(--secondary);
            opacity: 0.7;
        }

        .file-preview {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background: rgba(102, 126, 234, 0.1);
            border-radius: 12px;
            margin-bottom: 20px;
        }

        .file-icon {
            font-size: 32px;
        }

        .file-details {
            flex: 1;
        }

        .file-name {
            font-weight: 600;
            margin-bottom: 4px;
            color: var(--primary);
        }

        .file-size {
            font-size: 13px;
            color: var(--secondary);
        }

        .file-version {
            font-size: 13px;
            color: var(--accent);
            font-weight: 600;
            margin-top: 4px;
        }

        .remove-file-btn {
            background: rgba(239, 68, 68, 0.1);
            border: none;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            font-size: 20px;
            color: #ef4444;
            cursor: pointer;
            transition: all 0.2s;
        }

        .remove-file-btn:hover {
            background: #ef4444;
            color: white;
        }

        .format-selector, .version-selector {
            margin-bottom: 25px;
        }

        .format-selector label, .version-selector label {
            display: block;
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--primary);
        }

        .format-options, .version-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 12px;
        }

        .format-option, .version-option {
            position: relative;
        }

        .format-option input, .version-option input {
            position: absolute;
            opacity: 0;
        }

        .format-card, .version-card {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px 15px;
            border: 2px solid var(--border);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }

        .format-card:hover, .version-card:hover {
            border-color: var(--primary);
            background: rgba(102, 126, 234, 0.05);
        }

        .format-option input:checked + .format-card,
        .version-option input:checked + .version-card {
            border-color: var(--primary);
            background: rgba(102, 126, 234, 0.1);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.2);
        }

        .format-card svg, .version-card svg {
            color: var(--primary);
            margin-bottom: 8px;
        }

        .format-card strong, .version-card strong {
            display: block;
            margin-bottom: 4px;
            color: var(--primary);
        }

        .format-desc, .version-code {
            font-size: 12px;
            color: var(--secondary);
        }

        .quality-settings {
            margin-bottom: 25px;
        }

        .quality-settings label {
            display: block;
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--primary);
        }

        .quality-slider-container {
            position: relative;
        }

        .quality-slider {
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: var(--border);
            outline: none;
            -webkit-appearance: none;
        }

        .quality-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--primary);
            cursor: pointer;
        }

        .quality-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            font-size: 12px;
            color: var(--secondary);
        }

        .current-quality {
            text-align: center;
            margin-top: 10px;
            font-weight: 600;
            color: var(--primary);
        }

        .version-note {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 15px;
            padding: 12px;
            background: rgba(59, 130, 246, 0.1);
            border-radius: 8px;
            font-size: 13px;
            color: var(--secondary);
        }

        .convert-btn, .download-btn {
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: all 0.3s;
        }

        .convert-btn:hover:not(:disabled), .download-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
        }

        .convert-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .conversion-progress {
            margin-top: 20px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: var(--border);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            transition: width 0.3s;
            width: 0%;
        }

        .progress-text {
            text-align: center;
            font-size: 14px;
            color: var(--secondary);
        }

        .conversion-result {
            margin-top: 20px;
        }

        .result-success {
            text-align: center;
            padding: 30px;
            background: rgba(16, 185, 129, 0.1);
            border-radius: 12px;
        }

        .result-success svg {
            margin-bottom: 15px;
        }

        .result-success h3 {
            color: #10b981;
            margin-bottom: 10px;
        }

        .result-success p {
            color: var(--secondary);
            margin-bottom: 20px;
        }

        .dwg-tools-link {
            color: var(--primary) !important;
            font-weight: 500;
            padding: 8px 16px;
            border-radius: 8px;
            transition: all 0.3s;
        }

        .dwg-tools-link:hover {
            background: rgba(102, 126, 234, 0.1);
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .dwg-tools-container {
                padding: 25px;
                margin: 10px;
            }

            .format-options, .version-options {
                grid-template-columns: 1fr;
            }

            .dwg-tools-tabs {
                flex-direction: column;
            }

            .dwg-tab {
                border-bottom: none;
                border-left: 3px solid transparent;
                justify-content: flex-start;
                padding: 12px 15px;
            }

            .dwg-tab.active {
                border-bottom: none;
                border-left-color: var(--primary);
                background: rgba(102, 126, 234, 0.1);
            }
        }

        /* TOAST NOTIFICATIONS */
        .toast-container {
            position: fixed;
            top: 100px;
            right: 20px;
            z-index: 10000;
            display: flex;
            flex-direction: column;
            gap: 10px;
            pointer-events: none;
        }

        .toast {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            padding: 16px 20px;
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.15);
            display: flex;
            align-items: center;
            gap: 12px;
            min-width: 300px;
            max-width: 400px;
            pointer-events: auto;
            animation: slideInRight 0.3s ease-out;
            border-left: 4px solid;
        }

        body.dark-mode .toast {
            background: rgba(44, 44, 44, 0.95);
        }

        @keyframes slideInRight {
            from {
                transform: translateX(400px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes slideOutRight {
            from {
                transform: translateX(0);
                opacity: 1;
            }
            to {
                transform: translateX(400px);
                opacity: 0;
            }
        }

        .toast.removing {
            animation: slideOutRight 0.3s ease-out;
        }

        .toast-success {
            border-left-color: #10b981;
        }

        .toast-error {
            border-left-color: #ef4444;
        }

        .toast-info {
            border-left-color: #3b82f6;
        }

        .toast-warning {
            border-left-color: #f59e0b;
        }

        .toast-icon {
            width: 24px;
            height: 24px;
            flex-shrink: 0;
        }

        .toast-content {
            flex: 1;
        }

        .toast-title {
            font-weight: 600;
            font-size: 14px;
            margin-bottom: 2px;
            color: var(--primary);
        }

        .toast-message {
            font-size: 13px;
            color: var(--secondary);
        }

        .toast-close {
            background: none;
            border: none;
            font-size: 20px;
            color: var(--secondary);
            cursor: pointer;
            padding: 0;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 4px;
            transition: all 0.2s;
        }

        .toast-close:hover {
            background: rgba(0,0,0,0.1);
        }

        .toast-progress {
            position: absolute;
            bottom: 0;
            left: 0;
            height: 3px;
            background: currentColor;
            animation: progress 3s linear;
        }

        @keyframes progress {
            from { width: 100%; }
            to { width: 0%; }
        }

        /* SKELETON LOADING */
        .skeleton {
            background: linear-gradient(
                90deg,
                #f0f0f0 25%,
                #e0e0e0 50%,
                #f0f0f0 75%
            );
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
            border-radius: 8px;
        }

        body.dark-mode .skeleton {
            background: linear-gradient(
                90deg,
                #2c2c2c 25%,
                #3c3c3c 50%,
                #2c2c2c 75%
            );
            background-size: 200% 100%;
        }

        @keyframes shimmer {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }

        .skeleton-text {
            height: 16px;
            margin-bottom: 10px;
        }

        .skeleton-title {
            height: 24px;
            width: 60%;
            margin-bottom: 15px;
        }

        .skeleton-image {
            height: 200px;
            width: 100%;
        }

        .skeleton-card {
            padding: 20px;
            border-radius: 12px;
        }

        /* Hide content while loading */
        .loading .project-item {
            opacity: 0;
        }

        .loaded .project-item {
            animation: fadeInUp 0.6s ease-out forwards;
        }

        /* ANIMATED STATS */
        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 40px;
            max-width: 1000px;
            margin: 60px auto;
            padding: 40px;
            background: rgba(255, 255, 255, 0.5);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.18);
        }

        body.dark-mode .stats-container {
            background: rgba(44, 44, 44, 0.5);
        }

        .stat-item {
            text-align: center;
            padding: 20px;
            position: relative;
        }

        .stat-item::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 3px;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            border-radius: 2px;
        }

        .stat-number {
            font-size: 56px;
            font-weight: bold;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1;
            margin-bottom: 10px;
            display: inline-block;
        }

        .stat-percent {
            font-size: 40px;
            font-weight: bold;
            color: var(--primary);
            display: inline-block;
            margin-left: -10px;
        }

        .stat-label {
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: var(--secondary);
            margin-top: 15px;
        }

        /* Input Focus */
        input:focus, textarea:focus {
            transform: scale(1.01);
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        body.dark-mode {
            --primary: #e0e0e0;
            --secondary: #b0b0b0;
            --accent: #ffffff;
            --bg: #1a1a1a;
            --white: #2c2c2c;
            --border: #333;
            --shadow: rgba(255, 255, 255, 0.05);
        }

        /* HEADER & NAV */
        header {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border-bottom: 1px solid rgba(255, 255, 255, 0.18);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.05);
            z-index: 1000;
            padding: 20px 0;
            transition: all 0.3s ease;
        }

        body.dark-mode header {
            background: rgba(26, 26, 26, 0.8);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 60px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .site-logo {
            height: 45px;
            width: auto;
        }

        .logo-text {
            font-size: 24px;
            font-weight: 200;
            letter-spacing: 5px;
            color: var(--accent);
            text-transform: uppercase;
        }

        /* Mobile Menu Toggle */
        .menu-toggle {
            display: none;
            background: none;
            border: none;
            font-size: 24px;
            color: var(--primary);
            cursor: pointer;
        }

        nav {
            display: flex;
            gap: 40px;
            align-items: center;
        }

        nav.mobile-open {
            display: flex;
        }

        nav a {
            color: var(--secondary);
            text-decoration: none;
            font-size: 13px;
            letter-spacing: 2px;
            text-transform: uppercase;
            transition: color 0.3s;
            position: relative;
        }

        nav a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 1px;
            background: var(--accent);
            transition: width 0.3s;
        }

        nav a:hover::after,
        nav a.active::after {
            width: 100%;
        }

        nav a:hover,
        nav a.active {
            color: var(--accent);
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .social-icons {
            display: flex;
            gap: 12px;
            align-items: center;
            padding-right: 15px;
            border-right: 1px solid var(--border);
        }

        .social-link {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            color: var(--primary);
            transition: all 0.3s ease;
            border-radius: 50%;
        }

        .social-link:hover {
            color: var(--accent);
            background: var(--bg);
            transform: translateY(-2px);
        }

        body.dark-mode .social-link:hover {
            background: rgba(255,255,255,0.1);
        }

        .btn-minimal {
            background: none;
            border: 1px solid var(--border);
            color: var(--primary);
            padding: 8px 16px;
            cursor: pointer;
            font-size: 13px;
            letter-spacing: 1px;
            transition: all 0.3s;
        }

        .btn-minimal:hover {
            background: var(--accent);
            color: var(--white);
            border-color: var(--accent);
        }

        /* HERO SLIDER - MODERN */
        .hero {
            height: 70vh;
            position: relative;
            margin-top: 85px;
            overflow: hidden;
        }

        .hero-slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 1.2s ease-in-out;
        }

        .hero-slide.active {
            opacity: 1;
        }

        .hero-slide img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            filter: brightness(0.75);
            transition: transform 8s ease-out;
        }

        .hero-slide.active img {
            transform: scale(1.05);
        }

        body.dark-mode .hero-slide img {
            filter: brightness(0.6);
        }

        /* Minimal Overlay */
        .hero-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, transparent 0%, rgba(0,0,0,0.3) 100%);
        }

        body.dark-mode .hero-overlay {
            background: linear-gradient(to bottom, transparent 0%, rgba(0,0,0,0.5) 100%);
        }

        /* Project Info - Minimal */
        .hero-content {
            position: absolute;
            bottom: 60px;
            left: 60px;
            z-index: 2;
            max-width: 600px;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.8s ease 0.5s;
        }

        .hero-slide.active .hero-content {
            opacity: 1;
            transform: translateY(0);
        }

        .hero-category {
            display: inline-block;
            font-size: 12px;
            letter-spacing: 3px;
            color: var(--accent);
            font-weight: 600;
            margin-bottom: 12px;
            text-transform: uppercase;
        }

        body.dark-mode .hero-category {
            color: var(--accent);
        }

        .hero-title {
            font-size: 48px;
            font-weight: 300;
            letter-spacing: 2px;
            margin-bottom: 15px;
            color: white;
            text-shadow: 0 2px 30px rgba(0,0,0,0.5);
            line-height: 1.2;
        }

        body.dark-mode .hero-title {
            color: #ffffff;
        }

        .hero-meta {
            font-size: 14px;
            color: rgba(255,255,255,0.8);
            letter-spacing: 1px;
        }

        /* Navigation Arrows */
        .hero-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255,255,255,0.15);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.3);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 3;
            transition: all 0.3s;
            font-size: 20px;
            opacity: 0.7;
        }

        .hero-nav:hover {
            background: rgba(255,255,255,0.25);
            transform: translateY(-50%) scale(1.1);
            opacity: 1;
        }

        .hero-nav.prev { left: 30px; }
        .hero-nav.next { right: 30px; }

        /* Progress Bar */
        .hero-progress {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0%;
            height: 3px;
            background: var(--accent);
            z-index: 3;
            transition: width 0.3s ease;
        }

        /* Slide Indicators */
        .hero-indicators {
            position: absolute;
            bottom: 30px;
            right: 60px;
            display: flex;
            gap: 10px;
            z-index: 3;
        }

        .hero-indicator {
            width: 30px;
            height: 3px;
            background: rgba(255,255,255,0.3);
            cursor: pointer;
            transition: all 0.3s;
        }

        .hero-indicator.active {
            background: var(--accent);
            width: 50px;
        }

        .scroll-indicator {
            position: absolute;
            bottom: 25px;
            left: 50%;
            transform: translateX(-50%);
            color: var(--primary);
            font-size: 11px;
            letter-spacing: 2px;
            animation: bounce 2s infinite;
            z-index: 2;
            opacity: 0.6;
        }

        body.dark-mode .scroll-indicator {
            color: #e0e0e0;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateX(-50%) translateY(0); }
            40% { transform: translateX(-50%) translateY(-10px); }
            60% { transform: translateX(-50%) translateY(-5px); }
        }

        /* SECTIONS */
        section {
            max-width: 1600px;
            margin: 120px auto;
            padding: 0 80px;
        }

        .section-header {
            text-align: center;
            margin-bottom: 100px;
        }

        .section-label {
            font-size: 12px;
            font-weight: 400;
            letter-spacing: 4px;
            color: var(--secondary);
            margin-bottom: 20px;
            text-transform: uppercase;
        }

        .section-title {
            font-size: 52px;
            font-weight: 100;
            letter-spacing: 3px;
            color: var(--accent);
        }

        /* PROJECTS GRID */
        .filter-container {
            display: flex;
            justify-content: center;
            gap: 45px;
            margin-bottom: 90px;
            flex-wrap: wrap;
        }

        .filter-btn {
            background: none;
            border: none;
            color: var(--secondary);
            font-size: 13px;
            letter-spacing: 2px;
            cursor: pointer;
            padding: 10px 0;
            position: relative;
            transition: all 0.4s;
            text-transform: uppercase;
        }

        .filter-btn::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 1px;
            background: var(--accent);
            transition: width 0.4s;
        }

        .filter-btn:hover::after,
        .filter-btn.active::after {
            width: 100%;
        }

        .filter-btn:hover,
        .filter-btn.active {
            color: var(--accent);
        }

        .projects-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 45px;
        }

        @media (max-width: 1400px) {
            .projects-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        .project-card {
            position: relative;
            overflow: hidden;
            background: var(--white);
            cursor: pointer;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            aspect-ratio: 3/2;
            box-shadow: 0 4px 20px var(--shadow);
        }

        .project-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 30px 60px var(--shadow);
        }

        .project-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            filter: grayscale(10%);
        }

        .project-card:hover .project-image {
            transform: scale(1.08);
            filter: grayscale(0%);
        }

        .project-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.7) 50%, transparent 100%);
            padding: 35px;
            transform: translateY(100%);
            transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .project-card:hover .project-overlay {
            transform: translateY(0);
        }

        .project-title {
            color: white;
            font-size: 22px;
            font-weight: 200;
            letter-spacing: 3px;
            margin-bottom: 12px;
            text-transform: uppercase;
        }

        .project-tags {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .project-tag {
            font-size: 11px;
            letter-spacing: 2px;
            color: rgba(255,255,255,0.9);
            border: 1px solid rgba(255,255,255,0.4);
            padding: 5px 14px;
            text-transform: uppercase;
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
        }

        /* ABOUT SECTION */
        #hakkimizda {
            background: var(--white);
            padding: 100px 80px;
            margin: 120px auto;
        }

        .about-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 80px;
            margin-bottom: 100px;
        }

        .about-text h2 {
            font-size: 42px;
            font-weight: 100;
            letter-spacing: 2px;
            margin-bottom: 30px;
            color: var(--accent);
        }

        .about-text p {
            font-size: 16px;
            line-height: 1.9;
            color: var(--secondary);
            margin-bottom: 20px;
        }

        .team-section {
            margin-top: 80px;
        }

        .team-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 60px;
            max-width: 800px;
            margin: 0 auto;
        }

        .team-member {
            text-align: center;
        }

        .team-photo {
            width: 100%;
            aspect-ratio: 3/4;
            object-fit: cover;
            filter: grayscale(30%);
            margin-bottom: 25px;
            transition: filter 0.3s;
        }

        .team-photo:hover {
            filter: grayscale(0%);
        }

        .team-name {
            font-size: 20px;
            font-weight: 300;
            letter-spacing: 2px;
            margin-bottom: 8px;
            color: var(--accent);
        }

        .team-role {
            font-size: 13px;
            letter-spacing: 2px;
            color: var(--secondary);
            text-transform: uppercase;
        }

        /* UNIFIED CHAT BUTTON */
        .unified-chat-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 65px;
            height: 65px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 8px 30px rgba(102, 126, 234, 0.4);
            transition: all 0.3s;
            z-index: 1001;
            animation: pulse 2s infinite;
        }

        .unified-chat-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 12px 40px rgba(102, 126, 234, 0.6);
        }

        .chat-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #ff4444;
            color: white;
            font-size: 11px;
            font-weight: bold;
            padding: 3px 7px;
            border-radius: 12px;
            border: 2px solid white;
            min-width: 20px;
            text-align: center;
        }

        @keyframes pulse {
            0%, 100% { 
                box-shadow: 0 8px 30px rgba(102, 126, 234, 0.4);
            }
            50% { 
                box-shadow: 0 8px 40px rgba(102, 126, 234, 0.8), 0 0 0 15px rgba(102, 126, 234, 0.1);
            }
        }

        /* CHAT MENU */
        .chat-menu {
            position: absolute;
            bottom: 80px;
            right: 0;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.18);
            border-radius: 16px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1), 0 0 0 1px rgba(255,255,255,0.5) inset;
            padding: 8px;
            min-width: 320px;
            opacity: 0;
            visibility: hidden;
            transform: translateY(10px);
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            z-index: 1002;
        }

        body.dark-mode .chat-menu {
            background: rgba(44, 44, 44, 0.95);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .chat-menu.active {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .chat-menu-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 14px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s;
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
            user-select: none;
            -webkit-user-select: none;
        }

        .chat-menu-item:active {
            background: #e8e8e8;
            transform: scale(0.98);
        }

        .chat-menu-item:hover {
            background: #f5f5f5;
            transform: translateX(-3px);
        }

        .chat-menu-icon {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .ai-gradient {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .whatsapp-gradient {
            background: linear-gradient(135deg, #25D366 0%, #128C7E 100%);
        }

        .chat-menu-content {
            flex: 1;
        }

        .chat-menu-title {
            font-weight: 600;
            font-size: 15px;
            color: #2c2c2c;
            margin-bottom: 2px;
        }

        .chat-menu-subtitle {
            font-size: 12px;
            color: #666;
        }

        .chat-menu-badge {
            font-size: 11px;
            font-weight: bold;
            padding: 4px 8px;
            border-radius: 10px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .chat-menu-badge.online {
            background: #25D366;
            font-size: 16px;
            padding: 0;
            width: 10px;
            height: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: blink 2s infinite;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .chat-menu-divider {
            height: 1px;
            background: #e0e0e0;
            margin: 8px 0;
        }

        /* AI CHAT WINDOW */
        .ai-chat-window {
            position: fixed;
            bottom: 100px;
            right: 30px;
            width: 380px;
            height: 550px;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.18);
            border-radius: 16px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1), 0 0 0 1px rgba(255,255,255,0.5) inset;
            display: none;
            flex-direction: column;
            z-index: 1000;
            overflow: hidden;
        }

        /* AI ASSISTANT PANEL - SAÃ„Å¾ TARAFTA */
        .ai-assistant-panel {
            position: fixed;
            top: 0;
            right: -450px;
            width: 450px;
            height: 100vh;
            background: white;
            box-shadow: -5px 0 30px rgba(0,0,0,0.2);
            z-index: 10001;
            display: flex;
            flex-direction: column;
            transition: right 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        body.dark-mode .ai-assistant-panel {
            background: #2c2c2c;
            color: #e0e0e0;
        }

        .ai-assistant-panel.active {
            right: 0;
        }

        .ai-panel-header {
            background: linear-gradient(135deg, #d4af37, #f4d03f);
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid rgba(0,0,0,0.1);
        }

        .ai-panel-header-content {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .ai-panel-logo {
            width: 45px;
            height: 45px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 22px;
        }

        .ai-panel-title h2 {
            font-size: 18px;
            font-weight: 600;
            color: white;
            margin: 0 0 3px 0;
        }

        .ai-panel-title p {
            font-size: 12px;
            color: rgba(255,255,255,0.9);
            margin: 0;
        }

        .ai-panel-close {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .ai-panel-close:hover {
            background: rgba(255,255,255,0.3);
            transform: rotate(90deg);
        }

        .ai-panel-messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            background: #f8f8f8;
        }

        body.dark-mode .ai-panel-messages {
            background: #1a1a1a;
        }

        .ai-panel-message {
            margin-bottom: 16px;
            animation: messageSlide 0.3s ease;
        }

        @keyframes messageSlide {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .ai-panel-message.user {
            display: flex;
            justify-content: flex-end;
        }

        .ai-panel-message.assistant {
            display: flex;
            justify-content: flex-start;
        }

        .ai-panel-bubble {
            max-width: 80%;
            padding: 12px 16px;
            border-radius: 16px;
            line-height: 1.5;
            font-size: 14px;
        }

        .ai-panel-message.user .ai-panel-bubble {
            background: linear-gradient(135deg, #d4af37, #f4d03f);
            color: white;
            border-bottom-right-radius: 4px;
        }

        .ai-panel-message.assistant .ai-panel-bubble {
            background: white;
            color: #333;
            border: 1px solid #e0e0e0;
            border-bottom-left-radius: 4px;
        }

        body.dark-mode .ai-panel-message.assistant .ai-panel-bubble {
            background: #2c2c2c;
            color: #e0e0e0;
            border-color: #444;
        }

        .ai-panel-quick-questions {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
            padding: 15px;
            background: white;
            border-top: 1px solid #e0e0e0;
        }

        body.dark-mode .ai-panel-quick-questions {
            background: #2c2c2c;
            border-color: #444;
        }

        .ai-panel-quick-btn {
            padding: 10px;
            background: #f0f0f0;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: left;
        }

        .ai-panel-quick-btn:hover {
            background: linear-gradient(135deg, #d4af37, #f4d03f);
            color: white;
            border-color: #d4af37;
            transform: translateY(-2px);
        }

        .ai-panel-input-area {
            padding: 15px;
            background: white;
            border-top: 1px solid #e0e0e0;
        }

        body.dark-mode .ai-panel-input-area {
            background: #2c2c2c;
            border-color: #444;
        }

        .ai-panel-input-wrapper {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .ai-panel-input {
            flex: 1;
            padding: 12px 16px;
            border: 2px solid #e0e0e0;
            border-radius: 24px;
            font-size: 14px;
            outline: none;
            transition: all 0.3s;
        }

        .ai-panel-input:focus {
            border-color: #d4af37;
        }

        body.dark-mode .ai-panel-input {
            background: #1a1a1a;
            border-color: #444;
            color: #e0e0e0;
        }

        .ai-panel-send {
            width: 44px;
            height: 44px;
            background: linear-gradient(135deg, #d4af37, #f4d03f);
            border: none;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .ai-panel-send:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 12px rgba(212, 175, 55, 0.4);
        }

        .ai-panel-typing {
            display: flex;
            gap: 5px;
            padding: 12px 16px;
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 16px;
            width: fit-content;
        }

        .ai-panel-typing-dot {
            width: 8px;
            height: 8px;
            background: #d4af37;
            border-radius: 50%;
            animation: typing 1.4s infinite;
        }

        .ai-panel-typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .ai-panel-typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        body.dark-mode .ai-chat-window {
            background: rgba(44, 44, 44, 0.9);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .ai-chat-window.active {
            display: flex;
            animation: slideUp 0.3s ease-out;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .ai-chat-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .ai-avatar {
            width: 40px;
            height: 40px;
            background: rgba(255,255,255,0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .ai-chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            background: #f5f5f5;
        }

        .ai-message {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .user-message {
            flex-direction: row-reverse;
        }

        .ai-message-avatar {
            width: 36px;
            height: 36px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            flex-shrink: 0;
        }

        .user-message .ai-message-avatar {
            background: #2c2c2c;
        }

        .ai-message-content {
            background: white;
            padding: 12px 16px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            max-width: 70%;
        }

        .user-message .ai-message-content {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .ai-message-content p {
            margin: 0;
            font-size: 14px;
            line-height: 1.5;
        }

        .ai-typing {
            display: none;
            gap: 4px;
            padding: 12px 16px;
        }

        .ai-typing.active {
            display: flex;
        }

        .ai-typing span {
            width: 8px;
            height: 8px;
            background: #667eea;
            border-radius: 50%;
            animation: typing 1.4s infinite;
        }

        .ai-typing span:nth-child(2) { animation-delay: 0.2s; }
        .ai-typing span:nth-child(3) { animation-delay: 0.4s; }

        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-10px); }
        }

        .ai-quick-questions {
            display: grid;
            gap: 8px;
            margin-top: 15px;
        }

        .ai-quick-question {
            background: white;
            padding: 10px 14px;
            border-radius: 20px;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.2s;
            border: 1px solid #e0e0e0;
            text-align: center;
        }

        .ai-quick-question:hover {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .ai-chat-input {
            padding: 15px 20px;
            background: white;
            border-top: 1px solid #e0e0e0;
            display: flex;
            gap: 10px;
        }

        .ai-chat-input input {
            flex: 1;
            padding: 12px 16px;
            border: 1px solid #e0e0e0;
            border-radius: 25px;
            font-size: 14px;
            outline: none;
        }

        .ai-chat-input input:focus {
            border-color: #667eea;
        }

        .ai-chat-input button:hover {
            transform: scale(1.05);
        }

        /* WHATSAPP BUTTON - KÃ¼Ã§Ã¼k, SaÄŸda */
        .whatsapp-btn {
            position: fixed;
            bottom: 25px;
            right: 25px;
            width: 50px;
            height: 50px;
            background: var(--whatsapp);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 3px 15px rgba(37, 211, 102, 0.4);
            z-index: 999;
            transition: all 0.3s;
        }

        .whatsapp-btn:hover {
            transform: scale(1.15);
            box-shadow: 0 6px 25px rgba(37, 211, 102, 0.6);
        }

        .whatsapp-btn svg {
            width: 26px;
            height: 26px;
            fill: white;
        }

        /* Notification Badge */
        .whatsapp-badge {
            position: absolute;
            top: -4px;
            right: -4px;
            background: #ff4444;
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            font-weight: bold;
            animation: pulse 2s infinite;
        }

        /* Notification Bubble - SaÄŸda */
        .whatsapp-notification {
            position: absolute;
            bottom: 65px;
            right: 0;
            background: white;
            padding: 12px 16px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
            min-width: 220px;
            max-width: 260px;
            opacity: 0;
            transform: translateY(10px) scale(0.9);
            animation: popIn 0.5s ease forwards, fadeOut 0.5s ease 4.5s forwards;
            pointer-events: none;
        }

        body.dark-mode .whatsapp-notification {
            background: var(--white);
            color: var(--primary);
        }

        .whatsapp-notification::after {
            content: '';
            position: absolute;
            bottom: -7px;
            right: 18px;
            width: 0;
            height: 0;
            border-left: 8px solid transparent;
            border-right: 8px solid transparent;
            border-top: 8px solid white;
        }

        body.dark-mode .whatsapp-notification::after {
            border-top-color: var(--white);
        }

        .whatsapp-notification-title {
            font-weight: 600;
            font-size: 13px;
            margin-bottom: 4px;
            color: var(--accent);
        }

        .whatsapp-notification-text {
            font-size: 11px;
            color: var(--secondary);
            line-height: 1.4;
        }

        @keyframes pulse {
            0%, 100% { 
                transform: scale(1); 
                box-shadow: 0 0 0 0 rgba(255, 68, 68, 0.7);
            }
            50% { 
                transform: scale(1.1); 
                box-shadow: 0 0 0 8px rgba(255, 68, 68, 0);
            }
        }

        @keyframes popIn {
            0% {
                opacity: 0;
                transform: translateY(10px) scale(0.9);
            }
            100% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        @keyframes fadeOut {
            to {
                opacity: 0;
                transform: translateY(-10px);
            }
        }

        /* WHATSAPP MODAL */
        .whatsapp-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 9999;
            align-items: center;
            justify-content: center;
        }

        .whatsapp-modal.show {
            display: flex;
        }

        .whatsapp-form {
            background: var(--white);
            padding: 50px;
            max-width: 500px;
            width: 90%;
            position: relative;
        }

        .whatsapp-form h3 {
            font-size: 28px;
            font-weight: 200;
            letter-spacing: 2px;
            margin-bottom: 30px;
            color: var(--accent);
            text-align: center;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            font-size: 12px;
            letter-spacing: 2px;
            color: var(--secondary);
            margin-bottom: 8px;
            text-transform: uppercase;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--border);
            background: var(--bg);
            color: var(--primary);
            font-size: 14px;
            font-family: inherit;
        }

        .form-group textarea {
            min-height: 100px;
            resize: vertical;
        }

        .form-actions {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }

        .btn-primary {
            flex: 1;
            padding: 14px;
            background: var(--whatsapp);
            color: white;
            border: none;
            cursor: pointer;
            font-size: 13px;
            letter-spacing: 2px;
            text-transform: uppercase;
            transition: all 0.3s;
        }

        .btn-primary:hover {
            background: #1fb855;
        }

        .btn-secondary {
            flex: 1;
            padding: 14px;
            background: none;
            color: var(--primary);
            border: 1px solid var(--border);
            cursor: pointer;
            font-size: 13px;
            letter-spacing: 2px;
            text-transform: uppercase;
            transition: all 0.3s;
        }

        .btn-secondary:hover {
            background: var(--accent);
            color: var(--white);
            border-color: var(--accent);
        }

        .close-modal {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            font-size: 30px;
            cursor: pointer;
            color: var(--secondary);
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: color 0.3s;
        }

        .close-modal:hover {
            color: var(--accent);
        }

        /* LIGHTBOX */
        .lightbox {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.95);
            z-index: 9999;
            align-items: center;
            justify-content: center;
        }

        .lightbox.show {
            display: flex;
        }

        .lightbox-image {
            max-width: 90%;
            max-height: 90vh;
            object-fit: contain;
        }

        .lightbox-close {
            position: absolute;
            top: 30px;
            right: 30px;
            background: none;
            border: none;
            color: white;
            font-size: 40px;
            cursor: pointer;
            width: 50px;
            height: 50px;
            transition: opacity 0.3s;
        }

        .lightbox-close:hover {
            opacity: 0.7;
        }

        /* FOOTER */
        footer {
            background: var(--white);
            border-top: 1px solid var(--border);
            padding: 60px 0 30px;
            margin-top: 150px;
        }

        .footer-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 80px;
            text-align: center;
        }

        .footer-logo img {
            height: 55px;
            opacity: 0.6;
            margin-bottom: 25px;
        }

        .footer-text {
            font-size: 14px;
            color: var(--secondary);
            letter-spacing: 2px;
            margin-bottom: 25px;
        }

        .footer-copyright {
            font-size: 12px;
            color: var(--secondary);
            letter-spacing: 1px;
            padding-top: 25px;
            border-top: 1px solid var(--border);
        }

        .footer-social {
            margin: 40px 0;
        }

        .footer-social-title {
            font-size: 16px;
            font-weight: 400;
            letter-spacing: 3px;
            color: var(--primary);
            margin-bottom: 25px;
            text-transform: uppercase;
        }

        .footer-social-icons {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .footer-social-link {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px 24px;
            background: var(--bg);
            border: 1px solid var(--border);
            border-radius: 50px;
            color: var(--primary);
            transition: all 0.3s ease;
            font-size: 14px;
            font-weight: 500;
        }

        .footer-social-link:hover {
            background: var(--primary);
            color: var(--white);
            border-color: var(--primary);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        body.dark-mode .footer-social-link:hover {
            background: var(--white);
            color: var(--primary);
            border-color: var(--white);
        }

        .footer-social-link svg {
            flex-shrink: 0;
        }

        .admin-link {
            color: var(--secondary);
            text-decoration: none;
            transition: color 0.3s;
            cursor: pointer;
        }

        .admin-link:hover {
            color: var(--accent);
            text-decoration: underline;
        }

        /* INSTAGRAM FEED */
        .instagram-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .instagram-post {
            position: relative;
            aspect-ratio: 1;
            overflow: hidden;
            border-radius: 8px;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .instagram-post:hover {
            transform: scale(1.05);
        }

        .instagram-post img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .instagram-overlay {
            position: absolute;
            inset: 0;
            background: rgba(0,0,0,0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            opacity: 0;
            transition: opacity 0.3s;
            color: white;
            font-size: 14px;
        }

        .instagram-post:hover .instagram-overlay {
            opacity: 1;
        }

        .instagram-placeholder {
            grid-column: 1 / -1;
            text-align: center;
            padding: 60px 20px;
            color: var(--secondary);
            font-size: 16px;
        }

        .instagram-follow {
            display: inline-flex;
            align-items: center;
            padding: 15px 35px;
            background: linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%);
            color: white;
            border-radius: 50px;
            font-weight: 500;
            transition: all 0.3s;
            text-decoration: none;
        }

        .instagram-follow:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(188, 24, 136, 0.3);
        }

        /* VIDEO GALLERY */
        .video-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 30px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .video-item {
            position: relative;
            aspect-ratio: 16/9;
            overflow: hidden;
            border-radius: 12px;
            cursor: pointer;
            background: var(--bg);
            transition: transform 0.3s;
        }

        .video-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px var(--shadow);
        }

        .video-thumbnail {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .video-play-btn {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 70px;
            height: 70px;
            background: rgba(255,255,255,0.95);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            color: var(--accent);
            transition: all 0.3s;
        }

        .video-item:hover .video-play-btn {
            transform: translate(-50%, -50%) scale(1.1);
            background: white;
        }

        .video-title {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 20px;
            background: linear-gradient(transparent, rgba(0,0,0,0.8));
            color: white;
            font-size: 15px;
            font-weight: 500;
        }

        /* VIDEO LIGHTBOX */
        .video-lightbox {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.95);
            z-index: 10000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .video-lightbox.active {
            display: flex;
        }

        .video-lightbox-content {
            max-width: 1200px;
            width: 100%;
            aspect-ratio: 16/9;
            position: relative;
        }

        .video-lightbox iframe {
            width: 100%;
            height: 100%;
            border: none;
            border-radius: 8px;
        }

        .video-lightbox-close {
            position: absolute;
            top: -50px;
            right: 0;
            background: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            font-size: 24px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.3s;
        }

        .video-lightbox-close:hover {
            transform: rotate(90deg);
        }

        /* GOOGLE MAPS */
        #map {
            filter: grayscale(20%);
            transition: filter 0.3s;
        }

        #map:hover {
            filter: grayscale(0%);
        }

        /* MOBILE */
        @media (max-width: 768px) {
            /* UNIFIED CHAT - MOBILE */
            .unified-chat-btn {
                bottom: 20px;
                right: 20px;
                width: 60px;
                height: 60px;
                z-index: 1001;
            }
            
            .chat-menu {
                bottom: 85px;
                right: 10px;
                left: 10px;
                min-width: auto;
                width: calc(100% - 20px);
                max-width: 350px;
                margin-left: auto;
                z-index: 1002;
            }
            
            .chat-menu-item {
                padding: 16px;
            }
            
            .chat-menu-subtitle {
                font-size: 11px;
            }
            
            /* AI CHAT - MOBILE */
            .ai-chat-window {
                bottom: 0;
                right: 0;
                left: 0;
                width: 100%;
                height: 100%;
                border-radius: 0;
                max-height: 100vh;
            }
            
            .ai-chat-messages {
                padding: 15px;
            }
            
            .ai-message-content {
                max-width: 80%;
            }
            
            /* WHATSAPP - MOBILE */
            .header-content { padding: 0 25px; }
            
            .menu-toggle {
                display: block;
            }
            
            nav {
                display: none;
                position: fixed;
                top: 85px;
                left: 0;
                right: 0;
                background: var(--white);
                flex-direction: column;
                padding: 20px;
                gap: 20px;
                border-bottom: 1px solid var(--border);
                box-shadow: 0 4px 10px var(--shadow);
            }
            
            nav.mobile-open {
                display: flex;
            }
            
            .logo-text { font-size: 18px; letter-spacing: 3px; }
            .hero { height: 50vh; }
            .hero-title { font-size: 36px; letter-spacing: 5px; }
            .hero-subtitle { font-size: 13px; }
            .hero-nav { width: 35px; height: 35px; font-size: 14px; }
            .hero-nav.prev { left: 10px; }
            .hero-nav.next { right: 10px; }
            section { padding: 0 25px; margin: 60px auto; }
            .section-title { font-size: 28px; }
            .projects-grid { 
                grid-template-columns: 1fr; 
                gap: 30px; 
            }
            .about-content { grid-template-columns: 1fr; gap: 35px; }
            .team-grid { grid-template-columns: 1fr; gap: 30px; }
            .whatsapp-form { padding: 30px 25px; }
            .whatsapp-btn {
                width: 45px;
                height: 45px;
                bottom: 20px;
                right: 20px;
            }
            .whatsapp-btn svg {
                width: 24px;
                height: 24px;
            }
            .whatsapp-notification {
                max-width: 200px;
                font-size: 10px;
            }
        }

        @media (max-width: 1400px) {
            .projects-grid { grid-template-columns: repeat(2, 1fr); }
        }

        @media (min-width: 769px) and (max-width: 1024px) {
            .projects-grid { grid-template-columns: repeat(2, 1fr); gap: 35px; }
        }

        html { scroll-behavior: smooth; }
        
        /* LOADING INDICATOR */
        .loading {
            pointer-events: none;
            opacity: 0.6;
            position: relative;
        }
        
        .loading::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 40px;
            height: 40px;
            border: 3px solid var(--border);
            border-top-color: var(--accent);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            to { transform: translate(-50%, -50%) rotate(360deg); }
        }
        
        /* SCROLL TO TOP */
        .scroll-top {
            position: fixed;
            bottom: 90px;
            right: 25px;
            width: 45px;
            height: 45px;
            background: var(--accent);
            color: var(--white);
            border: none;
            border-radius: 50%;
            cursor: pointer;
            opacity: 0;
            transform: translateY(100px);
            transition: all 0.3s;
            z-index: 998;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }
        
        .scroll-top.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        .scroll-top:hover {
            background: var(--primary);
            transform: translateY(-5px);
        }
        /* ========================================
           GELÄ°ÅžMÄ°Åž MOBÄ°L RESPONSIVE Ä°YÄ°LEÅžTÄ°RMELER
           ======================================== */
        
        @media (max-width: 768px) {
            nav {
                padding: 15px 20px !important;
                flex-wrap: wrap;
            }
            
            nav h1 {
                font-size: 20px !important;
            }
            
            .nav-menu {
                width: 100%;
                justify-content: center;
                gap: 10px !important;
                margin-top: 10px;
            }
            
            .hero {
                min-height: 60vh !important;
                padding: 80px 20px 40px !important;
            }
            
            .hero h1 {
                font-size: 32px !important;
                line-height: 1.2 !important;
            }
            
            .hero p {
                font-size: 16px !important;
            }
            
            .projects-grid {
                grid-template-columns: 1fr !important;
                gap: 20px !important;
                padding: 20px !important;
            }
            
            .project-card {
                height: auto !important;
            }
            
            .project-card img {
                height: 250px !important;
            }
            
            .team-grid {
                grid-template-columns: 1fr !important;
                gap: 20px !important;
            }
            
            footer {
                padding: 40px 20px !important;
            }
            
            .footer-content {
                flex-direction: column !important;
                text-align: center !important;
                gap: 30px !important;
            }
            
            .btn, .cta-btn, .convert-btn {
                width: 100% !important;
                padding: 14px 20px !important;
                font-size: 15px !important;
            }
            
            .dwg-tools-container {
                width: 95% !important;
                max-height: 90vh !important;
                padding: 20px !important;
                overflow-y: auto;
            }
            
            .dwg-tools-tabs {
                flex-direction: column !important;
                gap: 8px;
            }
            
            .dwg-tab {
                width: 100% !important;
                justify-content: center !important;
                padding: 12px !important;
            }
            
            .format-options, .version-options {
                grid-template-columns: 1fr !important;
            }
            
            .ai-panel-header {
                padding: 15px !important;
            }
            
            .ai-panel-title h2 {
                font-size: 18px !important;
            }
            
            .ai-panel-quick-questions {
                padding: 10px !important;
                grid-template-columns: 1fr 1fr !important;
                gap: 8px !important;
            }
            
            .ai-panel-quick-btn {
                font-size: 11px !important;
                padding: 8px !important;
            }
            
            .stats-grid {
                grid-template-columns: 1fr !important;
                gap: 15px !important;
            }
            
            .contact-card {
                padding: 20px !important;
            }
            
            html {
                scroll-behavior: smooth;
            }
            
            button, a, .clickable {
                min-height: 44px;
                min-width: 44px;
            }
            
            h1 { font-size: 28px !important; }
            h2 { font-size: 24px !important; }
            h3 { font-size: 20px !important; }
            h4 { font-size: 18px !important; }
            p { font-size: 15px !important; line-height: 1.6 !important; }
        }
        
        @media (min-width: 769px) and (max-width: 1024px) {
            .projects-grid {
                grid-template-columns: repeat(2, 1fr) !important;
            }
            
            .team-grid {
                grid-template-columns: repeat(2, 1fr) !important;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr) !important;
            }
        }
        
        @media (max-width: 768px) and (orientation: landscape) {
            .hero {
                min-height: 100vh !important;
            }
            
            .ai-assistant-panel {
                width: 400px !important;
            }
        }
        
        @media (max-width: 375px) {
            .hero h1 {
                font-size: 26px !important;
            }
            
            nav h1 {
                font-size: 18px !important;
            }
            
            .project-card img {
                height: 200px !important;
            }
        }
        
        * {
            -webkit-tap-highlight-color: transparent;
        }
        
        img {
            image-rendering: -webkit-optimize-contrast;
        }
        
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
    </style>
    <!-- Social Media Meta Tags -->
    <meta property="og:image" content="https://ceeservis.com/images/cee-og-image.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://ceeservis.com/images/cee-og-image.jpg">
    <link rel="sitemap" type="application/xml" href="/sitemap.xml">
        <!-- PWA Meta Tags (Lighthouse Optimized) -->
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#667eea">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="CEE MimarlÄ±k">
    <link rel="apple-touch-icon" href="/icon-192.png">
    <meta name="mobile-web-app-capable" content="yes">
    </head>
<body>

<script>
// Mobil menÃ¼ fonksiyonlarÄ± - Global scope
function closeMobileMenu() {
    const nav = document.getElementById('mainNav');
    const toggle = document.getElementById('menuToggle');
    if (nav && toggle) {
        nav.classList.remove('mobile-open');
        toggle.textContent = 'â˜°';
    }
}

function toggleMobileMenu() {
    const nav = document.getElementById('mainNav');
    const toggle = document.getElementById('menuToggle');
    if (nav && toggle) {
        nav.classList.toggle('mobile-open');
        toggle.textContent = nav.classList.contains('mobile-open') ? 'âœ•' : 'â˜°';
    }
}

// Global eriÅŸim
window.closeMobileMenu = closeMobileMenu;
window.toggleMobileMenu = toggleMobileMenu;
</script>



<div style="background: white; padding: 20px 0; text-align: center; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
    <img id="siteLogo" src="" alt="CEE MimarlÄ±k" style="max-height: 80px; display: none;">
    <h1 id="siteTitle" style="font-size: 32px; color: #d4af37; font-weight: 700; margin: 0;">CEE MÄ°MARLIK</h1>
</div>



<!-- HEADER -->
<header role="banner">
    <div class="header-content">
        <div class="logo-container">
            <img src="" alt="CEE MimarlÄ±k Logo" class="site-logo" id="headerLogo" style="display: none;">
            <div class="logo-text" aria-label="CEE MimarlÄ±k">CEE</div>
        </div>
        <button class="menu-toggle" onclick="toggleMobileMenu()" id="menuToggle" aria-label="MenÃ¼">â˜°</button>
        
        <!-- LOGO -->
        <div class="site-logo" style="text-align: center; padding: 20px 0;">
            <img id="headerLogo" src="" alt="CEE MimarlÄ±k" style="max-height: 80px; display: none;">
            <h1 id="headerTitle" style="font-size: 28px; color: var(--accent); font-weight: 700;">CEE MÄ°MARLIK</h1>
        </div>
<nav role="navigation" aria-label="Ana navigasyon" id="mainNav">
            <a href="#anasayfa" class="active" aria-current="page" onclick="closeMobileMenu()">Anasayfa</a>
            <a href="#projeler" onclick="closeMobileMenu()">Projeler</a>
            <a href="#hakkimizda" onclick="closeMobileMenu()">HakkÄ±mÄ±zda</a>
            <a href="#hizmetler" onclick="closeMobileMenu()">Hizmetler</a>
            <a href="#referanslar" onclick="closeMobileMenu()">Referanslar</a>
            <a href="#sss" onclick="closeMobileMenu()">SSS</a>
            
            <!-- E-HÄ°ZMETLER DROPDOWN -->
            <div class="nav-dropdown" style="display: inline-block; position: relative;">
                <a href="javascript:void(0)" onclick="toggleEHizmetler(event); return false;" style="color: #10b981;">
                    ðŸ›’ E-Hizmetler
                </a>
                <div class="ehizmetler-menu" id="ehizmetlerMenu" style="display: none; position: absolute; top: 100%; left: 0; background: white; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); min-width: 200px; z-index: 10001; margin-top: 10px;">
                    <a href="javascript:void(0)" onclick="openExternalServiceWithWarning('https://cbs.corlu.bel.tr/GiSoftGis/#/cityguidepublic', 'CBS Ã‡orlu Kent Rehberi', 'Ã‡orlu Belediyesi')" style="display: block; padding: 12px 20px; color: #333; text-decoration: none; border-bottom: 1px solid #eee;">ðŸ“ CBS Ã‡orlu</a>
                    <a href="javascript:void(0)" onclick="openExternalServiceWithWarning('https://keos.ergene.bel.tr/keos/', 'KEOS Ergene Sistemi', 'Ergene Belediyesi')" style="display: block; padding: 12px 20px; color: #333; text-decoration: none; border-bottom: 1px solid #eee;">ðŸ“ KEOS Ergene</a>
                    <a href="javascript:void(0)" onclick="openExternalServiceWithWarning('https://parselsorgu.tkgm.gov.tr/', 'TKGM Parsel Sorgu', 'Tapu ve Kadastro Genel MÃ¼dÃ¼rlÃ¼ÄŸÃ¼')" style="display: block; padding: 12px 20px; color: #333; text-decoration: none;">ðŸ“ Parsel Sorgu</a>
                </div>
            </div>
            
            <a href="#iletisim" onclick="closeMobileMenu()">Ä°letiÅŸim</a>
        </nav>
        <div class="header-actions">
            <div class="social-icons">
                <a href="https://instagram.com/cee_mimarlik" target="_blank" aria-label="Instagram" class="social-link">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
                    </svg>
                </a>
                <a href="https://twitter.com/cee_mimarlik" target="_blank" aria-label="X (Twitter)" class="social-link">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                    </svg>
                </a>
            </div>
            <button class="btn-minimal" onclick="toggleLanguage()" id="langBtn" aria-label="Dil deÄŸiÅŸtir">EN</button>
            <button class="btn-minimal" onclick="toggleDarkMode()" id="themeBtn" aria-label="Tema deÄŸiÅŸtir">ðŸŒ™</button>
        </div>
    </div>
</header>

<!-- HERO SLIDER -->
<section class="hero" id="anasayfa">
    <div id="heroSlider"></div>
    
    <button class="hero-nav prev" onclick="changeSlide(-1)">â€¹</button>
    <button class="hero-nav next" onclick="changeSlide(1)">â€º</button>
    
    <div class="hero-progress" id="heroProgress"></div>
    <div class="hero-indicators" id="heroIndicators"></div>
</section>

<!-- PROJECTS -->
<section id="projeler">
    <div class="section-header">
        <h2 class="section-title" data-tr="Projelerimiz" data-en="Our Projects">Projelerimiz</h2>
    </div>

    <div class="filter-container">
        <button class="filter-btn active" data-filter="all" data-tr="TÃ¼mÃ¼" data-en="All">TÃ¼mÃ¼</button>
        <button class="filter-btn" data-filter="villa">Villa</button>
        <button class="filter-btn" data-filter="apartman" data-tr="Apartman" data-en="Apartment">Apartman</button>
        <button class="filter-btn" data-filter="ofis" data-tr="Ofis" data-en="Office">Ofis</button>
        <button class="filter-btn" data-filter="ticari" data-tr="Ticari" data-en="Commercial">Ticari</button>
        <button class="filter-btn" data-filter="konut" data-tr="Konut" data-en="Residential">Konut</button>
    </div>

    <div class="projects-grid" id="projectsGrid"></div>
</section>

<!-- ABOUT -->
<section id="hakkimizda">
    <div class="section-header">
        <div class="section-label" data-tr="HAKKIMIZDA" data-en="ABOUT US">HAKKIMIZDA</div>
        <h2 class="section-title" data-tr="Biz Kimiz" data-en="Who We Are">Biz Kimiz</h2>
    </div>

    <div class="about-content">
        <div class="about-text">
            <h2 data-tr="CEE MimarlÄ±k" data-en="CEE Architecture">CEE MimarlÄ±k</h2>
            <p data-tr="Modern mimarlÄ±k anlayÄ±ÅŸÄ±yla, estetik ve fonksiyonelliÄŸi bir araya getiren projeler Ã¼retiyoruz. Her proje, mÃ¼ÅŸterilerimizin hayallerini gerÃ§eÄŸe dÃ¶nÃ¼ÅŸtÃ¼rmek iÃ§in Ã¶zenle tasarlanÄ±r." 
               data-en="With a modern architectural approach, we create projects that combine aesthetics and functionality. Each project is carefully designed to turn our clients' dreams into reality.">
                Modern mimarlÄ±k anlayÄ±ÅŸÄ±yla, estetik ve fonksiyonelliÄŸi bir araya getiren projeler Ã¼retiyoruz. Her proje, mÃ¼ÅŸterilerimizin hayallerini gerÃ§eÄŸe dÃ¶nÃ¼ÅŸtÃ¼rmek iÃ§in Ã¶zenle tasarlanÄ±r.
            </p>
            <p data-tr="Deneyimli ekibimiz, villa, apartman, ofis ve ticari yapÄ±lar konusunda uzmanlaÅŸmÄ±ÅŸ olup, her detayda mÃ¼kemmelliÄŸi hedefler." 
               data-en="Our experienced team specializes in villas, apartments, offices and commercial buildings, aiming for perfection in every detail.">
                Deneyimli ekibimiz, villa, apartman, ofis ve ticari yapÄ±lar konusunda uzmanlaÅŸmÄ±ÅŸ olup, her detayda mÃ¼kemmelliÄŸi hedefler.
            </p>
        </div>
        <div class="about-text">
            <h2 data-tr="Vizyonumuz" data-en="Our Vision">Vizyonumuz</h2>
            <p data-tr="SÃ¼rdÃ¼rÃ¼lebilir ve Ã§evre dostu mimari Ã§Ã¶zÃ¼mlerle, yaÅŸam kalitesini artÄ±ran mekanlar yaratmak. Gelecek nesillere daha gÃ¼zel bir dÃ¼nya bÄ±rakmak iÃ§in Ã§alÄ±ÅŸÄ±yoruz." 
               data-en="Creating spaces that enhance quality of life with sustainable and environmentally friendly architectural solutions. We work to leave a better world for future generations.">
                SÃ¼rdÃ¼rÃ¼lebilir ve Ã§evre dostu mimari Ã§Ã¶zÃ¼mlerle, yaÅŸam kalitesini artÄ±ran mekanlar yaratmak. Gelecek nesillere daha gÃ¼zel bir dÃ¼nya bÄ±rakmak iÃ§in Ã§alÄ±ÅŸÄ±yoruz.
            </p>
            <p data-tr="Ä°novasyon ve geleneksel deÄŸerleri harmanlayarak, Ã¶zgÃ¼n ve zamansÄ±z tasarÄ±mlar sunuyoruz." 
               data-en="We offer original and timeless designs by blending innovation and traditional values.">
                Ä°novasyon ve geleneksel deÄŸerleri harmanlayarak, Ã¶zgÃ¼n ve zamansÄ±z tasarÄ±mlar sunuyoruz.
            </p>
        </div>
    </div>
    
    <!-- UZMAN KADRO BUTTON -->
    <div style="text-align: center; margin-top: 60px;">
        <a href="#hakkimizda" class="btn-primary" style="display: inline-flex; align-items: center; gap: 10px; padding: 16px 40px; font-size: 16px; text-decoration: none;">
            <span data-tr="ðŸ‘¥ Uzman Kadromuzu TanÄ±yÄ±n" data-en="ðŸ‘¥ Meet Our Expert Team">ðŸ‘¥ Uzman Kadromuzu TanÄ±yÄ±n</span>
            <span>â†’</span>
        </a>
    </div>
</section>

<!-- CONTACT -->
<!-- INSTAGRAM FEED -->
<section id="instagram">
    <div class="section-header">
        <div class="section-label" data-tr="SOSYAL MEDYA" data-en="SOCIAL MEDIA">SOSYAL MEDYA</div>
        <h2 class="section-title" data-tr="Instagram'dan" data-en="From Instagram">Instagram'dan</h2>
    </div>
    <p style="text-align: center; color: var(--secondary); font-size: 16px; letter-spacing: 2px; margin-bottom: 50px;" 
       data-tr="GÃ¼ncel projelerimizi takip edin" data-en="Follow our latest projects">
        GÃ¼ncel projelerimizi takip edin
    </p>
    <div class="instagram-grid" id="instagramGrid"></div>
    <div style="text-align: center; margin-top: 50px;">
        <a href="https://instagram.com/cee_mimarlik" target="_blank" class="btn-primary instagram-follow">
            <span data-tr="Instagram'da Takip Et" data-en="Follow on Instagram">Instagram'da Takip Et</span>
            <span style="margin-left: 8px;">â†’</span>
        </a>
    </div>
</section>

<!-- VIDEO GALLERY -->
<section id="videos">
    <div class="section-header">
        <div class="section-label" data-tr="VÄ°DEOLAR" data-en="VIDEOS">VÄ°DEOLAR</div>
        <h2 class="section-title" data-tr="Video Galeri" data-en="Video Gallery">Video Galeri</h2>
    </div>
    <p style="text-align: center; color: var(--secondary); font-size: 16px; letter-spacing: 2px; margin-bottom: 50px;" 
       data-tr="Projelerimizi videolarla keÅŸfedin" data-en="Explore our projects through videos">
        Projelerimizi videolarla keÅŸfedin
    </p>
    <div class="video-grid" id="videoGrid"></div>
</section>

<!-- GOOGLE MAPS -->
<section id="location" style="padding: 0; margin: 80px 0;">
    <div style="max-width: 100%; margin: 0;">
        <div style="padding: 0 60px; margin-bottom: 40px; text-align: center;">
            <div class="section-label" data-tr="KONUM" data-en="LOCATION">KONUM</div>
            <h2 class="section-title" data-tr="Ofis Konumumuz" data-en="Our Office Location">Ofis Konumumuz</h2>
        </div>
        <iframe src="https://www.google.com/maps/embed?pb=!1m17!1m12!1m3!1d1504.63!2d27.7831933!3d41.1570005!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f15!3m2!1m1!2zNDHCsDA5JzI1LjIiTiAyN8KwNDYnNTkuNSJF!5e0!3m2!1str!2str!4v1" width="100%" height="450" style="border:0; border-radius: 15px;" allowfullscreen="" loading="lazy"></iframe>
        <div style="text-align: center; padding: 40px 60px; background: var(--bg);">
            <p style="font-size: 16px; color: var(--secondary); margin-bottom: 10px;">
                <strong data-tr="Adres:" data-en="Address:">Adres:</strong>
                <span id="officeAddress">Hatip, Ali Osman Ã‡elebi Blv. No:52 A Blok Kat 1 No:3, 59860 Ã‡orlu/TekirdaÄŸ</span>
            </p>
            <p style="font-size: 14px; color: var(--secondary);">
                <strong data-tr="Telefon:" data-en="Phone:">Telefon:</strong>
                <span id="officePhone">+90 282 651 55 66</span>
            </p>
        </div>
    </div>
</section>

<!-- HÄ°ZMETLERÄ°MÄ°Z SECTION -->
<section id="hizmetler" style="padding: 100px 0; background: var(--bg);">
    <div class="section-header">
        <div class="section-label">HÄ°ZMETLERÄ°MÄ°Z</div>
        <h2 class="section-title">SunduÄŸumuz Hizmetler</h2>
    </div>
    
    <div class="services-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; max-width: 1400px; margin: 0 auto; padding: 0 40px;">
        <div class="service-card" style="background: white; padding: 40px 30px; border-radius: 8px; text-align: center; transition: all 0.3s; cursor: pointer; box-shadow: 0 2px 10px rgba(0,0,0,0.05);">
            <div style="font-size: 48px; margin-bottom: 20px;">ðŸ </div>
            <h3 style="font-size: 20px; margin-bottom: 15px; color: var(--accent);">Mimari Proje</h3>
            <p style="color: var(--secondary); line-height: 1.7; font-size: 14px;">
                Konut, villa, apartman ve ticari yapÄ±lar iÃ§in profesyonel mimari proje hizmeti. 3D gÃ¶rselleÅŸtirme ve detaylÄ± Ã§izimler.
            </p>
        </div>
        
        <div class="service-card" style="background: white; padding: 40px 30px; border-radius: 8px; text-align: center; transition: all 0.3s; cursor: pointer; box-shadow: 0 2px 10px rgba(0,0,0,0.05);">
            <div style="font-size: 48px; margin-bottom: 20px;">ðŸ“‹</div>
            <h3 style="font-size: 20px; margin-bottom: 15px; color: var(--accent);">Ruhsat Ä°ÅŸlemleri</h3>
            <p style="color: var(--secondary); line-height: 1.7; font-size: 14px;">
                Ä°nÅŸaat ruhsatÄ±, yapÄ± kullanma izni ve tÃ¼m belediye izin sÃ¼reÃ§lerinin takibi ve tamamlanmasÄ±.
            </p>
        </div>
        
        <div class="service-card" style="background: white; padding: 40px 30px; border-radius: 8px; text-align: center; transition: all 0.3s; cursor: pointer; box-shadow: 0 2px 10px rgba(0,0,0,0.05);">
            <div style="font-size: 48px; margin-bottom: 20px;">ðŸ›‹ï¸</div>
            <h3 style="font-size: 20px; margin-bottom: 15px; color: var(--accent);">Ä°Ã§ MimarlÄ±k</h3>
            <p style="color: var(--secondary); line-height: 1.7; font-size: 14px;">
                YaÅŸam alanlarÄ±nÄ±z iÃ§in Ã¶zel iÃ§ mekan tasarÄ±mÄ±, mobilya seÃ§imi ve dekorasyon danÄ±ÅŸmanlÄ±ÄŸÄ±.
            </p>
        </div>
        
        <div class="service-card" style="background: white; padding: 40px 30px; border-radius: 8px; text-align: center; transition: all 0.3s; cursor: pointer; box-shadow: 0 2px 10px rgba(0,0,0,0.05);">
            <div style="font-size: 48px; margin-bottom: 20px;">ðŸ“</div>
            <h3 style="font-size: 20px; margin-bottom: 15px; color: var(--accent);">Statik Proje</h3>
            <p style="color: var(--secondary); line-height: 1.7; font-size: 14px;">
                Deprem yÃ¶netmeliÄŸine uygun statik hesaplamalar ve taÅŸÄ±yÄ±cÄ± sistem projeleri.
            </p>
        </div>
        
        <div class="service-card" style="background: white; padding: 40px 30px; border-radius: 8px; text-align: center; transition: all 0.3s; cursor: pointer; box-shadow: 0 2px 10px rgba(0,0,0,0.05);">
            <div style="font-size: 48px; margin-bottom: 20px;">ðŸ—ï¸</div>
            <h3 style="font-size: 20px; margin-bottom: 15px; color: var(--accent);">Åžantiye YÃ¶netimi</h3>
            <p style="color: var(--secondary); line-height: 1.7; font-size: 14px;">
                Ä°nÅŸaat sÃ¼recinin tamamÄ±nda profesyonel danÄ±ÅŸmanlÄ±k ve ÅŸantiye koordinasyonu.
            </p>
        </div>
        
        <div class="service-card" style="background: white; padding: 40px 30px; border-radius: 8px; text-align: center; transition: all 0.3s; cursor: pointer; box-shadow: 0 2px 10px rgba(0,0,0,0.05);">
            <div style="font-size: 48px; margin-bottom: 20px;">ðŸŽ¨</div>
            <h3 style="font-size: 20px; margin-bottom: 15px; color: var(--accent);">3D GÃ¶rselleÅŸtirme</h3>
            <p style="color: var(--secondary); line-height: 1.7; font-size: 14px;">
                Projenizi gerÃ§eÄŸe en yakÄ±n ÅŸekilde gÃ¶rmenizi saÄŸlayan fotorealistik 3D render hizmeti.
            </p>
        </div>
    </div>
</section>

<!-- REFERANSLAR SECTION -->
<section id="referanslar" style="padding: 100px 0; background: white;">
    <div class="section-header">
        <div class="section-label">REFERANSLARIMIZ</div>
        <h2 class="section-title">Ã‡alÄ±ÅŸtÄ±ÄŸÄ±mÄ±z Kurumlar</h2>
    </div>
    
    <div class="references-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 40px; max-width: 1200px; margin: 0 auto; padding: 0 40px;">
        <div class="reference-item" style="text-align: center; padding: 30px; border: 1px solid #e0e0e0; border-radius: 8px; transition: all 0.3s;">
            <div style="font-size: 60px; margin-bottom: 15px;">ðŸ›ï¸</div>
            <h4 style="font-size: 16px; color: var(--primary); font-weight: 600;">Ã‡orlu Belediyesi</h4>
        </div>
        <div class="reference-item" style="text-align: center; padding: 30px; border: 1px solid #e0e0e0; border-radius: 8px; transition: all 0.3s;">
            <div style="font-size: 60px; margin-bottom: 15px;">ðŸ¢</div>
            <h4 style="font-size: 16px; color: var(--primary); font-weight: 600;">Ã–zel Projeler</h4>
        </div>
        <div class="reference-item" style="text-align: center; padding: 30px; border: 1px solid #e0e0e0; border-radius: 8px; transition: all 0.3s;">
            <div style="font-size: 60px; margin-bottom: 15px;">ðŸ˜ï¸</div>
            <h4 style="font-size: 16px; color: var(--primary); font-weight: 600;">Konut Projeleri</h4>
        </div>
        <div class="reference-item" style="text-align: center; padding: 30px; border: 1px solid #e0e0e0; border-radius: 8px; transition: all 0.3s;">
            <div style="font-size: 60px; margin-bottom: 15px;">ðŸ¬</div>
            <h4 style="font-size: 16px; color: var(--primary); font-weight: 600;">Ticari YapÄ±lar</h4>
        </div>
    </div>
</section>

<!-- SSS (FAQ) SECTION -->
<section id="sss" style="padding: 100px 0; background: var(--bg);">
    <div class="section-header">
        <div class="section-label">SIK SORULAN SORULAR</div>
        <h2 class="section-title">Merak Edilenler</h2>
    </div>
    
    <div class="faq-container" style="max-width: 900px; margin: 0 auto; padding: 0 40px;">
        <div class="faq-item" style="background: white; padding: 25px 30px; margin-bottom: 15px; border-radius: 8px; cursor: pointer; transition: all 0.3s;" onclick="toggleFaq(this)">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <h3 style="font-size: 16px; font-weight: 600; color: var(--primary); margin: 0;">Mimari proje sÃ¼resi ne kadar?</h3>
                <span style="font-size: 24px; color: var(--accent); transition: all 0.3s;">+</span>
            </div>
            <div class="faq-answer" style="max-height: 0; overflow: hidden; transition: all 0.3s;">
                <p style="margin-top: 15px; padding-top: 15px; border-top: 1px solid #e0e0e0; color: var(--secondary); line-height: 1.7;">
                    Proje bÃ¼yÃ¼klÃ¼ÄŸÃ¼ne gÃ¶re deÄŸiÅŸmekle birlikte, ortalama bir konut projesi iÃ§in 3-4 hafta sÃ¼rmektedir. Villa projeleri 4-6 hafta, ticari projeler ise 6-8 hafta arasÄ±nda tamamlanÄ±r.
                </p>
            </div>
        </div>
        
        <div class="faq-item" style="background: white; padding: 25px 30px; margin-bottom: 15px; border-radius: 8px; cursor: pointer; transition: all 0.3s;" onclick="toggleFaq(this)">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <h3 style="font-size: 16px; font-weight: 600; color: var(--primary); margin: 0;">Proje Ã¼creti nasÄ±l hesaplanÄ±r?</h3>
                <span style="font-size: 24px; color: var(--accent); transition: all 0.3s;">+</span>
            </div>
            <div class="faq-answer" style="max-height: 0; overflow: hidden; transition: all 0.3s;">
                <p style="margin-top: 15px; padding-top: 15px; border-top: 1px solid #e0e0e0; color: var(--secondary); line-height: 1.7;">
                    Proje Ã¼creti; inÅŸaat alanÄ±, proje tÃ¼rÃ¼, detay seviyesi ve ek hizmetlere gÃ¶re belirlenir. DetaylÄ± fiyat teklifi iÃ§in bizimle iletiÅŸime geÃ§ebilirsiniz.
                </p>
            </div>
        </div>
        
        <div class="faq-item" style="background: white; padding: 25px 30px; margin-bottom: 15px; border-radius: 8px; cursor: pointer; transition: all 0.3s;" onclick="toggleFaq(this)">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <h3 style="font-size: 16px; font-weight: 600; color: var(--primary); margin: 0;">Ruhsat iÅŸlemleri dahil mi?</h3>
                <span style="font-size: 24px; color: var(--accent); transition: all 0.3s;">+</span>
            </div>
            <div class="faq-answer" style="max-height: 0; overflow: hidden; transition: all 0.3s;">
                <p style="margin-top: 15px; padding-top: 15px; border-top: 1px solid #e0e0e0; color: var(--secondary); line-height: 1.7;">
                    Ruhsat iÅŸlemleri ayrÄ± bir hizmet olup, talep edilmesi halinde tÃ¼m belediye iÅŸlemlerini sizin adÄ±nÄ±za takip ediyoruz. Ruhsat sÃ¼reci ortalama 2-4 ay sÃ¼rmektedir.
                </p>
            </div>
        </div>
        
        <div class="faq-item" style="background: white; padding: 25px 30px; margin-bottom: 15px; border-radius: 8px; cursor: pointer; transition: all 0.3s;" onclick="toggleFaq(this)">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <h3 style="font-size: 16px; font-weight: 600; color: var(--primary); margin: 0;">3D gÃ¶rselleÅŸtirme yapÄ±yor musunuz?</h3>
                <span style="font-size: 24px; color: var(--accent); transition: all 0.3s;">+</span>
            </div>
            <div class="faq-answer" style="max-height: 0; overflow: hidden; transition: all 0.3s;">
                <p style="margin-top: 15px; padding-top: 15px; border-top: 1px solid #e0e0e0; color: var(--secondary); line-height: 1.7;">
                    Evet, fotorealistik 3D render ve animasyon hizmetleri sunuyoruz. Projenizi inÅŸa etmeden Ã¶nce gerÃ§eÄŸe en yakÄ±n ÅŸekilde gÃ¶rebilirsiniz.
                </p>
            </div>
        </div>
        
        <div class="faq-item" style="background: white; padding: 25px 30px; margin-bottom: 15px; border-radius: 8px; cursor: pointer; transition: all 0.3s;" onclick="toggleFaq(this)">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <h3 style="font-size: 16px; font-weight: 600; color: var(--primary); margin: 0;">Åžantiye takibi yapÄ±yor musunuz?</h3>
                <span style="font-size: 24px; color: var(--accent); transition: all 0.3s;">+</span>
            </div>
            <div class="faq-answer" style="max-height: 0; overflow: hidden; transition: all 0.3s;">
                <p style="margin-top: 15px; padding-top: 15px; border-top: 1px solid #e0e0e0; color: var(--secondary); line-height: 1.7;">
                    Evet, ÅŸantiye danÄ±ÅŸmanlÄ±ÄŸÄ± ve teknik koordinasyon hizmetleri veriyoruz. Ä°nÅŸaat sÃ¼recinde projeye uygunluÄŸu kontrol eder ve teknik destek saÄŸlarÄ±z.
                </p>
            </div>
        </div>
    </div>
</section>

<section id="iletisim">
    <div class="section-header">
        <div class="section-label" data-tr="Ä°LETÄ°ÅžÄ°M" data-en="CONTACT">Ä°LETÄ°ÅžÄ°M</div>
        <h2 class="section-title" data-tr="Bize UlaÅŸÄ±n" data-en="Get In Touch">Bize UlaÅŸÄ±n</h2>
    </div>
    
    <div style="max-width: 1200px; margin: 0 auto; padding: 0 40px;">
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 60px; margin-top: 60px;">
            
            <!-- Ä°LETÄ°ÅžÄ°M BÄ°LGÄ°LERÄ° -->
            <div>
                <h3 style="font-size: 24px; margin-bottom: 30px; color: var(--accent);">ðŸ“ Ä°letiÅŸim Bilgileri</h3>
                
                <div style="margin-bottom: 25px;">
                    <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 10px;">
                        <div style="width: 45px; height: 45px; background: linear-gradient(135deg, #d4af37, #f4d03f); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 20px;">ðŸ“ž</div>
                        <div>
                            <strong style="display: block; color: var(--primary);">Telefon</strong>
                            <a href="tel:+905373278765" style="color: var(--accent); text-decoration: none; font-size: 18px;">(0537) 327 87 65</a>
                        </div>
                    </div>
                </div>
                
                <div style="margin-bottom: 25px;">
                    <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 10px;">
                        <div style="width: 45px; height: 45px; background: linear-gradient(135deg, #d4af37, #f4d03f); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 20px;">âœ‰ï¸</div>
                        <div>
                            <strong style="display: block; color: var(--primary);">E-posta</strong>
                            <a href="/cdn-cgi/l/email-protection#21484f474e614244444c484c40534d484a0f424e4c" style="color: var(--accent); text-decoration: none;"><span class="__cf_email__" data-cfemail="81e8efe7eec1e2e4e4ece8ece0f3ede8eaafe2eeec">[email&#160;protected]</span></a>
                        </div>
                    </div>
                </div>
                
                <div style="margin-bottom: 25px;">
                    <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 10px;">
                        <div style="width: 45px; height: 45px; background: linear-gradient(135deg, #d4af37, #f4d03f); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 20px;">ðŸ“</div>
                        <div>
                            <strong style="display: block; color: var(--primary);">Adres</strong>
                            <span style="color: var(--secondary); line-height: 1.6;">Hatip, Ali Osman Ã‡elebi Blv. No:52<br>A Blok Kat 1 No:3<br>59860 Ã‡orlu/TekirdaÄŸ</span>
                        </div>
                    </div>
                </div>
                
                <div style="margin-bottom: 25px;">
                    <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 10px;">
                        <div style="width: 45px; height: 45px; background: linear-gradient(135deg, #d4af37, #f4d03f); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 20px;">ðŸ•</div>
                        <div>
                            <strong style="display: block; color: var(--primary);">Ã‡alÄ±ÅŸma Saatleri</strong>
                            <span style="color: var(--secondary); line-height: 1.6;">Pazartesi - Cuma: 09:00 - 18:00<br>Cumartesi - Pazar: KapalÄ±</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Ä°LETÄ°ÅžÄ°M FORMU -->
            <div>
                <h3 style="font-size: 24px; margin-bottom: 30px; color: var(--accent);">ðŸ’¬ Mesaj GÃ¶nderin</h3>
                
                <form id="contactForm" style="display: flex; flex-direction: column; gap: 20px;">
                    <div>
                        <input 
                            type="text" 
                            id="contactName" 
                            placeholder="AdÄ±nÄ±z SoyadÄ±nÄ±z *" 
                            required 
                            maxlength="50"
                            style="width: 100%; padding: 15px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 14px; transition: all 0.3s;"
                            onfocus="this.style.borderColor='#d4af37'"
                            onblur="this.style.borderColor='#e0e0e0'"
                        >
                    </div>
                    
                    <div>
                        <input 
                            type="email" 
                            id="contactEmail" 
                            placeholder="E-posta Adresiniz *" 
                            required 
                            maxlength="100"
                            style="width: 100%; padding: 15px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 14px; transition: all 0.3s;"
                            onfocus="this.style.borderColor='#d4af37'"
                            onblur="this.style.borderColor='#e0e0e0'"
                        >
                    </div>
                    
                    <div>
                        <input 
                            type="tel" 
                            id="contactPhone" 
                            placeholder="Telefon NumaranÄ±z" 
                            maxlength="20"
                            style="width: 100%; padding: 15px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 14px; transition: all 0.3s;"
                            onfocus="this.style.borderColor='#d4af37'"
                            onblur="this.style.borderColor='#e0e0e0'"
                        >
                    </div>
                    
                    <div>
                        <select 
                            id="contactSubject" 
                            style="width: 100%; padding: 15px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 14px; transition: all 0.3s;"
                            onfocus="this.style.borderColor='#d4af37'"
                            onblur="this.style.borderColor='#e0e0e0'"
                        >
                            <option value="">Konu SeÃ§in</option>
                            <option value="Mimari Proje">Mimari Proje</option>
                            <option value="Villa TasarÄ±mÄ±">Villa TasarÄ±mÄ±</option>
                            <option value="Apartman Projesi">Apartman Projesi</option>
                            <option value="Ticari YapÄ±">Ticari YapÄ±</option>
                            <option value="Ruhsat Ä°ÅŸlemleri">Ruhsat Ä°ÅŸlemleri</option>
                            <option value="3D GÃ¶rselleÅŸtirme">3D GÃ¶rselleÅŸtirme</option>
                            <option value="DiÄŸer">DiÄŸer</option>
                        </select>
                    </div>
                    
                    <div>
                        <textarea 
                            id="contactMessage" 
                            placeholder="MesajÄ±nÄ±z *" 
                            required 
                            rows="5" 
                            maxlength="1000"
                            style="width: 100%; padding: 15px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 14px; resize: vertical; transition: all 0.3s;"
                            onfocus="this.style.borderColor='#d4af37'"
                            onblur="this.style.borderColor='#e0e0e0'"
                        ></textarea>
                    </div>
                    
                    <div id="formStatus" style="display: none; padding: 12px; border-radius: 8px; text-align: center; font-weight: 600;"></div>
                    
                    <button 
                        type="submit" 
                        style="padding: 16px 40px; background: linear-gradient(135deg, #d4af37, #f4d03f); color: white; border: none; border-radius: 8px; font-size: 16px; font-weight: 600; cursor: pointer; transition: all 0.3s;"
                        onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 20px rgba(212,175,55,0.4)'"
                        onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'"
                    >
                        ðŸ“¤ Mesaj GÃ¶nder
                    </button>
                </form>
            </div>
        </div>
    </div>
</section>

<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
// Ä°LETÄ°ÅžÄ°M FORMU - EmailJS entegrasyonu
document.getElementById('contactForm').addEventListener('submit', async function(e) {
    e.preventDefault();
    
    const name = document.getElementById('contactName').value.trim();
    const email = document.getElementById('contactEmail').value.trim();
    const phone = document.getElementById('contactPhone').value.trim();
    const subject = document.getElementById('contactSubject').value;
    const message = document.getElementById('contactMessage').value.trim();
    const statusEl = document.getElementById('formStatus');
    const submitBtn = e.target.querySelector('button[type="submit"]');
    
    // Rate limiting kontrolÃ¼
    if (!RateLimiter.checkLimit('contact_form', 3, 300000)) { // 3 mesaj/5 dakika
        const wait = RateLimiter.getTimeUntilReset('contact_form', 300000);
        statusEl.textContent = `âš ï¸ Ã‡ok fazla mesaj gÃ¶nderdiniz. ${Math.ceil(wait/60)} dakika bekleyin.`;
        statusEl.style.background = '#ff5252';
        statusEl.style.color = 'white';
        statusEl.style.display = 'block';
        return;
    }
    
    // Validation
    if (!SecurityManager.validateEmail(email)) {
        statusEl.textContent = 'âš ï¸ GeÃ§erli bir e-posta adresi girin.';
        statusEl.style.background = '#ff5252';
        statusEl.style.color = 'white';
        statusEl.style.display = 'block';
        return;
    }
    
    if (!InputValidator.validateSafeText(message)) {
        statusEl.textContent = 'âš ï¸ Mesaj geÃ§ersiz karakterler iÃ§eriyor.';
        statusEl.style.background = '#ff5252';
        statusEl.style.color = 'white';
        statusEl.style.display = 'block';
        return;
    }
    
    // GÃ¼venlik - Sanitize
    const safeName = SecurityManager.sanitizeInput(name);
    const safeMessage = SecurityManager.sanitizeInput(message);
    
    // Disable button
    submitBtn.disabled = true;
    submitBtn.textContent = 'â³ GÃ¶nderiliyor...';
    
    // Analytics
    if (typeof trackEvent === 'function') {
        trackEvent('Form', 'contact_form_submit', subject || 'no_subject');
    }
    
    // DEMO: LocalStorage'a kaydet (GerÃ§ekte EmailJS veya backend API'ye gÃ¶nderilir)
    try {
        const formData = {
            name: safeName,
            email: email,
            phone: phone,
            subject: subject,
            message: safeMessage,
            timestamp: new Date().toISOString()
        };
        
        // Admin paneline mesaj kaydet
        let messages = JSON.parse(localStorage.getItem('contact_messages') || '[]');
        messages.push(formData);
        localStorage.setItem('contact_messages', JSON.stringify(messages));
        
        // Success
        statusEl.textContent = 'âœ… MesajÄ±nÄ±z baÅŸarÄ±yla gÃ¶nderildi! En kÄ±sa sÃ¼rede dÃ¶nÃ¼ÅŸ yapacaÄŸÄ±z.';
        statusEl.style.background = '#4CAF50';
        statusEl.style.color = 'white';
        statusEl.style.display = 'block';
        
        // Facebook Pixel
        if (typeof fbq === 'function') {
            fbq('track', 'Lead');
        }
        
        // Form reset
        this.reset();
        
        // Hide status after 5 seconds
        setTimeout(() => {
            statusEl.style.display = 'none';
        }, 5000);
        
    } catch (error) {
        statusEl.textContent = 'âŒ Bir hata oluÅŸtu. LÃ¼tfen tekrar deneyin veya bizi arayÄ±n.';
        statusEl.style.background = '#ff5252';
        statusEl.style.color = 'white';
        statusEl.style.display = 'block';
    } finally {
        submitBtn.disabled = false;
        submitBtn.textContent = 'ðŸ“¤ Mesaj GÃ¶nder';
    }
});
</script>

<section>

<!-- UNIFIED CHAT BUTTON -->
<div class="unified-chat-btn" onclick="toggleChatMenu()" id="unifiedChatBtn">
    <svg viewBox="0 0 24 24" fill="white" width="26" height="26">
        <path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z"/>
        <path d="M7 9h2v2H7zm4 0h2v2h-2zm4 0h2v2h-2z"/>
    </svg>
    <div class="chat-badge" id="chatBadge">2</div>
    
    <!-- FLOATING MENU -->
    <div class="chat-menu" id="chatMenu">
        <div class="chat-menu-item" onclick="openAiAssistant(event)">
            <div class="chat-menu-icon ai-gradient">
                <svg viewBox="0 0 24 24" fill="white" width="20" height="20">
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
                    <circle cx="8.5" cy="12" r="1"/>
                    <circle cx="12" cy="12" r="1"/>
                    <circle cx="15.5" cy="12" r="1"/>
                </svg>
            </div>
            <div class="chat-menu-content">
                <div class="chat-menu-title" data-tr="CEE AI Asistan" data-en="CEE AI Assistant">CEE AI Asistan</div>
                <div class="chat-menu-subtitle" data-tr="MimarlÄ±k & Mevzuat DanÄ±ÅŸmanÄ±" data-en="Architecture & Regulation Consultant">MimarlÄ±k & Mevzuat DanÄ±ÅŸmanÄ±</div>
            </div>
            <div class="chat-menu-badge">AI</div>
        </div>
        
        <div class="chat-menu-divider"></div>
        
        <div class="chat-menu-item" onclick="openWhatsAppDirect(event)">
            <div class="chat-menu-icon whatsapp-gradient">
                <svg viewBox="0 0 24 24" fill="white" width="20" height="20">
                    <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/>
                </svg>
            </div>
            <div class="chat-menu-content">
                <div class="chat-menu-title" data-tr="WhatsApp" data-en="WhatsApp">WhatsApp</div>
                <div class="chat-menu-subtitle" data-tr="MÃ¼ÅŸteri temsilcisiyle gÃ¶rÃ¼ÅŸ" data-en="Talk to representative">MÃ¼ÅŸteri temsilcisiyle gÃ¶rÃ¼ÅŸ</div>
            </div>
            <div class="chat-menu-badge online">â—</div>
        </div>
    </div>
</div>

<!-- AI ASSISTANT PANEL - SAÃ„Å¾ TARAFTA -->
<div class="ai-assistant-panel" id="aiAssistantPanel">
    <div class="ai-assistant-header">
        <div style="display: flex; align-items: center; gap: 12px;">
            <div class="ai-assistant-logo">ðŸ—ï¸</div>
            <div>
                <div style="font-weight: 600; font-size: 16px;">CEE MÄ°MARLIK</div>
                <div style="font-size: 11px; opacity: 0.8;">MimarlÄ±k & Mevzuat AsistanÄ±</div>
            </div>
        </div>
        <button onclick="closeAiAssistant()" style="background: none; border: none; color: white; font-size: 28px; cursor: pointer; padding: 0; width: 35px; height: 35px; line-height: 1;">Ã—</button>
    </div>
    
    <div class="ai-assistant-messages" id="aiAssistantMessages">
        <div class="ai-assistant-welcome">
            <div style="font-size: 48px; margin-bottom: 15px;">ðŸ‘‹</div>
            <h3>HoÅŸgeldiniz!</h3>
            <p>Ben CEE MÄ°MARLIK'Ä±n mÃ¼ÅŸteri temsilcisiyim. MimarlÄ±k ve yapÄ± mevzuatÄ± hakkÄ±nda her tÃ¼rlÃ¼ sorunuzu yanÄ±tlayabilirim.</p>
            
            <div class="quick-topics">
                <div class="quick-topic" onclick="askAiQuestion('Piyes Ã¶lÃ§Ã¼leri nedir?')">ðŸ“ Piyes Ã–lÃ§Ã¼leri</div>
                <div class="quick-topic" onclick="askAiQuestion('YangÄ±n merdiveni Ã¶lÃ§Ã¼leri')">ðŸ”¥ YangÄ±n Merdiveni</div>
                <div class="quick-topic" onclick="askAiQuestion('Merdiven Ã¶lÃ§Ã¼leri')">ðŸªœ Merdiven</div>
                <div class="quick-topic" onclick="askAiQuestion('Emsal hesaplama')">ðŸ“Š Emsal</div>
                <div class="quick-topic" onclick="askAiQuestion('SÄ±ÄŸÄ±nak zorunluluÄŸu')">ðŸ›¡ï¸ SÄ±ÄŸÄ±nak</div>
                <div class="quick-topic" onclick="askAiQuestion('IsÄ± yalÄ±tÄ±mÄ±')">ðŸ  IsÄ± YalÄ±tÄ±mÄ±</div>
                <div class="quick-topic" onclick="askAiQuestion('Otopark Ã¶lÃ§Ã¼leri')">ðŸš— Otopark</div>
                <div class="quick-topic" onclick="askAiQuestion('Mutfak tasarÄ±mÄ±')">ðŸ³ Mutfak</div>
                <div class="quick-topic" onclick="askAiQuestion('KapÄ± pencere Ã¶lÃ§Ã¼leri')">ðŸšª KapÄ±/Pencere</div>
            </div>
            
            <div class="contact-info">
                <strong>ðŸ“ž Hemen UlaÅŸÄ±n:</strong><br>
                (0537) 327 87 65<br>
                <small>Hatip, Ali Osman Ã‡elebi Blv. No:52 A Blok Kat 1 No:3, 59860 Ã‡orlu/TekirdaÄŸ</small>
            </div>
        </div>
    </div>
    
    <div class="ai-assistant-input">
        <input type="text" id="aiAssistantInput" placeholder="MimarlÄ±k sorunuzu yazÄ±n..." 
               onkeypress="if(event.key==='Enter') sendAiAssistantMessage()">
        <button onclick="sendAiAssistantMessage()">
            <svg viewBox="0 0 24 24" fill="white" width="20" height="20">
                <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
            </svg>
        </button>
    </div>
</div>

<!-- AI CHAT WINDOW -->
<div class="ai-chat-window" id="aiChatWindow">
    <div class="ai-chat-header">
        <div style="display: flex; align-items: center; gap: 12px;">
            <div class="ai-avatar">
                <svg viewBox="0 0 24 24" fill="white" width="20" height="20">
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"/>
                </svg>
            </div>
            <div>
                <div style="font-weight: 600;" data-tr="MimarlÄ±k AsistanÄ±" data-en="Architecture Assistant">MimarlÄ±k AsistanÄ±</div>
                <div style="font-size: 11px; opacity: 0.8;" data-tr="AI destekli" data-en="AI powered">AI destekli</div>
            </div>
        </div>
        <button onclick="toggleAiChat()" style="background: none; border: none; color: white; font-size: 24px; cursor: pointer; padding: 0; width: 30px; height: 30px;">Ã—</button>
    </div>
    
    <div class="ai-chat-messages" id="aiChatMessages">
        <div class="ai-message">
            <div class="ai-message-avatar">AI</div>
            <div class="ai-message-content">
                <p data-tr="Merhaba! ðŸ‘‹ MimarlÄ±k hakkÄ±nda sorularÄ±nÄ±zÄ± yanÄ±tlayabilirim. Size nasÄ±l yardÄ±mcÄ± olabilirim?" 
                   data-en="Hello! ðŸ‘‹ I can answer your questions about architecture. How can I help you?">
                    Merhaba! ðŸ‘‹ MimarlÄ±k hakkÄ±nda sorularÄ±nÄ±zÄ± yanÄ±tlayabilirim. Size nasÄ±l yardÄ±mcÄ± olabilirim?
                </p>
            </div>
        </div>
        
        <!-- QUICK QUESTIONS -->
        <div class="ai-quick-questions" id="aiQuickQuestions">
            <div class="ai-quick-question" onclick="askQuestion(this.innerText)">
                ðŸ¡ Villa projeleri hakkÄ±nda bilgi
            </div>
            <div class="ai-quick-question" onclick="askQuestion(this.innerText)">
                ðŸ“ TasarÄ±m sÃ¼reci nasÄ±l iÅŸler?
            </div>
            <div class="ai-quick-question" onclick="askQuestion(this.innerText)">
                ðŸ›‹ï¸ Ä°Ã§ mimarlÄ±k hizmetleri
            </div>
            <div class="ai-quick-question" onclick="askQuestion(this.innerText)">
                ðŸ’° Proje maliyeti hesaplama
            </div>
        </div>
    </div>
    
    <div class="ai-chat-input">
        <input type="text" id="aiChatInput" placeholder="Sorunuzu yazÄ±n..." 
               data-tr-placeholder="Sorunuzu yazÄ±n..." 
               data-en-placeholder="Type your question..."
               onkeypress="if(event.key==='Enter') sendAiMessage()">
        <button onclick="sendAiMessage()" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border: none; border-radius: 50%; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: transform 0.2s;">
            <svg viewBox="0 0 24 24" fill="white" width="20" height="20">
                <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
            </svg>
        </button>
    </div>
</div>

<!-- DWG TOOLS MODAL -->
<div class="dwg-tools-modal" id="dwgToolsModal">
    <div class="dwg-tools-container">
        <button class="modal-close-btn" onclick="closeDwgTools()">Ã—</button>
        
        <div class="dwg-tools-header">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="32" height="32">
                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                <polyline points="14 2 14 8 20 8"/>
                <path d="M12 18v-6M9 15l3 3 3-3"/>
            </svg>
            <h2 data-tr="DWG AraÃ§larÄ±" data-en="DWG Tools">DWG AraÃ§larÄ±</h2>
            <p data-tr="DWG dosyalarÄ±nÄ±zÄ± dÃ¶nÃ¼ÅŸtÃ¼rÃ¼n ve versiyon dÃ¼ÅŸÃ¼rÃ¼n" data-en="Convert and downgrade your DWG files">DWG dosyalarÄ±nÄ±zÄ± dÃ¶nÃ¼ÅŸtÃ¼rÃ¼n ve versiyon dÃ¼ÅŸÃ¼rÃ¼n</p>
        </div>

        <div class="dwg-tools-tabs">
            <button class="dwg-tab active" onclick="switchDwgTab('converter')" data-tab="converter">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="20" height="20">
                    <circle cx="12" cy="12" r="10"/>
                    <path d="M8 12h8M12 8v8"/>
                </svg>
                <span data-tr="Format DÃ¶nÃ¼ÅŸtÃ¼rÃ¼cÃ¼" data-en="Format Converter">Format DÃ¶nÃ¼ÅŸtÃ¼rÃ¼cÃ¼</span>
            </button>
            <button class="dwg-tab" onclick="switchDwgTab('downgrade')" data-tab="downgrade">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="20" height="20">
                    <path d="M12 5v14M19 12l-7 7-7-7"/>
                </svg>
                <span data-tr="Versiyon DÃ¼ÅŸÃ¼rme" data-en="Version Downgrade">Versiyon DÃ¼ÅŸÃ¼rme</span>
            </button>
        </div>

        <!-- FORMAT CONVERTER TAB -->
        <div class="dwg-tab-content active" id="converterTab">
            <div class="upload-area" id="converterUpload" onclick="document.getElementById('converterFileInput').click()">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="48" height="48">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M17 8l-5-5-5 5M12 3v12"/>
                </svg>
                <h3 data-tr="DWG DosyasÄ± YÃ¼kle" data-en="Upload DWG File">DWG DosyasÄ± YÃ¼kle</h3>
                <p data-tr="TÄ±klayÄ±n veya sÃ¼rÃ¼kleyip bÄ±rakÄ±n" data-en="Click or drag and drop">TÄ±klayÄ±n veya sÃ¼rÃ¼kleyip bÄ±rakÄ±n</p>
                <span class="file-info">Max 50MB â€¢ DWG, DXF</span>
            </div>
            <input type="file" id="converterFileInput" accept=".dwg,.dxf" style="display: none;" onchange="handleConverterFile(this.files[0])">
            
            <div class="file-preview" id="converterPreview" style="display: none;">
                <div class="file-icon">ðŸ“</div>
                <div class="file-details">
                    <div class="file-name" id="converterFileName"></div>
                    <div class="file-size" id="converterFileSize"></div>
                </div>
                <button class="remove-file-btn" onclick="removeConverterFile()">Ã—</button>
            </div>

            <div class="format-selector">
                <label data-tr="DÃ¶nÃ¼ÅŸtÃ¼rÃ¼lecek Format:" data-en="Convert to:">DÃ¶nÃ¼ÅŸtÃ¼rÃ¼lecek Format:</label>
                <div class="format-options">
                    <label class="format-option">
                        <input type="radio" name="outputFormat" value="pdf" checked>
                        <span class="format-card">
                            <svg viewBox="0 0 24 24" fill="currentColor" width="32" height="32">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"/>
                                <path d="M14 2v6h6"/>
                            </svg>
                            <strong>PDF</strong>
                            <span class="format-desc">Evrensel Format</span>
                        </span>
                    </label>
                    <label class="format-option">
                        <input type="radio" name="outputFormat" value="png">
                        <span class="format-card">
                            <svg viewBox="0 0 24 24" fill="currentColor" width="32" height="32">
                                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                                <circle cx="8.5" cy="8.5" r="1.5"/>
                                <path d="M21 15l-5-5L5 21"/>
                            </svg>
                            <strong>PNG</strong>
                            <span class="format-desc">Saydam Arka Plan</span>
                        </span>
                    </label>
                    <label class="format-option">
                        <input type="radio" name="outputFormat" value="jpeg">
                        <span class="format-card">
                            <svg viewBox="0 0 24 24" fill="currentColor" width="32" height="32">
                                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                                <circle cx="8.5" cy="8.5" r="1.5"/>
                                <path d="M21 15l-5-5L5 21"/>
                            </svg>
                            <strong>JPEG</strong>
                            <span class="format-desc">YÃ¼ksek Kalite</span>
                        </span>
                    </label>
                </div>
            </div>

            <div class="quality-settings">
                <label data-tr="Kalite AyarlarÄ±:" data-en="Quality Settings:">Kalite AyarlarÄ±:</label>
                <div class="quality-slider-container">
                    <input type="range" min="1" max="4" value="3" class="quality-slider" id="qualitySlider" oninput="updateQualityLabel(this.value)">
                    <div class="quality-labels">
                        <span data-tr="DÃ¼ÅŸÃ¼k" data-en="Low">DÃ¼ÅŸÃ¼k</span>
                        <span data-tr="Orta" data-en="Medium">Orta</span>
                        <span data-tr="YÃ¼ksek" data-en="High">YÃ¼ksek</span>
                        <span data-tr="En YÃ¼ksek" data-en="Maximum">En YÃ¼ksek</span>
                    </div>
                    <div class="current-quality" id="currentQuality">YÃ¼ksek Kalite</div>
                </div>
            </div>

            <button class="convert-btn ripple" onclick="convertDwgFile()" id="convertBtn" disabled>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="20" height="20">
                    <path d="M21 12a9 9 0 1 1-9-9"/>
                    <path d="M12 3v9l4 4"/>
                </svg>
                <span data-tr="DÃ¶nÃ¼ÅŸtÃ¼r" data-en="Convert">DÃ¶nÃ¼ÅŸtÃ¼r</span>
            </button>

            <div class="conversion-progress" id="converterProgress" style="display: none;">
                <div class="progress-bar">
                    <div class="progress-fill" id="converterProgressBar"></div>
                </div>
                <div class="progress-text" id="converterProgressText">DÃ¶nÃ¼ÅŸtÃ¼rÃ¼lÃ¼yor... 0%</div>
            </div>

            <div class="conversion-result" id="converterResult" style="display: none;">
                <div class="result-success">
                    <svg viewBox="0 0 24 24" fill="none" stroke="#10b981" stroke-width="2" width="48" height="48">
                        <circle cx="12" cy="12" r="10"/>
                        <path d="M9 12l2 2 4-4"/>
                    </svg>
                    <h3 data-tr="DÃ¶nÃ¼ÅŸtÃ¼rme BaÅŸarÄ±lÄ±!" data-en="Conversion Successful!">DÃ¶nÃ¼ÅŸtÃ¼rme BaÅŸarÄ±lÄ±!</h3>
                    <button class="download-btn ripple" id="converterDownloadBtn">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="20" height="20">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5 5 5-5M12 15V3"/>
                        </svg>
                        <span data-tr="DosyayÄ± Ä°ndir" data-en="Download File">DosyayÄ± Ä°ndir</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- VERSION DOWNGRADE TAB -->
        <div class="dwg-tab-content" id="downgradeTab">
            <div class="upload-area" id="downgradeUpload" onclick="document.getElementById('downgradeFileInput').click()">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="48" height="48">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M17 8l-5-5-5 5M12 3v12"/>
                </svg>
                <h3 data-tr="DWG DosyasÄ± YÃ¼kle" data-en="Upload DWG File">DWG DosyasÄ± YÃ¼kle</h3>
                <p data-tr="YÃ¼ksek versiyon DWG dosyanÄ±zÄ± yÃ¼kleyin" data-en="Upload your high version DWG file">YÃ¼ksek versiyon DWG dosyanÄ±zÄ± yÃ¼kleyin</p>
                <span class="file-info">Max 50MB â€¢ DWG Format</span>
            </div>
            <input type="file" id="downgradeFileInput" accept=".dwg" style="display: none;" onchange="handleDowngradeFile(this.files[0])">
            
            <div class="file-preview" id="downgradePreview" style="display: none;">
                <div class="file-icon">ðŸ“</div>
                <div class="file-details">
                    <div class="file-name" id="downgradeFileName"></div>
                    <div class="file-size" id="downgradeFileSize"></div>
                    <div class="file-version" id="downgradeFileVersion">Tespit ediliyor...</div>
                </div>
                <button class="remove-file-btn" onclick="removeDowngradeFile()">Ã—</button>
            </div>

            <div class="version-selector">
                <label data-tr="Hedef DWG Versiyonu:" data-en="Target DWG Version:">Hedef DWG Versiyonu:</label>
                <div class="version-options">
                    <label class="version-option">
                        <input type="radio" name="targetVersion" value="2018">
                        <span class="version-card">
                            <strong>AutoCAD 2018</strong>
                            <span class="version-code">AC1032</span>
                        </span>
                    </label>
                    <label class="version-option">
                        <input type="radio" name="targetVersion" value="2013" checked>
                        <span class="version-card">
                            <strong>AutoCAD 2013</strong>
                            <span class="version-code">AC1027</span>
                        </span>
                    </label>
                    <label class="version-option">
                        <input type="radio" name="targetVersion" value="2010">
                        <span class="version-card">
                            <strong>AutoCAD 2010</strong>
                            <span class="version-code">AC1024</span>
                        </span>
                    </label>
                    <label class="version-option">
                        <input type="radio" name="targetVersion" value="2007">
                        <span class="version-card">
                            <strong>AutoCAD 2007</strong>
                            <span class="version-code">AC1021</span>
                        </span>
                    </label>
                    <label class="version-option">
                        <input type="radio" name="targetVersion" value="2004">
                        <span class="version-card">
                            <strong>AutoCAD 2004</strong>
                            <span class="version-code">AC1018</span>
                        </span>
                    </label>
                    <label class="version-option">
                        <input type="radio" name="targetVersion" value="R14">
                        <span class="version-card">
                            <strong>AutoCAD R14</strong>
                            <span class="version-code">AC1014</span>
                        </span>
                    </label>
                </div>
                <div class="version-note">
                    <svg viewBox="0 0 24 24" fill="none" stroke="#3b82f6" stroke-width="2" width="18" height="18">
                        <circle cx="12" cy="12" r="10"/>
                        <path d="M12 16v-4M12 8h.01"/>
                    </svg>
                    <span data-tr="Not: BazÄ± Ã¶zellikler eski versiyonlarda kaybolabilir" data-en="Note: Some features may be lost in older versions">Not: BazÄ± Ã¶zellikler eski versiyonlarda kaybolabilir</span>
                </div>
            </div>

            <button class="convert-btn ripple" onclick="downgradeDwgFile()" id="downgradeBtn" disabled>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="20" height="20">
                    <path d="M12 5v14M19 12l-7 7-7-7"/>
                </svg>
                <span data-tr="Versiyon DÃ¼ÅŸÃ¼r" data-en="Downgrade Version">Versiyon DÃ¼ÅŸÃ¼r</span>
            </button>

            <div class="conversion-progress" id="downgradeProgress" style="display: none;">
                <div class="progress-bar">
                    <div class="progress-fill" id="downgradeProgressBar"></div>
                </div>
                <div class="progress-text" id="downgradeProgressText">Ä°ÅŸleniyor... 0%</div>
            </div>

            <div class="conversion-result" id="downgradeResult" style="display: none;">
                <div class="result-success">
                    <svg viewBox="0 0 24 24" fill="none" stroke="#10b981" stroke-width="2" width="48" height="48">
                        <circle cx="12" cy="12" r="10"/>
                        <path d="M9 12l2 2 4-4"/>
                    </svg>
                    <h3 data-tr="Versiyon DÃ¼ÅŸÃ¼rme BaÅŸarÄ±lÄ±!" data-en="Downgrade Successful!">Versiyon DÃ¼ÅŸÃ¼rme BaÅŸarÄ±lÄ±!</h3>
                    <p id="downgradeResultInfo"></p>
                    <button class="download-btn ripple" id="downgradeDownloadBtn">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="20" height="20">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5 5 5-5M12 15V3"/>
                        </svg>
                        <span data-tr="DosyayÄ± Ä°ndir" data-en="Download File">DosyayÄ± Ä°ndir</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- TOAST CONTAINER -->
<div class="toast-container" id="toastContainer"></div>

<!-- SCROLL TO TOP -->
<button class="scroll-top" id="scrollTop" onclick="scrollToTop()" aria-label="YukarÄ± Ã§Ä±k">â†‘</button>

<!-- VIDEO LIGHTBOX -->
<div class="video-lightbox" id="videoLightbox" onclick="if(event.target === this) closeVideo()">
    <div class="video-lightbox-content">
        <button class="video-lightbox-close" onclick="closeVideo()">âœ•</button>
        <div id="videoContainer"></div>
    </div>
</div>

<!-- LIGHTBOX -->
<div class="lightbox" id="lightbox">
    <button class="lightbox-close" onclick="closeLightbox()">Ã—</button>
    <img src="" alt="Project" class="lightbox-image" id="lightboxImage">
</div>

<!-- FOOTER -->
<!-- E-HÄ°ZMETLER UYARI MODALI -->
<div id="externalServiceModal" class="external-service-modal" style="display: none;">
    <div class="external-service-container">
        <div class="external-service-header">
            <div style="font-size: 48px; margin-bottom: 15px;">ðŸ›ï¸</div>
            <h3 style="font-size: 24px; font-weight: 600; margin-bottom: 10px; color: #667eea;">DÄ±ÅŸ Servise YÃ¶nlendiriliyorsunuz</h3>
            <p id="externalServiceName" style="font-size: 16px; color: #666; margin-bottom: 20px;"></p>
        </div>
        
        <div class="external-service-body">
            <div class="warning-box">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#f59e0b" stroke-width="2" style="flex-shrink: 0;">
                    <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>
                    <line x1="12" y1="9" x2="12" y2="13"></line>
                    <line x1="12" y1="17" x2="12.01" y2="17"></line>
                </svg>
                <div>
                    <strong style="display: block; margin-bottom: 5px; color: #f59e0b;">Bilgilendirme</strong>
                    <p style="font-size: 14px; line-height: 1.6; color: #666;">
                        <span id="externalServiceOwner"></span> tarafÄ±ndan saÄŸlanan bu hizmet, 
                        <strong style="color: #667eea;">CEE MÄ°MARLIK</strong> ile hiÃ§bir baÄŸlantÄ±sÄ± olmayan 
                        resmi bir devlet/belediye sitesidir.
                    </p>
                </div>
            </div>
            
            <div class="info-box" style="margin-top: 15px;">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#667eea" stroke-width="2" style="flex-shrink: 0;">
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="12" y1="16" x2="12" y2="12"></line>
                    <line x1="12" y1="8" x2="12.01" y2="8"></line>
                </svg>
                <p style="font-size: 13px; color: #666; line-height: 1.5;">
                    <strong>CEE MÄ°MARLIK</strong> olarak sadece bu hizmetlere kolay eriÅŸim saÄŸlÄ±yoruz. 
                    Siteye yeni sekmede yÃ¶nlendirileceksiniz.<br><br>
                    <strong style="color: #667eea;">ðŸ’¡ Geri DÃ¶nmek Ä°Ã§in:</strong><br>
                    â€¢ TarayÄ±cÄ±nÄ±zÄ±n bu sekmesine geri dÃ¶nÃ¼n<br>
                    â€¢ Veya tarayÄ±cÄ± geri (<) butonunu kullanÄ±n
                </p>
            </div>
        </div>
        
        <div class="external-service-footer">
            <button onclick="closeExternalServiceModal()" class="btn-secondary">
                Ä°ptal
            </button>
            <button onclick="confirmExternalService()" class="btn-primary">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 8px;">
                    <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
                    <polyline points="15 3 21 3 21 9"></polyline>
                    <line x1="10" y1="14" x2="21" y2="3"></line>
                </svg>
                Siteye Git
            </button>
        </div>
    </div>
</div>

<style>
/* UyarÄ± Modal Stilleri */
.external-service-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.7);
    z-index: 99999;
    display: flex;
    align-items: center;
    justify-content: center;
    animation: fadeIn 0.3s ease;
}

.external-service-container {
    background: white;
    border-radius: 16px;
    max-width: 500px;
    width: 90%;
    box-shadow: 0 20px 60px rgba(0,0,0,0.3);
    animation: slideUp 0.3s ease;
}

body.dark-mode .external-service-container {
    background: #1a1a1a;
}

.external-service-header {
    padding: 30px 30px 20px;
    text-align: center;
    border-bottom: 1px solid #eee;
}

body.dark-mode .external-service-header {
    border-bottom-color: #333;
}

.external-service-body {
    padding: 25px 30px;
}

.warning-box {
    display: flex;
    gap: 15px;
    padding: 15px;
    background: #fef3c7;
    border: 1px solid #fbbf24;
    border-radius: 8px;
}

body.dark-mode .warning-box {
    background: #78350f;
    border-color: #f59e0b;
}

.info-box {
    display: flex;
    gap: 12px;
    padding: 12px;
    background: #eff6ff;
    border: 1px solid #93c5fd;
    border-radius: 8px;
}

body.dark-mode .info-box {
    background: #1e3a8a;
    border-color: #3b82f6;
}

.external-service-footer {
    padding: 20px 30px;
    display: flex;
    gap: 10px;
    justify-content: flex-end;
    border-top: 1px solid #eee;
}

body.dark-mode .external-service-footer {
    border-top-color: #333;
}

.btn-primary,
.btn-secondary {
    padding: 12px 24px;
    border: none;
    border-radius: 8px;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    transition: all 0.3s;
}

.btn-primary {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
}

.btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
}

.btn-secondary {
    background: #f3f4f6;
    color: #666;
}

.btn-secondary:hover {
    background: #e5e7eb;
}

body.dark-mode .btn-secondary {
    background: #374151;
    color: #d1d5db;
}

@media (max-width: 768px) {
    .external-service-container {
        width: 95%;
    }
    
    .external-service-footer {
        flex-direction: column;
    }
    
    .btn-primary,
    .btn-secondary {
        width: 100%;
        justify-content: center;
    }
}
</style>

<footer>
    <div class="footer-content">
        <div class="footer-logo">
            <img src="" alt="CEE" id="footerLogo" style="display: none;">
        </div>
        <p class="footer-text" data-tr="Kalite ve estetik bir arada" data-en="Quality and aesthetics together">
            Kalite ve estetik bir arada
        </p>
        
        <!-- SOSYAL MEDYA -->
        <div class="footer-social">
            <h3 class="footer-social-title" data-tr="Bize UlaÅŸabilirsiniz" data-en="Connect With Us">
                Bize UlaÅŸabilirsiniz
            </h3>
            <div class="footer-social-icons">
                <a href="https://instagram.com/cee_mimarlik" target="_blank" aria-label="Instagram" class="footer-social-link">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
                    </svg>
                    <span>Instagram</span>
                </a>
                <a href="https://twitter.com/cee_mimarlik" target="_blank" aria-label="X (Twitter)" class="footer-social-link">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                    </svg>
                    <span>X (Twitter)</span>
                </a>
                <a href="https://facebook.com/cee_mimarlik" target="_blank" aria-label="Facebook" class="footer-social-link">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
                    </svg>
                    <span>Facebook</span>
                </a>
                <a href="https://linkedin.com/company/cee_mimarlik" target="_blank" aria-label="LinkedIn" class="footer-social-link">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                    </svg>
                    <span>LinkedIn</span>
                </a>
            </div>
        </div>
        
        <p class="footer-copyright">
            Â© 2025 
            <span class="admin-link" onclick="goToAdmin()">CEE MÄ°MARLIK</span> 
            <span data-tr="TÃ¼m haklarÄ± saklÄ±dÄ±r" data-en="All rights reserved">TÃ¼m haklarÄ± saklÄ±dÄ±r</span>
        </p>
    </div>
</footer>

<script>
let projects = [];
let siteLogo = '';
let currentLang = 'tr';
let currentFilter = 'all';
let currentSlide = 0;
let heroImages = [];

function init() {
    loadFromLocalStorage();
    loadColorTheme();
    loadDarkMode();
    loadLanguage();
    loadSiteSettings(); // Yeni: Site ayarlarÄ±nÄ± yÃ¼kle
    setupHero();
    renderProjects();
    setupFilters();
    setupNavigation();
    loadTeam();
    loadInstagram();
    loadVideos();
    initMap();
    setupStatsObserver();
}

function loadFromLocalStorage() {
    try {
        const savedProjects = localStorage.getItem('cee_projects');
        if (savedProjects) {
            const allProjects = JSON.parse(savedProjects);
            // Sadece valid projeleri al
            projects = allProjects.filter(p => p && p.row === 'top' && p.img);
            
            // En popÃ¼ler 4 projeyi al (hero iÃ§in)
            heroImages = projects
                .filter(p => p.img && p.mediaType !== 'pdf') // PDF'leri hero'da gÃ¶sterme
                .sort((a, b) => (b.clickCount || 0) - (a.clickCount || 0))
                .slice(0, 4);
        }
        
        siteLogo = localStorage.getItem('site_logo') || '';
        if (siteLogo) {
            const headerLogo = document.getElementById('headerLogo');
            const footerLogo = document.getElementById('footerLogo');
            const waLogo = document.getElementById('waLogo');
            const logoText = document.querySelector('.logo-text');
            
            if (headerLogo) {
                headerLogo.src = siteLogo;
                headerLogo.style.display = 'block';
            }
            if (footerLogo) {
                footerLogo.src = siteLogo;
                footerLogo.style.display = 'block';
            }
            if (waLogo) {
                waLogo.src = siteLogo;
                waLogo.style.display = 'block';
            }
            if (logoText) {
                logoText.style.display = 'none';
            }
        }
    } catch (e) {
        projects = [];
        heroImages = [];
    }
}

let heroAutoSlide;
let heroProgressInterval;

function setupHero() {
    const slider = document.getElementById('heroSlider');
    const indicatorsContainer = document.getElementById('heroIndicators');
    
    if (heroImages.length === 0) {
        slider.innerHTML = `
            <div class="hero-slide active">
                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='1200' height='800'%3E%3Crect fill='%23e8e8e8' width='1200' height='800'/%3E%3Ctext x='50%25' y='50%25' text-anchor='middle' fill='%23999' font-size='24' font-family='Arial'%3EProje Eklenmedi%3C/text%3E%3C/svg%3E" alt="Placeholder">
                <div class="hero-overlay"></div>
                <div class="hero-content">
                    <div class="hero-category">CEE MÄ°MARLIK</div>
                    <h1 class="hero-title">Hayallerinizi GerÃ§eÄŸe DÃ¶nÃ¼ÅŸtÃ¼rÃ¼yoruz</h1>
                    <div class="hero-meta">Modern Mimari Ã‡Ã¶zÃ¼mler</div>
                </div>
            </div>
        `;
        return;
    }
    
    // Slides
    slider.innerHTML = heroImages.map((project, index) => `
        <div class="hero-slide ${index === 0 ? 'active' : ''}">
            <img src="${project.img}" alt="${project.title || 'Proje'}" loading="${index === 0 ? 'eager' : 'lazy'}">
            <div class="hero-overlay"></div>
            <div class="hero-content">
                <div class="hero-category">${project.category || project.tags?.[0] || 'PROJE'}</div>
                <h1 class="hero-title">${project.title || 'Ä°simsiz Proje'}</h1>
                <div class="hero-meta">${project.location || ''} ${project.area ? 'â€¢ ' + project.area : ''}</div>
            </div>
        </div>
    `).join('');
    
    // Indicators
    if (heroImages.length > 1) {
        indicatorsContainer.innerHTML = heroImages.map((_, index) => 
            `<div class="hero-indicator ${index === 0 ? 'active' : ''}" onclick="goToSlide(${index})"></div>`
        ).join('');
    }
    
    // Auto-slide her 5 saniyede
    startHeroAutoSlide();
}

function startHeroAutoSlide() {
    // Progress bar animation
    const progressBar = document.getElementById('heroProgress');
    let progress = 0;
    
    // Clear existing intervals
    if (heroProgressInterval) clearInterval(heroProgressInterval);
    if (heroAutoSlide) clearInterval(heroAutoSlide);
    
    // Progress bar
    heroProgressInterval = setInterval(() => {
        progress += 0.5;
        if (progressBar) progressBar.style.width = progress + '%';
        if (progress >= 100) {
            progress = 0;
        }
    }, 25); // 5000ms / 200 = 25ms intervals
    
    // Auto slide
    heroAutoSlide = setInterval(() => {
        if (heroImages.length > 1) {
            changeSlide(1);
            progress = 0;
        }
    }, 5000);
}

function changeSlide(direction) {
    if (heroImages.length === 0) return;
    
    const slides = document.querySelectorAll('.hero-slide');
    const indicators = document.querySelectorAll('.hero-indicator');
    
    slides[currentSlide].classList.remove('active');
    if (indicators[currentSlide]) indicators[currentSlide].classList.remove('active');
    
    currentSlide += direction;
    if (currentSlide >= heroImages.length) currentSlide = 0;
    if (currentSlide < 0) currentSlide = heroImages.length - 1;
    
    slides[currentSlide].classList.add('active');
    if (indicators[currentSlide]) indicators[currentSlide].classList.add('active');
    
    // Reset progress
    const progressBar = document.getElementById('heroProgress');
    if (progressBar) progressBar.style.width = '0%';
}

function goToSlide(index) {
    if (heroImages.length === 0) return;
    
    const slides = document.querySelectorAll('.hero-slide');
    const indicators = document.querySelectorAll('.hero-indicator');
    
    slides[currentSlide].classList.remove('active');
    if (indicators[currentSlide]) indicators[currentSlide].classList.remove('active');
    
    currentSlide = index;
    
    slides[currentSlide].classList.add('active');
    if (indicators[currentSlide]) indicators[currentSlide].classList.add('active');
    
    // Reset auto-slide
    startHeroAutoSlide();
}

function renderProjects() {
    const grid = document.getElementById('projectsGrid');
    
    if (projects.length === 0) {
        grid.innerHTML = `
            <div style="grid-column: 1/-1; text-align: center; padding: 100px 20px; color: var(--secondary);">
                <p style="font-size: 16px; letter-spacing: 2px;">HenÃ¼z proje eklenmedi</p>
            </div>
        `;
        return;
    }
    
    let filteredProjects = projects;
    if (currentFilter !== 'all') {
        filteredProjects = projects.filter(p => 
            p.tags && p.tags.includes(currentFilter)
        );
    }
    
    grid.innerHTML = filteredProjects.map(project => {
        const isPDF = project.mediaType === 'pdf';
        const isVideo = project.mediaType === 'video';
        
        let mediaHTML = '';
        if (isPDF) {
            mediaHTML = `
                <div style="display: flex; align-items: center; justify-content: center; height: 100%; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); position: relative;">
                    <div style="text-align: center; color: white;">
                        <div style="font-size: 80px; margin-bottom: 15px;">ðŸ“„</div>
                        <div style="font-size: 18px; font-weight: 600; letter-spacing: 2px;">PDF DOSYASI</div>
                        ${project.title ? `<div style="font-size: 14px; margin-top: 10px; opacity: 0.9;">${project.title}</div>` : ''}
                    </div>
                </div>
            `;
        } else if (isVideo) {
            mediaHTML = `
                <video style="width: 100%; height: 100%; object-fit: cover;" muted loop playsinline>
                    <source src="${project.img}" type="video/mp4">
                </video>
                <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 60px; opacity: 0.9; pointer-events: none;">â–¶ï¸</div>
            `;
        } else {
            mediaHTML = `<img src="${project.img}" alt="${project.title || 'Proje'}" class="project-image" loading="lazy">`;
        }
        
        return `
            <div class="project-card" onclick="openLightbox('${project.img}', '${project.id}', ${isPDF}, ${isVideo})">
                ${mediaHTML}
                <div class="project-overlay">
                    ${project.title ? `<div class="project-title">${project.title}</div>` : ''}
                    ${project.tags && project.tags.length > 0 ? `
                        <div class="project-tags">
                            ${project.tags.map(tag => `<span class="project-tag">${tag}</span>`).join('')}
                        </div>
                    ` : ''}
                </div>
            </div>
        `;
    }).join('');
}

function setupFilters() {
    document.querySelectorAll('.filter-btn').forEach(btn => {
        btn.addEventListener('click', () => {
            document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            currentFilter = btn.dataset.filter;
            renderProjects();
        });
    });
}

function setupNavigation() {
    document.querySelectorAll('nav > a').forEach(link => {
        link.addEventListener('click', function(e) {
            // External linkler iÃ§in event'i durdurma
            const href = this.getAttribute('href');
            if (!href || href === 'javascript:void(0)' || href.startsWith('http')) {
                return;
            }
            
            e.preventDefault();
            
            // Active class gÃ¼ncelle
            document.querySelectorAll('nav > a').forEach(a => a.classList.remove('active'));
            this.classList.add('active');
            
            // Smooth scroll
            const targetId = href;
            const targetSection = document.querySelector(targetId);
            if (targetSection) {
                const headerHeight = document.querySelector('header').offsetHeight;
                const targetPosition = targetSection.offsetTop - headerHeight;
                window.scrollTo({
                    top: targetPosition,
                    behavior: 'smooth'
                });
            }
            
            // Mobile menÃ¼yÃ¼ kapat
            closeMobileMenu();
        });
    });
}


function closeMobileMenu() {
    const nav = document.getElementById('mainNav');
    const toggle = document.getElementById('menuToggle');
    if (nav && toggle) {
        nav.classList.remove('mobile-open');
        toggle.textContent = 'â˜°';
    }
}

function toggleMobileMenu() {
    const nav = document.getElementById('mainNav');
    const toggle = document.getElementById('menuToggle');
    nav.classList.toggle('mobile-open');
    toggle.textContent = nav.classList.contains('mobile-open') ? 'âœ•' : 'â˜°';
}



function loadTeam() {
    const teamData = localStorage.getItem('cee_team');
    if (teamData) {
        try {
            const team = JSON.parse(teamData);
            const grid = document.getElementById('teamGrid');
            grid.innerHTML = team.slice(0, 2).map(member => `
                <div class="team-member">
                    <img src="${member.photo}" alt="${member.name}" class="team-photo">
                    <div class="team-name">${member.name}</div>
                    <div class="team-role">${member.role}</div>
                </div>
            `).join('');
        } catch (e) {}
    } else {
        // Default team
        document.getElementById('teamGrid').innerHTML = `
            <div class="team-member">
                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='400'%3E%3Crect fill='%23e0e0e0' width='300' height='400'/%3E%3C/svg%3E" alt="Ekip Ãœyesi" class="team-photo">
                <div class="team-name">Mimar 1</div>
                <div class="team-role">Kurucu Mimar</div>
            </div>
            <div class="team-member">
                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='400'%3E%3Crect fill='%23e0e0e0' width='300' height='400'/%3E%3C/svg%3E" alt="Ekip Ãœyesi" class="team-photo">
                <div class="team-name">Mimar 2</div>
                <div class="team-role">Proje MÃ¼dÃ¼rÃ¼</div>
            </div>
        `;
    }
}
</script>

<script>

function openLightbox(imgSrc, projectId, isPDF, isVideo) {
    const lightbox = document.getElementById('lightbox');
    const lightboxImage = document.getElementById('lightboxImage');
    
    if (isPDF) {
        // PDF iÃ§in yeni sekmede aÃ§
        window.open(imgSrc, '_blank');
        incrementClickCount(projectId);
        return;
    }
    
    if (isVideo) {
        // Video iÃ§in yeni sekmede aÃ§ veya modal gÃ¶ster
        window.open(imgSrc, '_blank');
        incrementClickCount(projectId);
        return;
    }
    
    lightboxImage.src = imgSrc;
    lightbox.classList.add('show');
    incrementClickCount(projectId);
}

function closeLightbox() {
    document.getElementById('lightbox').classList.remove('show');
}

document.getElementById('lightbox').addEventListener('click', (e) => {
    if (e.target.id === 'lightbox') closeLightbox();
});

document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
        closeLightbox();
        closeWhatsApp();
    }
});

function incrementClickCount(projectId) {
    try {
        const allProjects = JSON.parse(localStorage.getItem('cee_projects') || '[]');
        const project = allProjects.find(p => p.id === projectId);
        if (project) {
            if (!project.clickCount) project.clickCount = 0;
            project.clickCount++;
            localStorage.setItem('cee_projects', JSON.stringify(allProjects));
        }
    } catch (e) {}
}

function toggleDarkMode() {
    document.body.classList.toggle('dark-mode');
    const isDark = document.body.classList.contains('dark-mode');
    document.getElementById('themeBtn').textContent = isDark ? 'â˜€ï¸' : 'ðŸŒ™';
    localStorage.setItem('cee_public_dark', isDark);
}

function loadDarkMode() {
    const isDark = localStorage.getItem('cee_public_dark') === 'true';
    if (isDark) {
        document.body.classList.add('dark-mode');
        document.getElementById('themeBtn').textContent = 'â˜€ï¸';
    }
}

function toggleLanguage() {
    currentLang = currentLang === 'tr' ? 'en' : 'tr';
    document.getElementById('langBtn').textContent = currentLang === 'tr' ? 'EN' : 'TR';
    applyLanguage();
    localStorage.setItem('cee_public_lang', currentLang);
}

function loadLanguage() {
    const saved = localStorage.getItem('cee_public_lang');
    if (saved) {
        currentLang = saved;
        document.getElementById('langBtn').textContent = currentLang === 'tr' ? 'EN' : 'TR';
        applyLanguage();
    }
}

function applyLanguage() {
    document.querySelectorAll('[data-tr]').forEach(el => {
        const text = currentLang === 'tr' ? el.dataset.tr : el.dataset.en;
        if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
            el.placeholder = text;
        } else {
            el.textContent = text;
        }
    });
}

// E-Hizmetler Toggle
function toggleEHizmetler(e) {
    e.preventDefault();
    e.stopPropagation();
    const menu = document.getElementById('ehizmetlerMenu');
    if (menu) {
        menu.style.display = menu.style.display === 'none' ? 'block' : 'none';
    }
}

// DÄ±ÅŸ Servis DeÄŸiÅŸkenleri
let pendingExternalURL = '';
let pendingExternalName = '';
let pendingExternalOwner = '';

// DÄ±ÅŸ Servise YÃ¶nlendirme UyarÄ±sÄ±
function openExternalServiceWithWarning(url, serviceName, owner) {
    pendingExternalURL = url;
    pendingExternalName = serviceName;
    pendingExternalOwner = owner;
    
    const modal = document.getElementById('externalServiceModal');
    const serviceNameEl = document.getElementById('externalServiceName');
    const ownerEl = document.getElementById('externalServiceOwner');
    
    serviceNameEl.textContent = serviceName;
    ownerEl.textContent = owner;
    
    modal.style.display = 'flex';
    document.body.style.overflow = 'hidden';
    
    // E-Hizmetler menÃ¼sÃ¼nÃ¼ kapat
    const menu = document.getElementById('ehizmetlerMenu');
    if (menu) menu.style.display = 'none';
}

// DÄ±ÅŸ Servise Git
function confirmExternalService() {
    window.open(pendingExternalURL, '_blank');
    closeExternalServiceModal();
}

// UyarÄ± ModalÄ±nÄ± Kapat
function closeExternalServiceModal() {
    const modal = document.getElementById('externalServiceModal');
    modal.style.display = 'none';
    document.body.style.overflow = '';
    
    pendingExternalURL = '';
    pendingExternalName = '';
    pendingExternalOwner = '';
}

// ESC tuÅŸu ile kapat
document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') {
        const modal = document.getElementById('externalServiceModal');
        if (modal && modal.style.display !== 'none') {
            closeExternalServiceModal();
        }
    }
});

// DÄ±ÅŸarÄ± tÄ±klayÄ±nca kapat
document.addEventListener('click', function(e) {
    const menu = document.getElementById('ehizmetlerMenu');
    if (menu && menu.style.display === 'block') {
        const dropdown = e.target.closest('.nav-dropdown');
        if (!dropdown) {
            menu.style.display = 'none';
        }
    }
});

function openWhatsApp() {
    document.getElementById('whatsappModal').classList.add('show');
    const notification = document.getElementById('whatsappNotification');
    if (notification) {
        notification.style.display = 'none';
    }
    const badge = document.querySelector('.whatsapp-badge');
    if (badge) {
        badge.style.display = 'none';
    }
}

function closeWhatsApp() {
    document.getElementById('whatsappModal').classList.remove('show');
}

// AI ASSISTANT PANEL - Ã–Ã„Å¾RENEN SÄ°STEM
let aiConversationHistory = JSON.parse(localStorage.getItem('cee_ai_history') || '[]');
let aiKnowledgeBase = JSON.parse(localStorage.getItem('cee_ai_knowledge') || '{}');

function closeAiAssistant() {
    document.getElementById('aiAssistantPanel').classList.remove('active');
}

function askAiQuestion(question) {
    document.getElementById('aiAssistantInput').value = question;
    sendAiAssistantMessage();
}

function addAiMessage(content, isUser = false) {
    const messagesDiv = document.getElementById('aiAssistantMessages');
    const welcome = messagesDiv.querySelector('.ai-assistant-welcome');
    if (welcome) welcome.remove();
    
    const messageDiv = document.createElement('div');
    messageDiv.className = isUser ? 'user-msg' : 'ai-msg';
    
    messageDiv.innerHTML = `
        <div class="msg-avatar">${isUser ? 'ðŸ‘¤' : 'ðŸ—ï¸'}</div>
        <div class="msg-content">${content}</div>
    `;
    
    messagesDiv.appendChild(messageDiv);
    messagesDiv.scrollTop = messagesDiv.scrollHeight;
}

function showTyping() {
    const messagesDiv = document.getElementById('aiAssistantMessages');
    const typingDiv = document.createElement('div');
    typingDiv.className = 'typing-indicator-wrapper';
    typingDiv.id = 'typingIndicator';
    typingDiv.innerHTML = `
        <div class="msg-avatar">ðŸ—ï¸</div>
        <div class="typing-indicator">
            <div class="typing-dot"></div>
            <div class="typing-dot"></div>
            <div class="typing-dot"></div>
        </div>
    `;
    messagesDiv.appendChild(typingDiv);
    messagesDiv.scrollTop = messagesDiv.scrollHeight;
}

function hideTyping() {
    const typing = document.getElementById('typingIndicator');
    if (typing) typing.remove();
}

function sendAiAssistantMessage() {
    const input = document.getElementById('aiAssistantInput');
    const message = input.value.trim();
    
    if (!message) return;
    
    addAiMessage(message, true);
    input.value = '';
    
    showTyping();
    
    // KonuÅŸma geÃ§miÅŸine ekle
    aiConversationHistory.push({
        role: 'user',
        content: message,
        timestamp: new Date().toISOString()
    });
    
    setTimeout(() => {
        const response = getSmartResponse(message);
        hideTyping();
        addAiMessage(response, false);
        
        // CevabÄ± geÃ§miÅŸe ekle
        aiConversationHistory.push({
            role: 'assistant',
            content: response,
            timestamp: new Date().toISOString()
        });
        
        // localStorage'a kaydet
        localStorage.setItem('cee_ai_history', JSON.stringify(aiConversationHistory.slice(-50))); // Son 50 mesaj
        
        // Bilgi tabanÄ±nÄ± gÃ¼ncelle (Ã¶ÄŸrenme)
        updateKnowledgeBase(message, response);
    }, 800);
}

function getSmartResponse(message) {
    const lowerMsg = message.toLowerCase();
    
    // Ã–nce Ã¶ÄŸrenilmiÅŸ bilgilere bak
    for (let key in aiKnowledgeBase) {
        if (lowerMsg.includes(key.toLowerCase())) {
            return aiKnowledgeBase[key];
        }
    }
    
    // Mevzuat bilgileri
    if (lowerMsg.includes('piyes') || lowerMsg.includes('Ã¶lÃ§ek') || lowerMsg.includes('Ã§izim')) {
        return `<strong>ðŸ“ Piyes Ã–lÃ§Ã¼leri</strong><br><br>
<strong>Vaziyet PlanÄ±:</strong> 1/500, 1/1000, 1/2000<br>
<strong>Kat PlanlarÄ±:</strong> 1/50 (detaylÄ±), 1/100 (standart)<br>
<strong>Kesit & GÃ¶rÃ¼nÃ¼ÅŸ:</strong> 1/50, 1/100<br>
<strong>Detaylar:</strong> 1/1, 1/2, 1/5, 1/10, 1/20<br><br>
<strong>KaÄŸÄ±t BoyutlarÄ±:</strong><br>
A0: 841 x 1189 mm | A1: 594 x 841 mm<br>
A2: 420 x 594 mm | A3: 297 x 420 mm<br><br>
Profesyonel Ã§izim hizmetlerimiz iÃ§in: <strong>(0537) 327 87 65</strong>`;
    }
    
    else if (lowerMsg.includes('yangÄ±n') || lowerMsg.includes('yangin')) {
        return `<strong>ðŸ”¥ YangÄ±n YÃ¶netmeliÄŸi</strong><br><br>
<strong>YangÄ±n Merdiveni:</strong><br>
â€¢ Zorunluluk: 4+ katlÄ± binalar<br>
â€¢ GeniÅŸlik: Min. 1.20m (konut), 1.50m (kamu)<br>
â€¢ Basamak: 28cm geniÅŸlik, Max 19cm yÃ¼kseklik<br>
â€¢ Koridor: Min. 1.20m<br>
â€¢ KapÄ±: EI 60 (60 dk dayanÄ±mlÄ±)<br><br>
<strong>YangÄ±n YalÄ±tÄ±mÄ±:</strong><br>
Bodrum: EI 120 | Kat arasÄ±: EI 60<br><br>
DetaylÄ± yangÄ±n raporu: <strong>(0537) 327 87 65</strong>`;
    }
    
    else if (lowerMsg.includes('merdiven') && !lowerMsg.includes('yangÄ±n')) {
        return `<strong>ðŸªœ Merdiven Ã–lÃ§Ã¼leri</strong><br><br>
<strong>Konut:</strong><br>
â€¢ Basamak geniÅŸliÄŸi: Min. 28 cm<br>
â€¢ Basamak yÃ¼ksekliÄŸi: Max. 18 cm<br>
â€¢ Merdiven geniÅŸliÄŸi: Min. 90 cm<br>
â€¢ <strong>FormÃ¼l:</strong> 2h + g = 60-65 cm<br><br>
<strong>Kamu YapÄ±larÄ±:</strong><br>
â€¢ Basamak geniÅŸliÄŸi: Min. 30 cm<br>
â€¢ Basamak yÃ¼ksekliÄŸi: Max. 17 cm<br>
â€¢ Merdiven geniÅŸliÄŸi: Min. 1.50 m<br><br>
<strong>Korkuluk:</strong> Min. 90 cm yÃ¼kseklik<br><br>
Merdiven tasarÄ±mÄ±: <strong>(0537) 327 87 65</strong>`;
    }
    
    else if (lowerMsg.includes('emsal')) {
        return `<strong>ðŸ“Š Emsal Nedir?</strong><br><br>
Emsal = Toplam Ä°nÅŸaat AlanÄ± / Arsa AlanÄ±<br><br>
<strong>Ã–rnek:</strong><br>
500 mÂ² arsa Ã— 1.5 emsal = <strong>750 mÂ² inÅŸaat</strong><br><br>
<strong>Ã–nemli:</strong><br>
â€¢ Bodrum katlar emsale dahil deÄŸil<br>
â€¢ Her bÃ¶lgede farklÄ±<br>
â€¢ Ä°mar planÄ±nda belirtilir<br><br>
ArsanÄ±zÄ±n emsal hesabÄ±: <strong>(0537) 327 87 65</strong>`;
    }
    
    else if (lowerMsg.includes('sÄ±ÄŸÄ±nak') || lowerMsg.includes('siginak')) {
        return `<strong>ðŸ›¡ï¸ SÄ±ÄŸÄ±nak YÃ¶netmeliÄŸi</strong><br><br>
<strong>Zorunluluk:</strong> 2000 mÂ² Ã¼zeri binalar<br><br>
<strong>Teknik Ã–zellikler:</strong><br>
â€¢ Alan: Ä°nÅŸaat alanÄ±nÄ±n %2'si<br>
â€¢ Tavan: Min. 2.20 m<br>
â€¢ Duvar: Min. 30 cm betonarme<br>
â€¢ KapÄ±: Gaz sÄ±zdÄ±rmaz<br>
â€¢ HavalandÄ±rma: Ã–zel sistem<br><br>
SÄ±ÄŸÄ±nak projesi: <strong>(0537) 327 87 65</strong>`;
    }
    
    else if (lowerMsg.includes('Ä±sÄ±') || lowerMsg.includes('yalÄ±t') || lowerMsg.includes('bep')) {
        return `<strong>ðŸ  IsÄ± YalÄ±tÄ±mÄ±</strong><br><br>
<strong>Duvar:</strong> Min. 5 cm XPS/EPS<br>
<strong>Ã‡atÄ±:</strong> Min. 10 cm<br>
<strong>Taban:</strong> Min. 5 cm (zemine temas)<br>
<strong>Cam:</strong> Ã‡ift cam, U â‰¤ 1.8 W/mÂ²K<br><br>
<strong>BEP Belgesi:</strong> Zorunlu (2011'den itibaren)<br><br>
BEP belgesi dÃ¼zenleme: <strong>(0537) 327 87 65</strong>`;
    }
    
    else if (lowerMsg.includes('otopark') || lowerMsg.includes('park')) {
        return `<strong>ðŸš— Otopark Ã–lÃ§Ã¼leri</strong><br><br>
<strong>AraÃ§ Yeri:</strong> 2.30 x 5.00 m<br>
<strong>Engelli:</strong> 3.70 x 5.00 m<br>
<strong>Koridor:</strong> Ä°ki yÃ¶n 6m, Tek yÃ¶n 3.5m<br>
<strong>Tavan:</strong> Min. 2.30 m<br><br>
<strong>HavalandÄ±rma:</strong> KapalÄ± otoparklarda mekanik zorunlu<br><br>
Otopark projesi: <strong>(0537) 327 87 65</strong>`;
    }
    
    else if (lowerMsg.includes('mutfak')) {
        return `<strong>ðŸ³ Mutfak TasarÄ±mÄ±</strong><br><br>
<strong>Ã‡alÄ±ÅŸma ÃœÃ§geni:</strong> 4-6 m (Ocak-Lavabo-BuzdolabÄ±)<br>
<strong>Tezgah:</strong> 85-90 cm yÃ¼kseklik<br>
<strong>Ãœst Dolap:</strong> Min. 55 cm tezgah Ã¼stÃ¼<br>
<strong>Koridor:</strong> Min. 120 cm<br>
<strong>Davlumbaz:</strong> 65-75 cm ocak Ã¼stÃ¼<br><br>
Mutfak tasarÄ±m & iÃ§ mimari: <strong>(0537) 327 87 65</strong>`;
    }
    
    else if (lowerMsg.includes('tuvalet') || lowerMsg.includes('wc') || lowerMsg.includes('banyo')) {
        return `<strong>ðŸš½ Tuvalet/Banyo Ã–lÃ§Ã¼leri</strong><br><br>
<strong>Klozet Kabini:</strong> Min. 80 x 120 cm<br>
<strong>Lavabo:</strong> 85 cm yÃ¼kseklik<br>
<strong>Engelli WC:</strong> Min. 150 x 220 cm<br>
<strong>DuÅŸ:</strong> Min. 80 x 80 cm<br>
<strong>KÃ¼vet:</strong> 70 x 150 cm<br><br>
Banyo tasarÄ±mÄ±: <strong>(0537) 327 87 65</strong>`;
    }
    
    else if (lowerMsg.includes('kapÄ±') || lowerMsg.includes('kapi') || lowerMsg.includes('pencere')) {
        return `<strong>ðŸšª KapÄ± & Pencere</strong><br><br>
<strong>Standart KapÄ±:</strong> 80-90 cm x 210 cm<br>
<strong>Ana GiriÅŸ:</strong> Min. 120 cm<br>
<strong>Engelli:</strong> Min. 90 cm net<br><br>
<strong>Pencere Parapet:</strong> 90-110 cm<br>
<strong>HavalandÄ±rma:</strong> Oda alanÄ±nÄ±n 1/8'i<br><br>
KapÄ±-pencere seÃ§imi: <strong>(0537) 327 87 65</strong>`;
    }
    
    else if (lowerMsg.includes('taks') || lowerMsg.includes('kaks')) {
        return `<strong>ðŸ“ TAKS & KAKS</strong><br><br>
<strong>TAKS (Taban AlanÄ± KatsayÄ±sÄ±):</strong><br>
Taban AlanÄ± / Arsa AlanÄ±<br>
Ã–rnek: 500mÂ² Ã— 0.40 = 200mÂ²<br><br>
<strong>KAKS (Kat AlanÄ± KatsayÄ±sÄ±):</strong><br>
Toplam Kat AlanÄ± / Arsa AlanÄ±<br>
(KAKS = Emsal)<br><br>
Genelde TAKS: 0.30-0.40 arasÄ±<br><br>
Ä°mar analizi: <strong>(0537) 327 87 65</strong>`;
    }
    
    else if (lowerMsg.includes('ruhsat')) {
        return `<strong>ðŸ“‹ Ä°nÅŸaat RuhsatÄ±</strong><br><br>
<strong>Gerekli Belgeler:</strong><br>
1. Tapu fotokopisi<br>
2. Ä°mar durumu<br>
3. Mimari proje (3 takÄ±m)<br>
4. Statik proje<br>
5. Elektrik + Mekanik proje<br>
6. Zemin etÃ¼dÃ¼<br>
7. Aplikasyon krokisi<br><br>
<strong>SÃ¼re:</strong> 2-4 ay<br><br>
Ruhsat iÅŸlemleriniz iÃ§in: <strong>(0537) 327 87 65</strong>`;
    }
    
    else if (lowerMsg.includes('asansÃ¶r') || lowerMsg.includes('asansor')) {
        return `<strong>ðŸ›— AsansÃ¶r YÃ¶netmeliÄŸi</strong><br><br>
<strong>Zorunluluk:</strong> 4+ katlÄ± binalar<br>
<strong>Kapasite:</strong> 630 kg (8 kiÅŸi)<br>
<strong>Kabin:</strong> Min. 1.00 x 1.25 m<br>
<strong>Engelli:</strong> 1.10 x 1.40 m<br><br>
AsansÃ¶r planlamasÄ±: <strong>(0537) 327 87 65</strong>`;
    }
    
    else if (lowerMsg.includes('merhaba') || lowerMsg.includes('selam') || lowerMsg.includes('hi')) {
        return `<strong>Merhaba! ðŸ‘‹</strong><br><br>
Ben <strong>CEE MÄ°MARLIK</strong>'Ä±n mÃ¼ÅŸteri temsilcisiyim. Size mimarlÄ±k ve yapÄ± mevzuatÄ± konularÄ±nda yardÄ±mcÄ± olabilirim.<br><br>
<strong>UzmanlÄ±k alanlarÄ±m:</strong><br>
â€¢ Ä°mar mevzuatÄ± (Emsal, TAKS, KAKS)<br>
â€¢ YangÄ±n gÃ¼venliÄŸi<br>
â€¢ Merdiven Ã¶lÃ§Ã¼leri<br>
â€¢ IsÄ± yalÄ±tÄ±mÄ± & BEP<br>
â€¢ Otopark, mutfak, banyo tasarÄ±mÄ±<br>
â€¢ Ä°nÅŸaat ruhsatÄ± sÃ¼reÃ§leri<br><br>
Sormak istediÄŸiniz bir konu var mÄ±? ðŸ—ï¸`;
    }
    
    else {
        return `AnladÄ±m. Bu konuda size daha detaylÄ± bilgi vermek iÃ§in <strong>uzman ekibimizle</strong> gÃ¶rÃ¼ÅŸmenizi Ã¶neririm.<br><br>
<strong>ðŸ“ž CEE MÄ°MARLIK</strong><br>
Telefon: <strong>(0537) 327 87 65</strong><br>
Adres: Hatip, Ali Osman Ã‡elebi Blv. No:52 A Blok Kat 1 No:3, 59860 Ã‡orlu/TekirdaÄŸ<br><br>
<strong>Hizmetlerimiz:</strong><br>
â€¢ Mimari Proje & Ä°Ã§ Mimari<br>
â€¢ YapÄ± RuhsatÄ± Ä°ÅŸlemleri<br>
â€¢ 3D GÃ¶rselleÅŸtirme<br>
â€¢ Åžantiye YÃ¶netimi<br><br>
Size en kÄ±sa sÃ¼rede dÃ¶nÃ¼ÅŸ yapacaÄŸÄ±z! ðŸ—ï¸`;
    }
}

function updateKnowledgeBase(question, answer) {
    // Basit anahtar kelime Ã§Ä±karma
    const keywords = question.toLowerCase()
        .split(' ')
        .filter(word => word.length > 3);
    
    // Her anahtar kelime iÃ§in cevabÄ± kaydet
    keywords.forEach(keyword => {
        if (!aiKnowledgeBase[keyword]) {
            aiKnowledgeBase[keyword] = answer;
        }
    });
    
    // localStorage'a kaydet
    localStorage.setItem('cee_ai_knowledge', JSON.stringify(aiKnowledgeBase));
}

// BaloncuÄŸu 3 saniye sonra gÃ¶ster
function showWhatsAppNotification() {
    setTimeout(() => {
        const notification = document.getElementById('whatsappNotification');
        if (notification) {
            notification.style.display = 'block';
        }
    }, 3000);
}

// Scroll to top
function scrollToTop() {
    window.scrollTo({
        top: 0,
        behavior: 'smooth'
    });
}

// Scroll to top button visibility
window.addEventListener('scroll', () => {
    const scrollTop = document.getElementById('scrollTop');
    if (scrollTop) {
        if (window.pageYOffset > 300) {
            scrollTop.classList.add('visible');
        } else {
            scrollTop.classList.remove('visible');
        }
    }
});

function sendWhatsApp(e) {
    e.preventDefault();
    
    const name = document.getElementById('fullName').value.trim();
    const phone = document.getElementById('phone').value.trim();
    const message = document.getElementById('message').value.trim();
    
    // Validasyon
    if (!name || name.length < 2) {
        alert('âš ï¸ LÃ¼tfen geÃ§erli bir isim girin!');
        return;
    }
    
    if (!phone || phone.length < 10) {
        alert('âš ï¸ LÃ¼tfen geÃ§erli bir telefon numarasÄ± girin!');
        return;
    }
    
    if (!message || message.length < 5) {
        alert('âš ï¸ LÃ¼tfen en az 5 karakter mesaj yazÄ±n!');
        return;
    }
    
    const ada = document.getElementById('ada').value.trim();
    const parsel = document.getElementById('parsel').value.trim();
    const il = document.getElementById('il').value.trim();
    const ilce = document.getElementById('ilce').value.trim();
    
    let waMessage = `Merhaba, ben ${name}.\n`;
    if (ada) waMessage += `Ada: ${ada}\n`;
    if (parsel) waMessage += `Parsel: ${parsel}\n`;
    if (il) waMessage += `Ä°l: ${il}\n`;
    if (ilce) waMessage += `Ä°lÃ§e: ${ilce}\n`;
    waMessage += `\nMesajÄ±m:\n${message}`;
    
    const waUrl = `https://wa.me/905XXXXXXXXX?text=${encodeURIComponent(waMessage)}`;
    window.open(waUrl, '_blank');
    closeWhatsApp();
    e.target.reset();
}

function saveMessage() {
    const name = document.getElementById('fullName').value.trim();
    const phone = document.getElementById('phone').value.trim();
    const message = document.getElementById('message').value.trim();
    
    // Validasyon
    if (!name || name.length < 2) {
        showError('LÃ¼tfen geÃ§erli bir isim girin!');
        return;
    }
    
    if (!phone || phone.length < 10) {
        showError('LÃ¼tfen geÃ§erli bir telefon numarasÄ± girin!');
        return;
    }
    
    if (!message || message.length < 5) {
        showError('LÃ¼tfen en az 5 karakter mesaj yazÄ±n!');
        return;
    }
    
    const formData = {
        id: 'msg-' + Date.now(),
        name: name,
        phone: phone,
        ada: document.getElementById('ada').value.trim(),
        parsel: document.getElementById('parsel').value.trim(),
        il: document.getElementById('il').value.trim(),
        ilce: document.getElementById('ilce').value.trim(),
        message: message,
        date: new Date().toISOString(),
        read: false
    };
    
    try {
        const messages = JSON.parse(localStorage.getItem('cee_messages') || '[]');
        messages.unshift(formData);
        localStorage.setItem('cee_messages', JSON.stringify(messages));
        showSuccess('MesajÄ±nÄ±z kaydedildi! En kÄ±sa sÃ¼rede size dÃ¶nÃ¼ÅŸ yapacaÄŸÄ±z.');
        // closeWhatsApp(); // Not needed anymore
        const form = document.querySelector('#iletisim form');
        if (form) form.reset();
    } catch (e) {
        showError('Mesaj kaydedilemedi! LÃ¼tfen tekrar deneyin.');
        }
}

function goToAdmin() {
    const confirm = prompt('Admin paneline gitmek için "admin" yazın:');
    if (confirm && confirm.toLowerCase() === 'admin') {
        window.location.href = 'admin.html';
    }
}

window.addEventListener('DOMContentLoaded', init);
// UNIFIED CHAT SYSTEM
let chatMenuOpen = false;
let aiChatOpen = false;

function toggleChatMenu() {
    const menu = document.getElementById('chatMenu');
    const btn = document.getElementById('unifiedChatBtn');
    
    chatMenuOpen = !chatMenuOpen;
    
    if (chatMenuOpen) {
        menu.classList.add('active');
        btn.style.transform = 'rotate(45deg)';
    } else {
        menu.classList.remove('active');
        btn.style.transform = 'rotate(0deg)';
    }
}

function openAiAssistant(event) {
    // Event varsa prevent default
    if (event) {
        event.preventDefault();
        event.stopPropagation();
    }
    
    // MenÃ¼yÃ¼ kapat
    chatMenuOpen = false;
    const menu = document.getElementById('chatMenu');
    const btn = document.getElementById('unifiedChatBtn');
    
    if (menu) menu.classList.remove('active');
    if (btn) btn.style.transform = 'rotate(0deg)';
    
    // AI Panel'i aÃ§
    const panel = document.getElementById('aiAssistantPanel');
    if (panel) {
        panel.classList.add('active');
        // Input'a focus
        setTimeout(() => {
            const input = document.getElementById('aiPanelInput');
            if (input) input.focus();
        }, 300);
    }
}

function closeAiPanel() {
    const panel = document.getElementById('aiAssistantPanel');
    if (panel) {
        panel.classList.remove('active');
    }
}

function askPanelQuestion(question) {
    document.getElementById('aiPanelInput').value = question;
    sendPanelMessage();
}

let aiPanelHistory = [];

function sendPanelMessage() {
    const input = document.getElementById('aiPanelInput');
    const message = input.value.trim();
    
    if (!message) return;
    
    // KullanÄ±cÄ± mesajÄ±nÄ± ekle
    addPanelMessage(message, 'user');
    input.value = '';
    
    // Typing gÃ¶ster
    showPanelTyping();
    
    // CevabÄ± oluÅŸtur
    setTimeout(() => {
        const response = getSmartResponse(message);
        hidePanelTyping();
        addPanelMessage(response, 'assistant');
        
        // GeÃ§miÅŸe ekle (Ã¶ÄŸrenme iÃ§in)
        aiPanelHistory.push({
            question: message,
            answer: response,
            timestamp: Date.now()
        });
        
        // Local storage'a kaydet
        try {
            localStorage.setItem('cee_ai_history', JSON.stringify(aiPanelHistory.slice(-50)));
        } catch(e) {}
    }, 800);
}

function addPanelMessage(text, type) {
    const container = document.getElementById('aiPanelMessages');
    const messageDiv = document.createElement('div');
    messageDiv.className = `ai-panel-message ${type}`;
    
    const bubbleDiv = document.createElement('div');
    bubbleDiv.className = 'ai-panel-bubble';
    bubbleDiv.innerHTML = text;
    
    messageDiv.appendChild(bubbleDiv);
    container.appendChild(messageDiv);
    
    // Scroll to bottom
    container.scrollTop = container.scrollHeight;
}

function showPanelTyping() {
    const container = document.getElementById('aiPanelMessages');
    const typingDiv = document.createElement('div');
    typingDiv.className = 'ai-panel-message assistant';
    typingDiv.id = 'aiPanelTyping';
    typingDiv.innerHTML = `
        <div class="ai-panel-typing">
            <div class="ai-panel-typing-dot"></div>
            <div class="ai-panel-typing-dot"></div>
            <div class="ai-panel-typing-dot"></div>
        </div>
    `;
    container.appendChild(typingDiv);
    container.scrollTop = container.scrollHeight;
}

function hidePanelTyping() {
    const typing = document.getElementById('aiPanelTyping');
    if (typing) typing.remove();
}

function getSmartResponse(message) {
    const lowerMsg = message.toLowerCase();
    
    // AKILLI ARAMA - TÃ¼m anahtar kelimeleri kontrol et
    const keywords = {
        piyes: ['piyes', 'piyÃ¨s', 'Ã§izim Ã¶lÃ§Ã¼', 'teknik Ã§izim', 'mimari Ã§izim', 'proje Ã¶lÃ§ek'],
        yangin: ['yangÄ±n', 'yangin', 'fire', 'yangÄ±n merdiven', 'yangÄ±n kapÄ±', 'yangÄ±n yalÄ±tÄ±m'],
        merdiven: ['merdiven', 'stairs', 'basamak', 'rÄ±ht', 'riht', 'step'],
        emsal: ['emsal', 'kaks', 'inÅŸaat alanÄ±', 'yapÄ± yoÄŸunluk'],
        taks: ['taks', 'taban alan', 'zemin kat alan'],
        siginak: ['sÄ±ÄŸÄ±nak', 'siginak', 'shelter', 'hava sÄ±ÄŸÄ±naÄŸÄ±'],
        asansor: ['asansÃ¶r', 'asansor', 'lift', 'elevator'],
        imar: ['imar', 'imar plan', 'nazÄ±m', 'uygulama planÄ±'],
        ruhsat: ['ruhsat', 'izin', 'yapÄ± ruhsat', 'inÅŸaat izin', 'belediye izin'],
        otopark: ['otopark', 'park', 'parking', 'araÃ§ park', 'garaj'],
        mutfak: ['mutfak', 'kitchen', 'tezgah', 'dolap'],
        banyo: ['banyo', 'tuvalet', 'wc', 'lavabo', 'klozet'],
        kapi: ['kapÄ±', 'kapi', 'door', 'giriÅŸ kapÄ±'],
        pencere: ['pencere', 'window', 'cam', 'doÄŸrama'],
        yalitim: ['yalÄ±tÄ±m', 'yalit', 'Ä±sÄ± yalÄ±t', 'ses yalÄ±t', 'nem yalÄ±t', 'bep'],
        deprem: ['deprem', 'earthquake', 'tbdy', 'zemin etÃ¼d'],
        cati: ['Ã§atÄ±', 'cati', 'roof', 'dam', 'kiremit'],
        temel: ['temel', 'foundation', 'radye', 'kazÄ±k'],
        celik: ['Ã§elik', 'celik', 'steel', 'demir', 'karkas'],
        beton: ['beton', 'concrete', 'betonarme', 'c25', 'c30'],
        cephe: ['cephe', 'facade', 'dÄ±ÅŸ cephe', 'giydirme cephe'],
        tesisat: ['tesisat', 'mekanik', 'elektrik', 'hidrofor'],
        proje: ['proje', 'plan', 'tasarÄ±m', 'dizayn']
    };
    
    // Hangi kategori?
    let matchedCategory = null;
    for (const [category, words] of Object.entries(keywords)) {
        if (words.some(word => lowerMsg.includes(word))) {
            matchedCategory = category;
            break;
        }
    }
    
    // Telefon numarasÄ± tÄ±klanabilir
    const phoneLink = '<a href="tel:+905373278765" style="color: #d4af37; font-weight: 600; text-decoration: none; border-bottom: 2px solid #d4af37;">(0537) 327 87 65</a>';
    
    // Kategoriye gÃ¶re cevap
    if (matchedCategory === 'piyes') {
        return `<strong>ðŸ“ Piyes Ã–lÃ§Ã¼leri (Mimari Ã‡izim)</strong><br><br>
<strong>Vaziyet PlanÄ±:</strong> 1/500, 1/1000, 1/2000<br>
<strong>Kat PlanlarÄ±:</strong> 1/50 (detaylÄ±), 1/100 (standart)<br>
<strong>Kesit & GÃ¶rÃ¼nÃ¼ÅŸ:</strong> 1/50, 1/100<br>
<strong>Detaylar:</strong> 1/1, 1/2, 1/5, 1/10, 1/20<br><br>
<strong>KaÄŸÄ±t BoyutlarÄ±:</strong><br>
â€¢ A0: 841 x 1189 mm<br>
â€¢ A1: 594 x 841 mm<br>
â€¢ A2: 420 x 594 mm<br>
â€¢ A3: 297 x 420 mm<br><br>
Profesyonel Ã§izim hizmeti: ${phoneLink}`;
    }
    
    else if (matchedCategory === 'yangin') {
        return `<strong>ðŸ”¥ YangÄ±n YÃ¶netmeliÄŸi</strong><br><br>
<strong>YangÄ±n Merdiveni:</strong><br>
â€¢ Zorunluluk: 4+ katlÄ± binalar<br>
â€¢ GeniÅŸlik: Min. 1.20 m (konut), 1.50 m (kamu)<br>
â€¢ Basamak: 28 cm geniÅŸlik, max 19 cm yÃ¼kseklik<br>
â€¢ KapÄ±: EI 60 (60 dk yangÄ±n dayanÄ±mlÄ±)<br><br>
<strong>YangÄ±n YalÄ±tÄ±mÄ±:</strong><br>
â€¢ Bodrum: EI 120<br>
â€¢ Kat arasÄ±: EI 60<br>
â€¢ Cephe: E 30-60<br><br>
YangÄ±n projesi iÃ§in: ${phoneLink}`;
    }
    
    else if (matchedCategory === 'merdiven') {
        return `<strong>ðŸªœ Merdiven Ã–lÃ§Ã¼leri</strong><br><br>
<strong>KONUT:</strong><br>
â€¢ Basamak geniÅŸliÄŸi: Min. 28 cm<br>
â€¢ YÃ¼kseklik: Max. 18 cm<br>
â€¢ Merdiven geniÅŸliÄŸi: Min. 90 cm<br>
â€¢ FormÃ¼l: 2h + g = 60-65 cm âœ“<br><br>
<strong>KAMU YAPILARI:</strong><br>
â€¢ Basamak geniÅŸliÄŸi: Min. 30 cm<br>
â€¢ YÃ¼kseklik: Max. 17 cm<br>
â€¢ GeniÅŸlik: Min. 1.50 m<br><br>
<strong>Korkuluk:</strong> Min. 90 cm<br><br>
Merdiven projesi: ${phoneLink}`;
    }
    
    else if (matchedCategory === 'emsal') {
        return `<strong>ðŸ“Š Emsal (KAKS)</strong><br><br>
<strong>TanÄ±m:</strong> Toplam Ä°nÅŸaat AlanÄ± / Arsa AlanÄ±<br><br>
<strong>Ã–rnek:</strong><br>
â€¢ 500 mÂ² arsa<br>
â€¢ 1.5 emsal<br>
â€¢ <strong>Toplam Ä°nÅŸaat: 750 mÂ²</strong><br><br>
<strong>Ã–nemli:</strong><br>
â€¢ Bodrum katlar emsale dahil DEÃ„Å¾Ä°L<br>
â€¢ Her bÃ¶lgede farklÄ±dÄ±r<br>
â€¢ Ä°mar planÄ±nda belirtilir<br><br>
Emsal hesabÄ±: ${phoneLink}`;
    }
    
    else if (matchedCategory === 'siginak') {
        return `<strong>ðŸ›¡ï¸ SÄ±ÄŸÄ±nak YÃ¶netmeliÄŸi</strong><br><br>
<strong>Zorunluluk:</strong> 2000 mÂ² ve Ã¼zeri<br><br>
<strong>Teknik Ã–zellikler:</strong><br>
â€¢ Alan: Ä°nÅŸaat alanÄ±nÄ±n %2'si<br>
â€¢ Tavan: Min. 2.20 m<br>
â€¢ Duvar: Min. 30 cm betonarme<br>
â€¢ KapÄ±: Gaz sÄ±zdÄ±rmaz<br>
â€¢ HavalandÄ±rma: Ã–zel sistem<br><br>
SÄ±ÄŸÄ±nak projesi: ${phoneLink}`;
    }
    
    else if (matchedCategory === 'otopark') {
        return `<strong>ðŸš— Otopark YÃ¶netmeliÄŸi</strong><br><br>
<strong>AraÃ§ Yeri:</strong><br>
â€¢ Standart: 2.30 x 5.00 m<br>
â€¢ Engelli: 3.70 x 5.00 m<br><br>
<strong>Koridor:</strong><br>
â€¢ Ä°ki yÃ¶nlÃ¼: Min. 6.00 m<br>
â€¢ Tek yÃ¶nlÃ¼: Min. 3.50 m<br><br>
<strong>Tavan:</strong> Min. 2.30 m<br>
<strong>HavalandÄ±rma:</strong> Mekanik (kapalÄ±)<br><br>
Otopark projesi: ${phoneLink}`;
    }
    
    else if (matchedCategory === 'yalitim') {
        return `<strong>ðŸ  IsÄ± YalÄ±tÄ±mÄ± & BEP</strong><br><br>
<strong>Duvar:</strong> Min. 5 cm XPS/EPS<br>
<strong>Ã‡atÄ±:</strong> Min. 10 cm<br>
<strong>Taban:</strong> Min. 5 cm<br>
<strong>Cam:</strong> Ã‡ift cam, Uâ‰¤1.8<br><br>
<strong>BEP Belgesi:</strong><br>
â€¢ 2011'den beri zorunlu<br>
â€¢ Enerji sÄ±nÄ±fÄ±: A-G arasÄ±<br><br>
BEP belgesi dÃ¼zenleme: ${phoneLink}`;
    }
    
    else if (matchedCategory === 'ruhsat') {
        return `<strong>ðŸ“‹ Ä°nÅŸaat RuhsatÄ±</strong><br><br>
<strong>Gerekli Belgeler:</strong><br>
â€¢ Tapu<br>
â€¢ Ä°mar durumu<br>
â€¢ Mimari proje (3 takÄ±m)<br>
â€¢ Statik proje<br>
â€¢ Elektrik projesi<br>
â€¢ Mekanik proje<br>
â€¢ Zemin etÃ¼dÃ¼<br>
â€¢ Aplikasyon<br><br>
<strong>SÃ¼re:</strong> 2-4 ay<br><br>
Ruhsat hizmeti: ${phoneLink}`;
    }
    
    else if (matchedCategory === 'taks') {
        return `<strong>ðŸ“ TAKS (Taban AlanÄ± KatsayÄ±sÄ±)</strong><br><br>
<strong>FormÃ¼l:</strong> Taban AlanÄ± / Arsa AlanÄ±<br><br>
<strong>Ã–rnek:</strong><br>
â€¢ 500 mÂ² arsa<br>
â€¢ TAKS: 0.40<br>
â€¢ <strong>Taban AlanÄ±: 200 mÂ²</strong><br><br>
<strong>Tipik DeÄŸerler:</strong><br>
â€¢ Konut: 0.30 - 0.40<br>
â€¢ Ticaret: 0.60 - 0.80<br><br>
Ä°mar durumu analizi: ${phoneLink}`;
    }
    
    else if (matchedCategory === 'deprem') {
        return `<strong>ðŸ—ï¸ Deprem YÃ¶netmeliÄŸi (TBDY 2018)</strong><br><br>
<strong>Zorunluluklar:</strong><br>
â€¢ Zemin etÃ¼dÃ¼ raporu<br>
â€¢ Deprem bÃ¶lgesi analizi<br>
â€¢ YapÄ± yÃ¼kseklik kontrolÃ¼<br>
â€¢ Betonarme yapÄ± sistemi<br><br>
<strong>Zemin SÄ±nÄ±flarÄ±:</strong><br>
â€¢ ZA: SaÄŸlam kayalar<br>
â€¢ ZB: Az ayrÄ±ÅŸmÄ±ÅŸ kayalar<br>
â€¢ ZC: SÄ±kÄ± kum/kil<br>
â€¢ ZD: GevÅŸek kum/kil<br>
â€¢ ZE: YumuÅŸak killer<br><br>
Deprem projesi: ${phoneLink}`;
    }
    
    else if (matchedCategory === 'cephe') {
        return `<strong>ðŸ¢ Cephe Sistemleri</strong><br><br>
<strong>Cephe TÃ¼rleri:</strong><br>
â€¢ Klasik sÄ±va cephe<br>
â€¢ Giydirme cephe<br>
â€¢ Cam cephe<br>
â€¢ Kompozit panel<br>
â€¢ DoÄŸal taÅŸ kaplama<br><br>
<strong>Ã–nemli Noktalar:</strong><br>
â€¢ IsÄ± yalÄ±tÄ±mÄ± zorunlu<br>
â€¢ YangÄ±n geÃ§iÅŸini Ã¶nleme<br>
â€¢ Su yalÄ±tÄ±mÄ± detaylarÄ±<br><br>
Cephe tasarÄ±mÄ±: ${phoneLink}`;
    }
    
    else if (matchedCategory === 'proje') {
        return `<strong>ðŸ“ Mimari Proje Hizmetleri</strong><br><br>
<strong>Proje AÅŸamalarÄ±:</strong><br>
1. Ã–n gÃ¶rÃ¼ÅŸme & keÅŸif<br>
2. Konsept tasarÄ±m<br>
3. Ã–n proje<br>
4. Kesin proje<br>
5. Uygulama projesi<br>
6. Ruhsat iÅŸlemleri<br><br>
<strong>Hizmetlerimiz:</strong><br>
â€¢ Konut projeleri<br>
â€¢ Villa projeleri<br>
â€¢ Ticari yapÄ±lar<br>
â€¢ Ä°Ã§ mimari<br>
â€¢ 3D gÃ¶rselleÅŸtirme<br><br>
Proje teklifi: ${phoneLink}`;
    }
    
    // Genel mimarlÄ±k sorusu
    else if (lowerMsg.includes('fiyat') || lowerMsg.includes('Ã¼cret') || lowerMsg.includes('ne kadar')) {
        return `<strong>ðŸ’° Fiyat Bilgisi</strong><br><br>
Projelerimiz iÃ§in fiyat, projenizin Ã¶zelliklerine gÃ¶re deÄŸiÅŸmektedir:<br><br>
â€¢ Proje tÃ¼rÃ¼ (konut, villa, ticari)<br>
â€¢ Alan bÃ¼yÃ¼klÃ¼ÄŸÃ¼<br>
â€¢ Detay seviyesi<br>
â€¢ Ek hizmetler (3D, ruhsat, vb.)<br><br>
<strong>DetaylÄ± fiyat teklifi iÃ§in:</strong><br>
ðŸ“ž ${phoneLink}<br>
ðŸ“ Hatip, Ali Osman Ã‡elebi Blv. No:52 A Blok Kat 1 No:3, 59860 Ã‡orlu/TekirdaÄŸ`;
    }
    
    else if (lowerMsg.includes('merhaba') || lowerMsg.includes('selam') || lowerMsg.includes('hello') || lowerMsg.includes('hi')) {
        return `Merhaba! ðŸ‘‹<br><br>
Size nasÄ±l yardÄ±mcÄ± olabilirim?<br><br>
<strong>Sorabilecekleriniz:</strong><br>
â€¢ Piyes Ã¶lÃ§Ã¼leri<br>
â€¢ YangÄ±n, merdiven, otopark yÃ¶netmelikleri<br>
â€¢ Emsal, TAKS hesaplamalarÄ±<br>
â€¢ Ä°nÅŸaat ruhsatÄ±<br>
â€¢ Cephe sistemleri<br>
â€¢ Proje fiyatlarÄ±<br><br>
Sorunuzu yazabilirsiniz! ðŸ—ï¸`;
    }
    
    // Bilinmeyen soru - mÃ¼ÅŸteri temsilcisi modunda + Ã–Ã„Å¾RENME
    else {
        // Ã–ÄŸrenme sistemi - yeni kelimeler kaydet
        try {
            let unknownQuestions = JSON.parse(localStorage.getItem('cee_unknown_questions') || '[]');
            unknownQuestions.push({
                question: message,
                timestamp: Date.now(),
                keywords: lowerMsg.split(' ').filter(w => w.length > 3)
            });
            // Son 100 bilinmeyen soruyu sakla
            localStorage.setItem('cee_unknown_questions', JSON.stringify(unknownQuestions.slice(-100)));
        } catch(e) {}
        
        return `AnlÄ±yorum, <strong>"${message}"</strong> konusunda detaylÄ± bilgi almak istiyorsunuz.<br><br>
Bu konu iÃ§in uzman ekibimizle gÃ¶rÃ¼ÅŸmenizi Ã¶neriyorum. Size en doÄŸru ve gÃ¼ncel bilgiyi verebilirler.<br><br>
<strong>ðŸ“ž Hemen Ä°letiÅŸime GeÃ§in:</strong><br>
Telefon: ${phoneLink}<br>
Adres: Hatip, Ali Osman Ã‡elebi Blv. No:52 A Blok Kat 1 No:3, 59860 Ã‡orlu/TekirdaÄŸ<br><br>
BaÅŸka sorunuz varsa sormaktan Ã§ekinmeyin! ðŸ—ï¸`;
    }
}

// Sayfa yÃ¼klendiÄŸinde geÃ§miÅŸi yÃ¼kle
try {
    const savedHistory = localStorage.getItem('cee_ai_history');
    if (savedHistory) {
        aiPanelHistory = JSON.parse(savedHistory);
    }
} catch(e) {}

// FAQ TOGGLE
function toggleFaq(element) {
    const answer = element.querySelector('.faq-answer');
    const icon = element.querySelector('span');
    const isOpen = answer.style.maxHeight && answer.style.maxHeight !== '0px';
    
    // TÃ¼m FAQ'larÄ± kapat
    document.querySelectorAll('.faq-item').forEach(item => {
        item.querySelector('.faq-answer').style.maxHeight = '0';
        item.querySelector('span').textContent = '+';
        item.querySelector('span').style.transform = 'rotate(0deg)';
    });
    
    // EÄŸer kapalÄ±ysa aÃ§
    if (!isOpen) {
        answer.style.maxHeight = answer.scrollHeight + 'px';
        icon.textContent = 'âˆ’';
        icon.style.transform = 'rotate(180deg)';
    }
}

// SERVICE CARD HOVER
document.addEventListener('DOMContentLoaded', function() {
    const serviceCards = document.querySelectorAll('.service-card');
    serviceCards.forEach(card => {
        card.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-10px)';
            this.style.boxShadow = '0 10px 30px rgba(212, 175, 55, 0.2)';
        });
        card.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0)';
            this.style.boxShadow = '0 2px 10px rgba(0,0,0,0.05)';
        });
    });
    
    // REFERENCE CARD HOVER
    const referenceItems = document.querySelectorAll('.reference-item');
    referenceItems.forEach(item => {
        item.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-5px)';
            this.style.borderColor = '#d4af37';
            this.style.boxShadow = '0 5px 20px rgba(212, 175, 55, 0.15)';
        });
        item.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0)';
            this.style.borderColor = '#e0e0e0';
            this.style.boxShadow = 'none';
        });
    });
});

function openAiChat(event) {
    // Event varsa prevent default
    if (event) {
        event.preventDefault();
        event.stopPropagation();
    }
    
    // MenÃ¼yÃ¼ kapat
    chatMenuOpen = false;
    const menu = document.getElementById('chatMenu');
    const btn = document.getElementById('unifiedChatBtn');
    
    if (menu) menu.classList.remove('active');
    if (btn) btn.style.transform = 'rotate(0deg)';
    
    // AI Chat'i aÃ§
    const chatWindow = document.getElementById('aiChatWindow');
    if (chatWindow) {
        chatWindow.classList.add('active');
        aiChatOpen = true;
        
        // Ä°lk aÃ§Ä±lÄ±ÅŸta quick questions gÃ¶ster
        setTimeout(() => {
            const quickQ = document.getElementById('aiQuickQuestions');
            if (quickQ && quickQ.style.display === 'none') {
                quickQ.style.display = 'grid';
            }
        }, 100);
    }
}

function openWhatsAppDirect(event) {
    // Event varsa (click event) prevent default
    if (event) {
        event.preventDefault();
        event.stopPropagation();
    }
    
    // MenÃ¼yÃ¼ kapat
    chatMenuOpen = false;
    const menu = document.getElementById('chatMenu');
    const btn = document.getElementById('unifiedChatBtn');
    
    if (menu) menu.classList.remove('active');
    if (btn) btn.style.transform = 'rotate(0deg)';
    
    // WhatsApp'Ä± aÃ§
    const phoneNumber = '905551234567'; // Admin panelden ayarlanabilir
    const message = 'Merhaba! Web sitenizden ulaÅŸÄ±yorum. Mimari proje hakkÄ±nda bilgi almak istiyorum.';
    const url = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`;
    
    // Debug
    // Mobile ve desktop iÃ§in farklÄ± yÃ¶ntemler
    const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
    
    if (isMobile) {
        // Mobile: location.href kullan (daha gÃ¼venilir)
        window.location.href = url;
    } else {
        // Desktop: yeni tab
        window.open(url, '_blank');
    }
}

function toggleAiChat() {
    const window = document.getElementById('aiChatWindow');
    aiChatOpen = !aiChatOpen;
    
    if (aiChatOpen) {
        window.classList.add('active');
        setTimeout(() => {
            const quickQ = document.getElementById('aiQuickQuestions');
            if (quickQ && quickQ.style.display === 'none') {
                quickQ.style.display = 'grid';
            }
        }, 100);
    } else {
        window.classList.remove('active');
    }
}

// Close menu when clicking outside
document.addEventListener('click', function(event) {
    const btn = document.getElementById('unifiedChatBtn');
    const menu = document.getElementById('chatMenu');
    
    if (chatMenuOpen && btn && menu && !btn.contains(event.target) && !menu.contains(event.target)) {
        chatMenuOpen = false;
        menu.classList.remove('active');
        btn.style.transform = 'rotate(0deg)';
    }
});

// Mobile touch support
document.addEventListener('touchstart', function(event) {
    const btn = document.getElementById('unifiedChatBtn');
    const menu = document.getElementById('chatMenu');
    
    if (chatMenuOpen && btn && menu && !btn.contains(event.target) && !menu.contains(event.target)) {
        chatMenuOpen = false;
        menu.classList.remove('active');
        btn.style.transform = 'rotate(0deg)';
    }
}, { passive: true });

// AI CHAT ASSISTANT

function askQuestion(question) {
    // Quick question'Ä± gizle
    document.getElementById('aiQuickQuestions').style.display = 'none';
    
    // KullanÄ±cÄ± mesajÄ±nÄ± ekle
    addMessage(question, 'user');
    
    // AI cevabÄ±nÄ± gÃ¶ster
    setTimeout(() => {
        showTypingIndicator();
        setTimeout(() => {
            hideTypingIndicator();
            const answer = getAiAnswer(question);
            addMessage(answer, 'ai');
        }, 1500);
    }, 300);
}

function sendAiMessage() {
    const input = document.getElementById('aiChatInput');
    const question = input.value.trim();
    
    if (!question) return;
    
    // Quick questions'Ä± gizle
    const quickQ = document.getElementById('aiQuickQuestions');
    if (quickQ) quickQ.style.display = 'none';
    
    // MesajÄ± ekle
    addMessage(question, 'user');
    input.value = '';
    
    // AI cevabÄ±nÄ± gÃ¶ster
    setTimeout(() => {
        showTypingIndicator();
        setTimeout(() => {
            hideTypingIndicator();
            const answer = getAiAnswer(question);
            addMessage(answer, 'ai');
        }, 1500);
    }, 300);
}

function addMessage(text, sender) {
    const messagesDiv = document.getElementById('aiChatMessages');
    const messageDiv = document.createElement('div');
    messageDiv.className = sender === 'user' ? 'ai-message user-message' : 'ai-message';
    
    const avatar = document.createElement('div');
    avatar.className = 'ai-message-avatar';
    avatar.textContent = sender === 'user' ? 'SÄ°Z' : 'AI';
    
    const content = document.createElement('div');
    content.className = 'ai-message-content';
    content.innerHTML = `<p>${text}</p>`;
    
    messageDiv.appendChild(avatar);
    messageDiv.appendChild(content);
    messagesDiv.appendChild(messageDiv);
    
    // Scroll to bottom
    messagesDiv.scrollTop = messagesDiv.scrollHeight;
}

function showTypingIndicator() {
    const messagesDiv = document.getElementById('aiChatMessages');
    const typingDiv = document.createElement('div');
    typingDiv.className = 'ai-message';
    typingDiv.id = 'typingIndicator';
    typingDiv.innerHTML = `
        <div class="ai-message-avatar">AI</div>
        <div class="ai-message-content">
            <div class="ai-typing active">
                <span></span><span></span><span></span>
            </div>
        </div>
    `;
    messagesDiv.appendChild(typingDiv);
    messagesDiv.scrollTop = messagesDiv.scrollHeight;
}

function hideTypingIndicator() {
    const indicator = document.getElementById('typingIndicator');
    if (indicator) indicator.remove();
}

function getAiAnswer(question) {
    const q = question.toLowerCase();
    
    // MimarlÄ±k bilgi bankasÄ±
    const answers = {
        // Villa projeleri
        villa: `ðŸ¡ **Villa Projeleri HakkÄ±nda:**

Villa projelerimizde modern mimari yaklaÅŸÄ±mlar ve fonksiyonel tasarÄ±mlar sunuyoruz. Genellikle ÅŸunlarÄ± iÃ§erir:

â€¢ **Arazi Analizi:** TopoÄŸrafya, manzara ve gÃ¼neÅŸlenme analizi
â€¢ **Konsept TasarÄ±m:** Size Ã¶zel mimari Ã§Ã¶zÃ¼mler
â€¢ **3D GÃ¶rselleÅŸtirme:** Projenizi gerÃ§ek gibi gÃ¶rebilirsiniz
â€¢ **Ruhsat Ä°ÅŸlemleri:** TÃ¼m yasal sÃ¼reÃ§ler

ðŸ“ž Daha detaylÄ± bilgi iÃ§in WhatsApp'tan ulaÅŸabilirsiniz!`,

        // TasarÄ±m sÃ¼reci
        tasarÄ±m: `ðŸ“ **Mimari TasarÄ±m SÃ¼recimiz:**

1ï¸âƒ£ **Ä°htiyaÃ§ Analizi** (1-2 hafta)
   â€¢ Ä°lk gÃ¶rÃ¼ÅŸme ve saha keÅŸfi
   â€¢ BÃ¼tÃ§e belirleme
   
2ï¸âƒ£ **Ã–n TasarÄ±m** (2-3 hafta)
   â€¢ Konsept eskizler
   â€¢ 3D modelleme
   
3ï¸âƒ£ **Uygulama Projesi** (4-6 hafta)
   â€¢ DetaylÄ± Ã§izimler
   â€¢ Statik hesaplar
   
4ï¸âƒ£ **Ruhsat ve Uygulama** (DeÄŸiÅŸken)
   â€¢ Belediye onaylarÄ±
   â€¢ Åžantiye takibi

ðŸ’¡ Her aÅŸamada sizinle iletiÅŸim halindeyiz!`,

        // Ä°Ã§ mimarlÄ±k
        iÃ§: `ðŸ›‹ï¸ **Ä°Ã§ MimarlÄ±k Hizmetlerimiz:**

âœ¨ KapsamlÄ± iÃ§ mekan tasarÄ±mÄ± sunuyoruz:

â€¢ **Mekan PlanlamasÄ±:** Fonksiyonel alan kullanÄ±mÄ±
â€¢ **Mobilya TasarÄ±mÄ±:** Ã–zel Ã¼retim mobilyalar
â€¢ **Malzeme SeÃ§imi:** Kaliteli ve estetik materyaller
â€¢ **AydÄ±nlatma TasarÄ±mÄ±:** Ambiyans oluÅŸturma
â€¢ **Renk Paleti:** Uyumlu renk seÃ§imleri
â€¢ **3D GÃ¶rselleÅŸtirme:** BitirilmiÅŸ hali gÃ¶rÃ¼n

ðŸŽ¨ PortfÃ¶yÃ¼mÃ¼zÃ¼ inceleyerek Ã§alÄ±ÅŸmalarÄ±mÄ±zÄ± gÃ¶rebilirsiniz!`,

        // Maliyet
        maliyet: `ðŸ’° **Proje Maliyeti NasÄ±l HesaplanÄ±r:**

Mimari proje maliyeti ÅŸu faktÃ¶rlere baÄŸlÄ±dÄ±r:

ðŸ“ **Proje BÃ¼yÃ¼klÃ¼ÄŸÃ¼:**
   â€¢ Metrekare bazÄ±nda (mÂ²)
   â€¢ Kat sayÄ±sÄ±

ðŸ—ï¸ **Proje Tipi:**
   â€¢ Villa: 150-300 TL/mÂ²
   â€¢ Apartman: 100-200 TL/mÂ²
   â€¢ Ä°Ã§ Mekan: 80-150 TL/mÂ²

ðŸ“¦ **Kapsam:**
   â€¢ Mimari proje
   â€¢ Statik proje
   â€¢ Mekanik projeler
   â€¢ Ruhsat iÅŸlemleri

ðŸ’¡ Net fiyat iÃ§in projenizdeki detaylarÄ± paylaÅŸÄ±n!`,

        // SÃ¼re
        sÃ¼re: `â±ï¸ **Proje Teslim SÃ¼releri:**

ðŸ“… Ortalama sÃ¼relerimiz:

â€¢ **Villa Projesi:** 6-8 hafta
â€¢ **Konut Ä°Ã§ Mekan:** 3-4 hafta
â€¢ **Ticari Mekan:** 4-6 hafta
â€¢ **Ruhsat SÃ¼reci:** 2-4 ay (belediyeye gÃ¶re deÄŸiÅŸir)

Ã¢Å¡Â¡ Acil projeler iÃ§in hÄ±zlandÄ±rÄ±lmÄ±ÅŸ seÃ§eneklerimiz var!`,

        // Ruhsat
        ruhsat: `ðŸ“‹ **Ruhsat Ä°ÅŸlemleri:**

Belediye onaylarÄ± iÃ§in gereken belgeler:

âœ… **Mimari Proje**
âœ… **Statik Proje**
âœ… **Mekanik Proje**
âœ… **Elektrik Proje**
âœ… **Tapu Fotokopisi**
âœ… **Ä°mar Durum Belgesi**

ðŸ›ï¸ Belediye sÃ¼reÃ§lerini takip ediyoruz.
ðŸ“ž DanÄ±ÅŸmanlÄ±k hizmeti veriyoruz!`,

        // Ã–deme
        Ã¶deme: `ðŸ’³ **Ã–deme KoÅŸullarÄ±:**

Esnek Ã¶deme planlarÄ±mÄ±z var:

1ï¸âƒ£ **%40** - SÃ¶zleÅŸme imzalanÄ±rken
2ï¸âƒ£ **%30** - Ã–n tasarÄ±m onayÄ±nda
3ï¸âƒ£ **%30** - Proje tesliminde

ðŸ’¡ Ã–zel Ã¶deme planlarÄ± da yapabiliriz.
ðŸ“§ DetaylÄ± gÃ¶rÃ¼ÅŸme iÃ§in iletiÅŸime geÃ§in!`,

        // 3D
        '3d': `ðŸŽ¨ **3D GÃ¶rselleÅŸtirme:**

Projelerinizi gerÃ§ekÃ§i 3D render'larla gÃ¶rselleÅŸtiriyoruz:

âœ¨ **Ã–zellikler:**
â€¢ Fotorealistik gÃ¶rÃ¼ntÃ¼ler
â€¢ GÃ¼ndÃ¼z/gece sahneleri
â€¢ Ä°Ã§ ve dÄ±ÅŸ mekan renderleri
â€¢ 360Â° tur seÃ§eneÄŸi
â€¢ Video animasyon

ðŸŽ¬ Projenizi yaÅŸamadan Ã¶nce gÃ¶rÃ¼n!`,

        // DiÄŸer
        default: `Merhaba! ðŸ‘‹ 

MimarlÄ±k hakkÄ±nda size nasÄ±l yardÄ±mcÄ± olabilirim? 

**PopÃ¼ler konular:**
ðŸ¡ Villa ve konut projeleri
ðŸ“ TasarÄ±m sÃ¼reci
ðŸ›‹ï¸ Ä°Ã§ mimarlÄ±k
ðŸ’° Maliyet hesaplama
â±ï¸ Proje sÃ¼releri
ðŸ“‹ Ruhsat iÅŸlemleri

Sorunuzu detaylandÄ±rabilir veya WhatsApp Ã¼zerinden doÄŸrudan iletiÅŸime geÃ§ebilirsiniz! ðŸ“ž`
    };
    
    // Anahtar kelime eÅŸleÅŸtirme
    if (q.includes('villa') || q.includes('ev') || q.includes('konut')) {
        return answers.villa;
    } else if (q.includes('tasarÄ±m') || q.includes('sÃ¼reÃ§') || q.includes('nasÄ±l') || q.includes('aÅŸama')) {
        return answers.tasarÄ±m;
    } else if (q.includes('iÃ§') || q.includes('mobilya') || q.includes('dekor')) {
        return answers.iÃ§;
    } else if (q.includes('maliyet') || q.includes('fiyat') || q.includes('Ã¼cret') || q.includes('para')) {
        return answers.maliyet;
    } else if (q.includes('sÃ¼re') || q.includes('ne kadar') || q.includes('zaman')) {
        return answers.sÃ¼re;
    } else if (q.includes('ruhsat') || q.includes('izin') || q.includes('belediye')) {
        return answers.ruhsat;
    } else if (q.includes('Ã¶deme') || q.includes('taksit') || q.includes('peÅŸin')) {
        return answers.Ã¶deme;
    } else if (q.includes('3d') || q.includes('gÃ¶rsel') || q.includes('render')) {
        return answers['3d'];
    } else {
        return answers.default;
    }
}

// DWG TOOLS SYSTEM
let converterFile = null;
let downgradeFile = null;

function openDwgTools() {
    document.getElementById('dwgToolsModal').classList.add('active');
}

function closeDwgTools() {
    document.getElementById('dwgToolsModal').classList.remove('active');
}

function switchDwgTab(tab) {
    // Switch tabs
    document.querySelectorAll('.dwg-tab').forEach(t => t.classList.remove('active'));
    document.querySelectorAll('.dwg-tab-content').forEach(c => c.classList.remove('active'));
    
    document.querySelector(`[data-tab="${tab}"]`).classList.add('active');
    document.getElementById(tab + 'Tab').classList.add('active');
}

// CONVERTER FUNCTIONS
function handleConverterFile(file) {
    if (!file) return;
    
    const maxSize = 50 * 1024 * 1024; // 50MB
    if (file.size > maxSize) {
        showError('Dosya boyutu 50MB\'dan kÃ¼Ã§Ã¼k olmalÄ±dÄ±r!');
        return;
    }
    
    const validTypes = ['.dwg', '.dxf'];
    const ext = '.' + file.name.split('.').pop().toLowerCase();
    if (!validTypes.includes(ext)) {
        showError('Sadece DWG ve DXF dosyalarÄ± kabul edilir!');
        return;
    }
    
    converterFile = file;
    
    // Show preview
    document.getElementById('converterUpload').style.display = 'none';
    document.getElementById('converterPreview').style.display = 'flex';
    document.getElementById('converterFileName').textContent = file.name;
    document.getElementById('converterFileSize').textContent = formatFileSize(file.size);
    document.getElementById('convertBtn').disabled = false;
    
    showSuccess('Dosya yÃ¼klendi: ' + file.name);
}

function removeConverterFile() {
    converterFile = null;
    document.getElementById('converterUpload').style.display = 'block';
    document.getElementById('converterPreview').style.display = 'none';
    document.getElementById('converterFileInput').value = '';
    document.getElementById('convertBtn').disabled = true;
    document.getElementById('converterResult').style.display = 'none';
}

function updateQualityLabel(value) {
    const labels = ['DÃ¼ÅŸÃ¼k Kalite', 'Orta Kalite', 'YÃ¼ksek Kalite', 'En YÃ¼ksek Kalite'];
    document.getElementById('currentQuality').textContent = labels[value - 1];
}

function convertDwgFile() {
    if (!converterFile) {
        showError('LÃ¼tfen bir dosya yÃ¼kleyin!');
        return;
    }
    
    const format = document.querySelector('input[name="outputFormat"]:checked').value;
    const quality = document.getElementById('qualitySlider').value;
    
    // Show progress
    document.getElementById('convertBtn').disabled = true;
    document.getElementById('converterProgress').style.display = 'block';
    document.getElementById('converterResult').style.display = 'none';
    
    // Simulate conversion process
    let progress = 0;
    const interval = setInterval(() => {
        progress += Math.random() * 15;
        if (progress > 100) progress = 100;
        
        document.getElementById('converterProgressBar').style.width = progress + '%';
        document.getElementById('converterProgressText').textContent = `DÃ¶nÃ¼ÅŸtÃ¼rÃ¼lÃ¼yor... ${Math.floor(progress)}%`;
        
        if (progress >= 100) {
            clearInterval(interval);
            setTimeout(() => {
                document.getElementById('converterProgress').style.display = 'none';
                document.getElementById('converterResult').style.display = 'block';
                document.getElementById('convertBtn').disabled = false;
                
                // Create download button
                const downloadBtn = document.getElementById('converterDownloadBtn');
                downloadBtn.onclick = () => {
                    // In real implementation, this would download the converted file
                    const fileName = converterFile.name.replace(/\.[^/.]+$/, '') + '.' + format;
                    showSuccess(`${fileName} indirilmeye hazÄ±r!`);
                    
                    // Simulate download
                    const blob = new Blob(['Converted file content'], { type: 'application/octet-stream' });
                    const url = URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = fileName;
                    a.click();
                };
                
                showSuccess('DÃ¶nÃ¼ÅŸtÃ¼rme baÅŸarÄ±yla tamamlandÄ±!');
            }, 500);
        }
    }, 200);
}

// DOWNGRADE FUNCTIONS
function handleDowngradeFile(file) {
    if (!file) return;
    
    const maxSize = 50 * 1024 * 1024; // 50MB
    if (file.size > maxSize) {
        showError('Dosya boyutu 50MB\'dan kÃ¼Ã§Ã¼k olmalÄ±dÄ±r!');
        return;
    }
    
    const ext = '.' + file.name.split('.').pop().toLowerCase();
    if (ext !== '.dwg') {
        showError('Sadece DWG dosyalarÄ± kabul edilir!');
        return;
    }
    
    downgradeFile = file;
    
    // Show preview
    document.getElementById('downgradeUpload').style.display = 'none';
    document.getElementById('downgradePreview').style.display = 'flex';
    document.getElementById('downgradeFileName').textContent = file.name;
    document.getElementById('downgradeFileSize').textContent = formatFileSize(file.size);
    
    // Detect version (simulated)
    setTimeout(() => {
        const versions = ['AutoCAD 2025', 'AutoCAD 2024', 'AutoCAD 2021', 'AutoCAD 2018'];
        const detectedVersion = versions[Math.floor(Math.random() * versions.length)];
        document.getElementById('downgradeFileVersion').textContent = 'Tespit edilen versiyon: ' + detectedVersion;
    }, 1000);
    
    document.getElementById('downgradeBtn').disabled = false;
    
    showSuccess('Dosya yÃ¼klendi: ' + file.name);
}

function removeDowngradeFile() {
    downgradeFile = null;
    document.getElementById('downgradeUpload').style.display = 'block';
    document.getElementById('downgradePreview').style.display = 'none';
    document.getElementById('downgradeFileInput').value = '';
    document.getElementById('downgradeBtn').disabled = true;
    document.getElementById('downgradeResult').style.display = 'none';
}

function downgradeDwgFile() {
    if (!downgradeFile) {
        showError('LÃ¼tfen bir dosya yÃ¼kleyin!');
        return;
    }
    
    const targetVersion = document.querySelector('input[name="targetVersion"]:checked').value;
    const versionNames = {
        '2018': 'AutoCAD 2018',
        '2013': 'AutoCAD 2013',
        '2010': 'AutoCAD 2010',
        '2007': 'AutoCAD 2007',
        '2004': 'AutoCAD 2004',
        'R14': 'AutoCAD R14'
    };
    
    // Show progress
    document.getElementById('downgradeBtn').disabled = true;
    document.getElementById('downgradeProgress').style.display = 'block';
    document.getElementById('downgradeResult').style.display = 'none';
    
    // Simulate downgrade process
    let progress = 0;
    const interval = setInterval(() => {
        progress += Math.random() * 12;
        if (progress > 100) progress = 100;
        
        document.getElementById('downgradeProgressBar').style.width = progress + '%';
        document.getElementById('downgradeProgressText').textContent = `Ä°ÅŸleniyor... ${Math.floor(progress)}%`;
        
        if (progress >= 100) {
            clearInterval(interval);
            setTimeout(() => {
                document.getElementById('downgradeProgress').style.display = 'none';
                document.getElementById('downgradeResult').style.display = 'block';
                document.getElementById('downgradeBtn').disabled = false;
                
                document.getElementById('downgradeResultInfo').textContent = 
                    `Dosya baÅŸarÄ±yla ${versionNames[targetVersion]} formatÄ±na dÃ¶nÃ¼ÅŸtÃ¼rÃ¼ldÃ¼.`;
                
                // Create download button
                const downloadBtn = document.getElementById('downgradeDownloadBtn');
                downloadBtn.onclick = () => {
                    const fileName = downgradeFile.name.replace('.dwg', '') + '_' + targetVersion + '.dwg';
                    showSuccess(`${fileName} indirilmeye hazÄ±r!`);
                    
                    // Simulate download
                    const blob = new Blob(['Downgraded DWG content'], { type: 'application/octet-stream' });
                    const url = URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = fileName;
                    a.click();
                };
                
                showSuccess('Versiyon dÃ¼ÅŸÃ¼rme baÅŸarÄ±yla tamamlandÄ±!');
            }, 500);
        }
    }, 250);
}

function formatFileSize(bytes) {
    if (bytes === 0) return '0 Bytes';
    const k = 1024;
    const sizes = ['Bytes', 'KB', 'MB', 'GB'];
    const i = Math.floor(Math.log(bytes) / Math.log(k));
    return Math.round(bytes / Math.pow(k, i) * 100) / 100 + ' ' + sizes[i];
}

// Close modal when clicking outside
document.addEventListener('click', function(event) {
    const modal = document.getElementById('dwgToolsModal');
    if (event.target === modal) {
        closeDwgTools();
    }
});

// TOAST NOTIFICATIONS
function showToast(message, type = 'info', duration = 3000) {
    const container = document.getElementById('toastContainer');
    if (!container) return;
    
    const toast = document.createElement('div');
    toast.className = `toast toast-${type}`;
    
    const icons = {
        success: '<svg viewBox="0 0 24 24" fill="none" stroke="#10b981" stroke-width="2"><path d="M20 6L9 17l-5-5"/></svg>',
        error: '<svg viewBox="0 0 24 24" fill="none" stroke="#ef4444" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M15 9l-6 6M9 9l6 6"/></svg>',
        info: '<svg viewBox="0 0 24 24" fill="none" stroke="#3b82f6" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4M12 8h.01"/></svg>',
        warning: '<svg viewBox="0 0 24 24" fill="none" stroke="#f59e0b" stroke-width="2"><path d="M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z"/><path d="M12 9v4M12 17h.01"/></svg>'
    };
    
    const titles = {
        success: 'BaÅŸarÄ±lÄ±!',
        error: 'Hata!',
        info: 'Bilgi',
        warning: 'UyarÄ±'
    };
    
    toast.innerHTML = `
        <div class="toast-icon">${icons[type]}</div>
        <div class="toast-content">
            <div class="toast-title">${titles[type]}</div>
            <div class="toast-message">${message}</div>
        </div>
        <button class="toast-close" onclick="this.parentElement.remove()">Ã—</button>
        <div class="toast-progress"></div>
    `;
    
    container.appendChild(toast);
    
    // Auto remove
    setTimeout(() => {
        toast.classList.add('removing');
        setTimeout(() => toast.remove(), 300);
    }, duration);
}

// Convenience functions
function showSuccess(message) {
    showToast(message, 'success');
}

function showError(message) {
    showToast(message, 'error');
}

function showInfo(message) {
    showToast(message, 'info');
}

function showWarning(message) {
    showToast(message, 'warning');
}

// ANIMATED COUNTERS
function animateCounters() {
    const counters = document.querySelectorAll('.stat-number');
    const speed = 200; // Animation speed
    
    counters.forEach(counter => {
        const updateCount = () => {
            const target = +counter.getAttribute('data-target');
            const count = +counter.innerText;
            const increment = target / speed;
            
            if (count < target) {
                counter.innerText = Math.ceil(count + increment);
                setTimeout(updateCount, 10);
            } else {
                counter.innerText = target + '+';
            }
        };
        
        updateCount();
    });
}

// Intersection Observer for stats
function setupStatsObserver() {
    const statsContainer = document.querySelector('.stats-container');
    if (!statsContainer) return;
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                animateCounters();
                observer.unobserve(entry.target);
            }
        });
    }, { threshold: 0.5 });
    
    observer.observe(statsContainer);
}

// RENK TEMASI
function loadColorTheme() {
    const theme = localStorage.getItem('cee_color_theme') || 'default';
    if (theme !== 'default') {
        document.body.setAttribute('data-theme', theme);
    }
}

// INSTAGRAM FEED
function loadInstagram() {
    // Demo Instagram posts - GerÃ§ek API iÃ§in instagram-feed.js kullanÄ±labilir
    const instagramPosts = [
        {
            id: 1,
            image: 'https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=400',
            likes: 234,
            comments: 12,
            link: 'https://instagram.com/p/example1'
        },
        {
            id: 2,
            image: 'https://images.unsplash.com/photo-1600566753190-17f0baa2a6c3?w=400',
            likes: 189,
            comments: 8,
            link: 'https://instagram.com/p/example2'
        },
        {
            id: 3,
            image: 'https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?w=400',
            likes: 312,
            comments: 15,
            link: 'https://instagram.com/p/example3'
        },
        {
            id: 4,
            image: 'https://images.unsplash.com/photo-1600047509807-ba8f99d2cdde?w=400',
            likes: 276,
            comments: 21,
            link: 'https://instagram.com/p/example4'
        },
        {
            id: 5,
            image: 'https://images.unsplash.com/photo-1600210492486-724fe5c67fb0?w=400',
            likes: 198,
            comments: 9,
            link: 'https://instagram.com/p/example5'
        },
        {
            id: 6,
            image: 'https://images.unsplash.com/photo-1600585154526-990dced4db0d?w=400',
            likes: 245,
            comments: 18,
            link: 'https://instagram.com/p/example6'
        }
    ];

    const grid = document.getElementById('instagramGrid');
    if (!grid) return;

    grid.innerHTML = instagramPosts.map(post => `
        <a href="${post.link}" target="_blank" class="instagram-post">
            <img src="${post.image}" alt="Instagram post" loading="lazy">
            <div class="instagram-overlay">
                <span>â¤ï¸ ${post.likes}</span>
                <span>ðŸ’¬ ${post.comments}</span>
            </div>
        </a>
    `).join('');
}

// VIDEO GALLERY
function loadVideos() {
    // Admin panelden yÃ¼klenen videolar (mediaType: 'video')
    const projects = JSON.parse(localStorage.getItem('cee_projects') || '[]');
    const videos = projects.filter(p => p.mediaType === 'video');

    // Demo YouTube videolarÄ± (gerÃ§ek videolar yoksa)
    const demoVideos = [
        {
            id: 'dQw4w9WgXcQ',
            title: 'Villa Projesi - 3D Tur',
            thumbnail: 'https://img.youtube.com/vi/dQw4w9WgXcQ/maxresdefault.jpg'
        },
        {
            id: 'dQw4w9WgXcQ',
            title: 'Apartman DÃ¶nÃ¼ÅŸÃ¼mÃ¼',
            thumbnail: 'https://img.youtube.com/vi/dQw4w9WgXcQ/maxresdefault.jpg'
        },
        {
            id: 'dQw4w9WgXcQ',
            title: 'Ofis Ä°Ã§ TasarÄ±m',
            thumbnail: 'https://img.youtube.com/vi/dQw4w9WgXcQ/maxresdefault.jpg'
        }
    ];

    const grid = document.getElementById('videoGrid');
    if (!grid) return;

    // Ã–nce admin panelden yÃ¼klenen videolarÄ± gÃ¶ster
    let videoHTML = '';

    if (videos.length > 0) {
        videoHTML = videos.map(video => `
            <div class="video-item" onclick="openVideo('${video.img}', 'local')">
                <video class="video-thumbnail" muted>
                    <source src="${video.img}" type="video/mp4">
                </video>
                <div class="video-play-btn">Ã¢â€“Â¶</div>
                <div class="video-title">${video.title || 'Video'}</div>
            </div>
        `).join('');
    }

    // Demo YouTube videolarÄ± ekle
    videoHTML += demoVideos.map(video => `
        <div class="video-item" onclick="openVideo('${video.id}', 'youtube')">
            <img src="${video.thumbnail}" alt="${video.title}" class="video-thumbnail" loading="lazy">
            <div class="video-play-btn">Ã¢â€“Â¶</div>
            <div class="video-title">${video.title}</div>
        </div>
    `).join('');

    if (videoHTML) {
        grid.innerHTML = videoHTML;
    } else {
        grid.innerHTML = '<div class="instagram-placeholder"><p>HenÃ¼z video eklenmedi</p></div>';
    }
}

function openVideo(id, type) {
    const lightbox = document.getElementById('videoLightbox');
    const container = document.getElementById('videoContainer');
    
    if (type === 'youtube') {
        container.innerHTML = `<iframe src="https://www.youtube.com/embed/${id}?autoplay=1" allow="autoplay; encrypted-media" allowfullscreen></iframe>`;
    } else {
        container.innerHTML = `<video controls autoplay style="width: 100%; height: 100%; border-radius: 8px;"><source src="${id}" type="video/mp4"></video>`;
    }
    
    lightbox.classList.add('active');
}

function closeVideo() {
    const lightbox = document.getElementById('videoLightbox');
    const container = document.getElementById('videoContainer');
    lightbox.classList.remove('active');
    container.innerHTML = '';
}

// GOOGLE MAPS
function initMap() {
    // VarsayÄ±lan konum: Ä°stanbul Taksim
    const officeLocation = { lat: 41.0369, lng: 28.9850 };
    
    // Admin panelden ayarlanabilir konum
    const savedLat = localStorage.getItem('cee_office_lat');
    const savedLng = localStorage.getItem('cee_office_lng');
    
    if (savedLat && savedLng) {
        officeLocation.lat = parseFloat(savedLat);
        officeLocation.lng = parseFloat(savedLng);
    }

    const mapDiv = document.getElementById('map');
    if (!mapDiv) return;

    // Google Maps yÃ¼klÃ¼ mÃ¼ kontrol et
    if (typeof google === 'undefined' || !google.maps) {
        mapDiv.innerHTML = '<div style="display: flex; align-items: center; justify-content: center; height: 100%; background: #f0f0f0; color: #666;"><p>Harita yÃ¼kleniyor...</p></div>';
        loadGoogleMaps();
        return;
    }

    const map = new google.maps.Map(mapDiv, {
        zoom: 15,
        center: officeLocation,
        styles: [
            {
                featureType: 'all',
                elementType: 'geometry',
                stylers: [{ color: '#f5f5f5' }]
            },
            {
                featureType: 'water',
                elementType: 'geometry',
                stylers: [{ color: '#c9e9f6' }]
            }
        ]
    });

    new google.maps.Marker({
        position: officeLocation,
        map: map,
        title: 'CEE MÄ°MARLIK',
        animation: google.maps.Animation.DROP
    });
}

function loadGoogleMaps() {
    const script = document.createElement('script');
    script.src = `https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&callback=initMap`;
    script.async = true;
    script.defer = true;
    document.head.appendChild(script);
}

// ============================================
// ðŸ”’ GÃœVENLÄ°K SÄ°STEMÄ° - CEE MÄ°MARLIK
// ============================================

// 1. XSS (Cross-Site Scripting) KORUNMASI
const SecurityManager = {
    escapeHtml: function(text) {
        if (typeof text !== 'string') return text;
        const map = {
            '&': '&amp;', '<': '&lt;', '>': '&gt;', '"': '&quot;',
            "'": '&#x27;', "/": '&#x2F;', "`": '&#x60;', "=": '&#x3D;'
        };
        return text.replace(/[&<>"'`=\/]/g, (char) => map[char]);
    },

    sanitizeInput: function(input) {
        if (typeof input !== 'string') return '';
        input = input.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi, '');
        input = input.replace(/on\w+\s*=\s*["'][^"']*["']/gi, '');
        input = input.replace(/javascript:/gi, '');
        input = input.replace(/[';\"--]/g, '');
        return input.trim();
    },

    validateEmail: function(email) {
        return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(String(email).toLowerCase());
    },

    validatePhone: function(phone) {
        return /^[0-9\s\+\-\(\)]{10,}$/.test(phone);
    }
};

// 2. RATE LIMITING
const RateLimiter = {
    requests: {},
    checkLimit: function(action, limit = 10, timeWindow = 60000) {
        const now = Date.now();
        if (!this.requests[action]) this.requests[action] = [];
        this.requests[action] = this.requests[action].filter(time => now - time < timeWindow);
        if (this.requests[action].length >= limit) return false;
        this.requests[action].push(now);
        return true;
    },
    getTimeUntilReset: function(action, timeWindow = 60000) {
        if (!this.requests[action] || this.requests[action].length === 0) return 0;
        const oldestRequest = Math.min(...this.requests[action]);
        return Math.max(0, Math.ceil((oldestRequest + timeWindow - Date.now()) / 1000));
    }
};

// 3. INPUT VALIDATION
const InputValidator = {
    validateLength: function(input, min = 1, max = 1000) {
        return input.length >= min && input.length <= max;
    },
    validateSafeText: function(text) {
        const dangerous = [/<script/gi, /<iframe/gi, /javascript:/gi, /on\w+\s*=/gi];
        return !dangerous.some(pattern => pattern.test(text));
    }
};

// 4. SESSION MANAGEMENT
const SessionManager = {
    createSession: function() {
        const sessionId = Array.from(crypto.getRandomValues(new Uint8Array(16)))
            .map(b => b.toString(16).padStart(2, '0')).join('');
        sessionStorage.setItem('session_data', JSON.stringify({
            id: sessionId, created: Date.now(), lastActivity: Date.now()
        }));
        return sessionId;
    },
    updateActivity: function() {
        const data = JSON.parse(sessionStorage.getItem('session_data') || '{}');
        if (data.id) {
            data.lastActivity = Date.now();
            sessionStorage.setItem('session_data', JSON.stringify(data));
        }
    },
    checkTimeout: function(timeout = 1800000) {
        const data = JSON.parse(sessionStorage.getItem('session_data') || '{}');
        return data.lastActivity && (Date.now() - data.lastActivity) < timeout;
    }
};

// 5. GÃœVENLI MESAJ GÃ–NDERME
function sendPanelMessageSecure() {
    const input = document.getElementById('aiPanelInput');
    let message = input.value.trim();
    if (!message) return;
    
    // Rate Limiting
    if (!RateLimiter.checkLimit('ai_message', 10, 60000)) {
        const wait = RateLimiter.getTimeUntilReset('ai_message');
        addPanelMessage(`âš ï¸ Ã‡ok fazla mesaj gÃ¶nderdiniz. ${wait} saniye bekleyin.`, 'assistant');
        return;
    }
    
    // Validation
    if (!InputValidator.validateLength(message, 1, 500)) {
        addPanelMessage('âš ï¸ Mesaj 1-500 karakter olmalÄ±.', 'assistant');
        return;
    }
    
    if (!InputValidator.validateSafeText(message)) {
        addPanelMessage('âš ï¸ GeÃ§ersiz karakterler.', 'assistant');
        return;
    }
    
    // Sanitize
    message = SecurityManager.sanitizeInput(message);
    message = SecurityManager.escapeHtml(message);
    
    SessionManager.updateActivity();
    addPanelMessage(message, 'user');
    input.value = '';
    showPanelTyping();
    
    setTimeout(() => {
        const response = getSmartResponse(message);
        hidePanelTyping();
        addPanelMessage(response, 'assistant');
        
        try {
            let history = JSON.parse(localStorage.getItem('cee_ai_history') || '[]');
            history.push({ question: message, answer: response, timestamp: Date.now() });
            localStorage.setItem('cee_ai_history', JSON.stringify(history.slice(-50)));
        } catch(e) {}
    }, 800);
}

window.sendPanelMessage = sendPanelMessageSecure;

// 6. SAYFA YÃœKLENDÄ°Ã„Å¾Ä°NDE
document.addEventListener('DOMContentLoaded', function() {
    if (!SessionManager.checkTimeout()) SessionManager.createSession();
    
    setInterval(() => {
        if (!SessionManager.checkTimeout()) {
            SessionManager.createSession();
        }
    }, 300000);
    
    // Input gÃ¼venliÄŸi
    document.querySelectorAll('input, textarea').forEach(input => {
        input.addEventListener('input', function() {
            const max = this.getAttribute('maxlength') || 1000;
            if (this.value.length > max) this.value = this.value.substring(0, max);
            if (this.type !== 'password') this.value = SecurityManager.sanitizeInput(this.value);
        });
    });
    
    // ============================================
    // Ã¢Å¡Â¡ PERFORMANCE OPTIMIZATION
    // ============================================
    
    // 1. LAZY LOADING IMAGES
    const lazyImages = document.querySelectorAll('img[data-src]');
    const imageObserver = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const img = entry.target;
                img.src = img.dataset.src;
                img.removeAttribute('data-src');
                observer.unobserve(img);
                
                // Analytics: Image loaded
                if (typeof trackEvent === 'function') {
                    trackEvent('Performance', 'image_loaded', img.alt || 'unnamed');
                }
            }
        });
    });
    
    lazyImages.forEach(img => imageObserver.observe(img));
    
    // 2. SCROLL PERFORMANCE
    let scrollTimer;
    window.addEventListener('scroll', function() {
        if (scrollTimer) clearTimeout(scrollTimer);
        scrollTimer = setTimeout(() => {
            // Scroll ended - track analytics
            const scrollPercent = Math.round((window.scrollY / (document.documentElement.scrollHeight - window.innerHeight)) * 100);
            if (scrollPercent > 75 && typeof trackEvent === 'function') {
                trackEvent('Engagement', 'scroll_depth', '75%');
            }
        }, 150);
    }, { passive: true });
    
    // 3. ANALYTICS EVENT TRACKING
    
    // Track WhatsApp click
    const whatsappLinks = document.querySelectorAll('a[href*="wa.me"], a[href*="whatsapp"]');
    whatsappLinks.forEach(link => {
        link.addEventListener('click', () => {
            if (typeof trackEvent === 'function') {
                trackEvent('Contact', 'whatsapp_click', 'floating_button');
            }
            if (typeof fbq === 'function') {
                fbq('track', 'Contact');
            }
        });
    });
    
    // Track phone click
    const phoneLinks = document.querySelectorAll('a[href^="tel:"]');
    phoneLinks.forEach(link => {
        link.addEventListener('click', () => {
            if (typeof trackEvent === 'function') {
                trackEvent('Contact', 'phone_click', link.href);
            }
            if (typeof fbq === 'function') {
                fbq('track', 'Contact');
            }
        });
    });
    
    // Track email click
    const emailLinks = document.querySelectorAll('a[href^="mailto:"]');
    emailLinks.forEach(link => {
        link.addEventListener('click', () => {
            if (typeof trackEvent === 'function') {
                trackEvent('Contact', 'email_click', link.href);
            }
        });
    });
    
    // Track project views
    const projectCards = document.querySelectorAll('.project-card');
    projectCards.forEach((card, index) => {
        card.addEventListener('click', () => {
            if (typeof trackEvent === 'function') {
                trackEvent('Projects', 'project_click', `project_${index + 1}`);
            }
        });
    });
    
    // Track AI Assistant opens
    const aiButton = document.querySelector('[onclick*="openAiAssistant"]');
    if (aiButton) {
        aiButton.addEventListener('click', () => {
            if (typeof trackEvent === 'function') {
                trackEvent('AI', 'assistant_open', 'chat_button');
            }
            if (typeof fbq === 'function') {
                fbq('track', 'Lead');
            }
        });
    }
    
    // Track DWG Tools
    const dwgButton = document.querySelector('[onclick*="openDwgTools"]');
    if (dwgButton) {
        dwgButton.addEventListener('click', () => {
            if (typeof trackEvent === 'function') {
                trackEvent('Tools', 'dwg_tools_open', 'menu_button');
            }
        });
    }
    
    // 4. PAGE LOAD PERFORMANCE TRACKING
    window.addEventListener('load', () => {
        if ('performance' in window && typeof trackEvent === 'function') {
            const perfData = performance.timing;
            const pageLoadTime = perfData.loadEventEnd - perfData.navigationStart;
            const dnsTime = perfData.domainLookupEnd - perfData.domainLookupStart;
            const tcpTime = perfData.connectEnd - perfData.connectStart;
            
            trackEvent('Performance', 'page_load_time', Math.round(pageLoadTime));
            trackEvent('Performance', 'dns_time', Math.round(dnsTime));
            trackEvent('Performance', 'tcp_time', Math.round(tcpTime));
            
            .toFixed(2)}s`);
            }
    });
    
    // 5. ERROR TRACKING
    window.addEventListener('error', (event) => {
        if (typeof trackEvent === 'function') {
            trackEvent('Error', 'javascript_error', event.message);
        }
        });
    
    // 6. VISIBILITY TRACKING (Tab switching)
    let visibilityStart = Date.now();
    document.addEventListener('visibilitychange', () => {
        if (document.hidden) {
            const timeSpent = Math.round((Date.now() - visibilityStart) / 1000);
            if (typeof trackEvent === 'function' && timeSpent > 10) {
                trackEvent('Engagement', 'time_on_page', `${timeSpent}s`);
            }
        } else {
            visibilityStart = Date.now();
        }
    });
    
    // 7. BUTTON CLICK HEATMAP
    document.addEventListener('click', (e) => {
        const element = e.target.closest('button, a');
        if (element && typeof trackEvent === 'function') {
            const label = element.textContent.trim().substring(0, 50) || element.className;
            trackEvent('Interaction', 'button_click', label);
        }
    });
});

// 7. CLICKJACKING KORUNMASI
if (window.top !== window.self) window.top.location = window.self.location;

// ==============================================
// SÄ°TE AYARLARINI YÃœKLE
// ==============================================

function loadSiteSettings() {
    // Hero ayarlarÄ±nÄ± yÃ¼kle
    const heroSettings = JSON.parse(localStorage.getItem('hero_settings') || '{}');
    if (heroSettings.title || heroSettings.subtitle) {
        const heroTitle = document.querySelector('.hero-content h1');
        const heroSubtitle = document.querySelector('.hero-content p');
        
        if (heroSettings.title && heroTitle) heroTitle.textContent = heroSettings.title;
        if (heroSettings.subtitle && heroSubtitle) heroSubtitle.textContent = heroSettings.subtitle;
        if (heroSettings.fontSize && heroTitle) heroTitle.style.fontSize = heroSettings.fontSize;
        if (heroSettings.fontWeight && heroTitle) heroTitle.style.fontWeight = heroSettings.fontWeight;
        if (heroSettings.color && heroTitle) heroTitle.style.color = heroSettings.color;
    }
    
    // Sosyal medya linklerini yÃ¼kle
    const socialLinks = JSON.parse(localStorage.getItem('social_links') || '{}');
    const socialContainer = document.querySelector('footer div[style*="gap: 15px"]');
    if (socialContainer && Object.keys(socialLinks).length > 0) {
        let html = '';
        if (socialLinks.facebook) html += `<a href="${socialLinks.facebook}" target="_blank" style="width: 40px; height: 40px; border-radius: 50%; background: #1877f2; display: flex; align-items: center; justify-content: center; color: white; text-decoration: none;">f</a>`;
        if (socialLinks.instagram) html += `<a href="${socialLinks.instagram}" target="_blank" style="width: 40px; height: 40px; border-radius: 50%; background: linear-gradient(45deg, #833ab4, #fd1d1d, #fcb045); display: flex; align-items: center; justify-content: center; color: white; text-decoration: none;">ðŸ“·</a>`;
        if (socialLinks.linkedin) html += `<a href="${socialLinks.linkedin}" target="_blank" style="width: 40px; height: 40px; border-radius: 50%; background: #0a66c2; display: flex; align-items: center; justify-content: center; color: white; text-decoration: none;">in</a>`;
        if (socialLinks.twitter) html += `<a href="${socialLinks.twitter}" target="_blank" style="width: 40px; height: 40px; border-radius: 50%; background: #1da1f2; display: flex; align-items: center; justify-content: center; color: white; text-decoration: none;">ð•</a>`;
        if (socialLinks.youtube) html += `<a href="${socialLinks.youtube}" target="_blank" style="width: 40px; height: 40px; border-radius: 50%; background: #ff0000; display: flex; align-items: center; justify-content: center; color: white; text-decoration: none;">Ã¢â€“Â¶</a>`;
        if (html) socialContainer.innerHTML = html;
    }
    
    // Renk ayarlarÄ±nÄ± yÃ¼kle
    const colorSettings = JSON.parse(localStorage.getItem('color_settings') || '{}');
    if (Object.keys(colorSettings).length > 0) {
        const root = document.documentElement;
        if (colorSettings.primary) root.style.setProperty('--primary', colorSettings.primary);
        if (colorSettings.secondary) root.style.setProperty('--secondary', colorSettings.secondary);
        if (colorSettings.accent) root.style.setProperty('--accent', colorSettings.accent);
    }
}

</script>

<!-- AI ASSISTANT PANEL -->
<div class="ai-assistant-panel" id="aiAssistantPanel">
    <div class="ai-panel-header">
        <div class="ai-panel-header-content">
            <div class="ai-panel-logo">ðŸ—ï¸</div>
            <div class="ai-panel-title">
                <h2>CEE MÄ°MARLIK</h2>
                <p>MimarlÄ±k & Mevzuat DanÄ±ÅŸmanÄ±</p>
            </div>
        </div>
        <button class="ai-panel-close" onclick="closeAiPanel()">Ã—</button>
    </div>
    
    <div class="ai-panel-messages" id="aiPanelMessages">
        <div class="ai-panel-message assistant">
            <div class="ai-panel-bubble">
                <strong>Merhaba! ðŸ‘‹</strong><br><br>
                Ben CEE MÄ°MARLIK'Ä±n AI asistanÄ±yÄ±m. Size mimarlÄ±k ve yapÄ± mevzuatÄ± konularÄ±nda yardÄ±mcÄ± olabilirim.<br><br>
                <strong>YardÄ±mcÄ± olabileceÄŸim konular:</strong><br>
                â€¢ Ä°mar planÄ± ve imar durumu<br>
                â€¢ Piyes Ã¶lÃ§Ã¼leri ve teknik Ã§izimler<br>
                â€¢ YangÄ±n, merdiven, otopark yÃ¶netmelikleri<br>
                â€¢ Ä°nÅŸaat ruhsatÄ± sÃ¼reÃ§leri<br>
                â€¢ Mimari proje hazÄ±rlama<br><br>
                AklÄ±nÄ±za takÄ±lan soruyu sorabilirsiniz! ðŸ—ï¸
            </div>
        </div>
    </div>
    
    <div class="ai-panel-quick-questions">
        <button class="ai-panel-quick-btn" onclick="askPanelQuestion('Piyes Ã¶lÃ§Ã¼leri nedir?')">ðŸ“ Piyes</button>
        <button class="ai-panel-quick-btn" onclick="askPanelQuestion('YangÄ±n merdiveni')">ðŸ”¥ YangÄ±n</button>
        <button class="ai-panel-quick-btn" onclick="askPanelQuestion('Merdiven Ã¶lÃ§Ã¼leri')">ðŸªœ Merdiven</button>
        <button class="ai-panel-quick-btn" onclick="askPanelQuestion('Emsal nedir?')">ðŸ“Š Emsal</button>
        <button class="ai-panel-quick-btn" onclick="askPanelQuestion('SÄ±ÄŸÄ±nak')">ðŸ›¡ï¸ SÄ±ÄŸÄ±nak</button>
        <button class="ai-panel-quick-btn" onclick="askPanelQuestion('Otopark Ã¶lÃ§Ã¼leri')">ðŸš— Otopark</button>
    </div>
    
    <div class="ai-panel-input-area">
        <div class="ai-panel-input-wrapper">
            <input 
                type="text" 
                class="ai-panel-input" 
                id="aiPanelInput" 
                placeholder="Sorunuzu yazÄ±n..."
                onkeypress="if(event.key==='Enter') sendPanelMessage()"
            >
            <button class="ai-panel-send" onclick="sendPanelMessage()">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="22" y1="2" x2="11" y2="13"></line>
                    <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                </svg>
            </button>
        </div>
    </div>
</div>

<!-- ============================================ -->
<!-- FIREBASE CONFIG - ZORUNLU -->
<!-- ============================================ -->
<script type="module" src="firebase-config.js"></script>

<!-- ============================================ -->
<!-- FIRESTORE ENTEGRASYONU - PROJELERI YÃœKLE -->
<!-- ============================================ -->
<script type="module">
import { collection, getDocs, orderBy, query } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';

// Firebase hazÄ±r olmasÄ±nÄ± bekle
window.addEventListener('DOMContentLoaded', async () => {
    // Firebase config yÃ¼klenene kadar bekle
    let attempts = 0;
    while (!window.firebaseDB && attempts < 50) {
        await new Promise(resolve => setTimeout(resolve, 100));
        attempts++;
    }
    
    if (!window.firebaseDB) {
        return;
    }
    
    try {
        const q = query(collection(window.firebaseDB, 'projects'), orderBy('createdAt', 'desc'));
        const querySnapshot = await getDocs(q);
        
        const projects = [];
        querySnapshot.forEach((doc) => {
            const data = doc.data();
            projects.push({
                id: doc.id,
                title: data.title || '',
                description: data.description || '',
                img: data.thumbnail || data.images[0],
                media: data.images || [],
                tags: data.tags || [],
                details: data.details || {},
                specs: data.specs || {},
                createdAt: data.createdAt
            });
        });
        
        window.projects = projects;
        
        // Projeleri render et (eÄŸer renderProjects fonksiyonu varsa)
        if (typeof window.renderProjects === 'function') {
            window.renderProjects();
        } else {
            }
        
    } catch (error) {
        }
});

// Proje detay sayfasÄ±na git
window.openProjectDetail = function(projectId) {
    window.location.href = `project-detail.html?id=${projectId}`;
};
</script>



<!-- Firebase Integration -->
<script type="module">
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
    import { getFirestore, collection, getDocs, query, orderBy } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';
    
    // Firebase config yÃ¼kle
    try {
        const response = await fetch('firebase-config.js');
        const configText = await response.text();
        const configMatch = configText.match(/firebaseConfig\s*=\s*(\{[^}]+\})/);
        
        if (configMatch) {
            const firebaseConfig = eval('(' + configMatch[1] + ')');
            
            // API key kontrolÃ¼
            if (firebaseConfig.apiKey && !firebaseConfig.apiKey.includes('BURAYA')) {
                const app = initializeApp(firebaseConfig);
                const db = getFirestore(app);
                
                // Projeleri Ã§ek
                const q = query(collection(db, 'projects'), orderBy('createdAt', 'desc'));
                const querySnapshot = await getDocs(q);
                
                const firebaseProjects = [];
                querySnapshot.forEach((doc) => {
                    firebaseProjects.push({ id: doc.id, ...doc.data() });
                });
                
                if (firebaseProjects.length > 0) {
                    console.log('âœ… Firebase projeleri yÃ¼klendi:', firebaseProjects.length);
                    window.firebaseProjects = firebaseProjects;
                    
                    // Proje listesini gÃ¼ncelle
                    if (typeof displayProjects === 'function') {
                        displayProjects(firebaseProjects);
                    }
                }
            }
        }
    } catch (error) {
        console.log('â„¹ï¸ Firebase config bulunamadÄ±, demo modda Ã§alÄ±ÅŸÄ±yor');
    }
</script>

    <script src="cookie-consent.js"></script>

<!-- Service Worker Registration -->
<script>
if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js')
            .then(reg => console.log('âœ… Service Worker kayÄ±tlÄ±'))
            .catch(err => console.log('âŒ Service Worker hatasÄ±:', err));
    });
}
</script>

<script>
// Logo yÃ¼kleyici
function loadSiteLogo() {
    const logo = localStorage.getItem('cee_site_logo');
    const logoImg = document.getElementById('headerLogo');
    const logoTitle = document.getElementById('headerTitle');
    
    if (logo && logo.trim() !== '') {
        if (logoImg) {
            logoImg.src = logo;
            logoImg.style.display = 'block';
        }
        if (logoTitle) logoTitle.style.display = 'none';
    } else {
        if (logoImg) logoImg.style.display = 'none';
        if (logoTitle) logoTitle.style.display = 'block';
    }
}

// Sayfa yÃ¼klendiÄŸinde
document.addEventListener('DOMContentLoaded', loadSiteLogo);
</script>

<script>
// Logo yÃ¼kleyici
function loadSiteLogo() {
    const logo = localStorage.getItem('cee_site_logo');
    const logoImg = document.getElementById('siteLogo');
    const logoTitle = document.getElementById('siteTitle');
    
    if (logo && logo.trim() !== '') {
        if (logoImg) {
            logoImg.src = logo;
            logoImg.style.display = 'block';
        }
        if (logoTitle) logoTitle.style.display = 'none';
    } else {
        if (logoImg) logoImg.style.display = 'none';
        if (logoTitle) logoTitle.style.display = 'block';
    }
}

// Sayfa yÃ¼klendiÄŸinde
if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', loadSiteLogo);
} else {
    loadSiteLogo();
}
</script>

</body>

</html>
<script>
// FIX: Sayfa yÃ¼klendiÄŸinde projeleri gÃ¶ster
if (typeof toggleChatMenu === 'undefined') {
    window.toggleChatMenu = function() {};
}

document.addEventListener('DOMContentLoaded', function() {
    try {
        var saved = localStorage.getItem('cee_projects');
        if (saved) window.projects = JSON.parse(saved);
    } catch(e) {}
    
    setTimeout(function() {
        if (typeof renderProjects === 'function') {
            renderProjects();
        }
        if (typeof initHeroSlider === 'function') {
            initHeroSlider();
        }
    }, 100);
});
</script>

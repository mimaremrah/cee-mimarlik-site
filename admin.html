<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="CEE Mimarlık - Yönetim Paneli">
    <meta name="robots" content="noindex, nofollow">
    <title>CEE Mimarlık | Yönetim Paneli</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
/* Cross-Browser & Mobile Uyumluluk */
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box;-webkit-box-sizing:border-box}
html{-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;scroll-behavior:smooth;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}
html,body{height:100%;min-height:100%;min-height:-webkit-fill-available}
@supports(height:100dvh){html,body{min-height:100dvh}}
body{padding:env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left)}
*{-webkit-tap-highlight-color:transparent;touch-action:manipulation}
input,button,select,textarea{font-family:inherit;font-size:inherit;-webkit-appearance:none;-moz-appearance:none;appearance:none}
@media(max-width:768px){input,select,textarea{font-size:16px!important}}
img,video{max-width:100%;height:auto;display:block}
a{color:inherit;text-decoration:none}
::selection{background:#5a6677;color:#fff}
::-moz-selection{background:#5a6677;color:#fff}
@media(prefers-reduced-motion:reduce){*{animation-duration:.01ms!important;transition-duration:.01ms!important}}

        * { margin: 0; padding: 0; box-sizing: border-box; }

        :root {
            --primary: #5a6677;
            --primary-dark: #b8962e;
            --bg-dark: #0f172a;
            --bg-card: #1e293b;
            --bg-hover: #334155;
            --text-primary: #f1f5f9;
            --text-secondary: #94a3b8;
            --border: #334155;
            --success: #10b981;
            --danger: #ef4444;
            --warning: #f59e0b;
        }

        body {
            font-family: 'Inter', -apple-system, sans-serif;
            background: var(--bg-dark);
            color: var(--text-primary);
            min-height: 100vh;
        }

        .admin-layout { display: flex; min-height: 100vh; }

        /* SIDEBAR */
        .sidebar {
            width: 250px;
            background: var(--bg-card);
            border-right: 1px solid var(--border);
            position: fixed;
            height: 100vh;
            display: flex;
            flex-direction: column;
            z-index: 100;
        }

        .sidebar-header {
            padding: 20px;
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .sidebar-logo {
            width: 42px;
            height: 42px;
            background: var(--primary);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 14px;
            color: #1a1a1a;
            overflow: hidden;
        }

        .sidebar-logo img { width: 100%; height: 100%; object-fit: contain; }
        .sidebar-title { font-size: 15px; font-weight: 600; }
        .sidebar-subtitle { font-size: 11px; color: var(--text-secondary); }
        .sidebar-nav { flex: 1; padding: 15px 10px; overflow-y: auto; }
        .nav-section { margin-bottom: 20px; }
        .nav-section-title { font-size: 10px; font-weight: 600; color: var(--text-secondary); text-transform: uppercase; letter-spacing: 1px; padding: 8px 15px; }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 11px 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 13px;
            margin-bottom: 2px;
        }

        .nav-item:hover { background: var(--bg-hover); color: var(--text-primary); }
        .nav-item.active { background: var(--primary); color: #1a1a1a; font-weight: 500; }
        .nav-item-icon { font-size: 16px; width: 22px; text-align: center; }

        .nav-badge {
            margin-left: auto;
            background: var(--danger);
            color: white;
            font-size: 10px;
            padding: 2px 7px;
            border-radius: 10px;
            font-weight: 600;
        }

        .sidebar-footer { padding: 15px; border-top: 1px solid var(--border); }

        .user-box {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            border-radius: 8px;
            background: var(--bg-hover);
        }

        .user-avatar {
            width: 34px;
            height: 34px;
            background: var(--primary);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 14px;
            color: #1a1a1a;
        }

        .user-name { font-size: 13px; font-weight: 500; }
        .user-role { font-size: 11px; color: var(--text-secondary); }

        /* MAIN */
        .main-content { flex: 1; margin-left: 250px; padding: 25px; min-height: 100vh; }

        .page-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px; }
        .page-title { font-size: 22px; font-weight: 600; }
        .page-subtitle { font-size: 13px; color: var(--text-secondary); margin-top: 3px; }
        .header-actions { display: flex; gap: 10px; }

        /* BUTTONS */
        .btn {
            padding: 10px 18px;
            border: none;
            border-radius: 8px;
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            font-family: inherit;
        }

        .btn-primary { background: var(--primary); color: #1a1a1a; }
        .btn-primary:hover { background: var(--primary-dark); }
        .btn-secondary { background: var(--bg-hover); color: var(--text-primary); }
        .btn-secondary:hover { background: #475569; }
        .btn-danger { background: var(--danger); color: white; }
        .btn-success { background: var(--success); color: white; }
        .btn-sm { padding: 6px 12px; font-size: 12px; }

        /* CARDS */
        .card { background: var(--bg-card); border-radius: 12px; border: 1px solid var(--border); margin-bottom: 20px; }
        .card-header { padding: 16px 20px; border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; align-items: center; }
        .card-title { font-size: 14px; font-weight: 600; display: flex; align-items: center; gap: 10px; }
        .card-body { padding: 20px; }

        /* STATS */
        .stats-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; margin-bottom: 25px; }

        .stat-card { background: var(--bg-card); border-radius: 12px; padding: 20px; border: 1px solid var(--border); }

        .stat-icon { width: 42px; height: 42px; border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 20px; margin-bottom: 12px; }
        .stat-icon.blue { background: rgba(59, 130, 246, 0.15); }
        .stat-icon.green { background: rgba(16, 185, 129, 0.15); }
        .stat-icon.yellow { background: rgba(245, 158, 11, 0.15); }
        .stat-icon.purple { background: rgba(139, 92, 246, 0.15); }

        .stat-value { font-size: 26px; font-weight: 700; margin-bottom: 4px; }
        .stat-label { font-size: 12px; color: var(--text-secondary); }

        /* GRID */
        .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }

        /* FORM */
        .form-group { margin-bottom: 16px; }
        .form-label { display: block; font-size: 12px; font-weight: 500; margin-bottom: 6px; color: var(--text-secondary); }

        .form-input, .form-select, .form-textarea {
            width: 100%;
            padding: 11px 14px;
            background: var(--bg-dark);
            border: 1px solid var(--border);
            border-radius: 8px;
            color: var(--text-primary);
            font-size: 13px;
            font-family: inherit;
            transition: all 0.2s;
        }

        .form-input:focus, .form-select:focus, .form-textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.1);
        }

        .form-textarea { min-height: 90px; resize: vertical; }
        .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }

        /* QUICK ACTIONS */
        .quick-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; }

        .quick-card {
            background: var(--bg-dark);
            border: 1px solid var(--border);
            border-radius: 10px;
            padding: 18px 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
        }

        .quick-card:hover { border-color: var(--primary); transform: translateY(-2px); }
        .quick-card-icon { font-size: 26px; margin-bottom: 10px; }
        .quick-card-label { font-size: 12px; color: var(--text-secondary); }

        /* MESSAGES */
        .msg-item { display: flex; gap: 12px; padding: 14px; border-bottom: 1px solid var(--border); transition: background 0.2s; }
        .msg-item:hover { background: var(--bg-hover); }
        .msg-item:last-child { border-bottom: none; }

        .msg-avatar {
            width: 40px; height: 40px;
            background: var(--primary);
            border-radius: 10px;
            display: flex; align-items: center; justify-content: center;
            font-weight: 600; color: #1a1a1a; flex-shrink: 0; font-size: 14px;
        }

        .msg-content { flex: 1; min-width: 0; }
        .msg-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 3px; }
        .msg-name { font-weight: 500; font-size: 13px; }
        .msg-time { font-size: 11px; color: var(--text-secondary); }
        .msg-subject { font-size: 12px; color: var(--primary); margin-bottom: 3px; }
        .msg-preview { font-size: 12px; color: var(--text-secondary); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .msg-unread { background: rgba(212, 175, 55, 0.05); }

        /* PROJECTS */
        .project-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 15px; }

        .project-card { background: var(--bg-dark); border-radius: 10px; overflow: hidden; border: 1px solid var(--border); transition: all 0.2s; }
        .project-card:hover { border-color: var(--primary); transform: translateY(-2px); }
        .project-img { width: 100%; height: 120px; object-fit: cover; }
        .project-info { padding: 12px; }
        .project-title { font-size: 13px; font-weight: 500; margin-bottom: 4px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .project-meta { font-size: 11px; color: var(--text-secondary); }

        .project-actions { display: flex; gap: 6px; padding: 10px 12px; border-top: 1px solid var(--border); }
        .project-actions button {
            flex: 1; padding: 6px;
            background: var(--bg-hover); border: none; border-radius: 6px;
            color: var(--text-secondary); cursor: pointer; font-size: 11px; transition: all 0.2s;
        }
        .project-actions button:hover { background: var(--primary); color: #1a1a1a; }

        /* LIST ITEMS */
        .list-item { display: flex; align-items: center; gap: 14px; padding: 14px; background: var(--bg-dark); border-radius: 10px; margin-bottom: 10px; border: 1px solid var(--border); }
        .list-item-icon { font-size: 22px; }
        .list-item-content { flex: 1; }
        .list-item-title { font-weight: 500; font-size: 14px; margin-bottom: 2px; }
        .list-item-subtitle { font-size: 12px; color: var(--text-secondary); }
        .list-item-actions { display: flex; gap: 6px; }

        /* SECTIONS */
        .content-section { display: none; }
        .content-section.active { display: block; }

        /* EMPTY STATE */
        .empty-state { text-align: center; padding: 40px 20px; color: var(--text-secondary); }
        .empty-icon { font-size: 45px; margin-bottom: 12px; opacity: 0.5; }
        .empty-text { font-size: 13px; }

        /* LOGIN */
        .login-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--bg-dark);
            display: flex; align-items: center; justify-content: center;
            z-index: 10000;
        }

        .login-box { background: var(--bg-card); padding: 35px; border-radius: 16px; width: 100%; max-width: 380px; border: 1px solid var(--border); }
        .login-logo { text-align: center; margin-bottom: 25px; }
        .login-logo-icon { width: 65px; height: 65px; background: var(--primary); border-radius: 14px; display: inline-flex; align-items: center; justify-content: center; font-size: 28px; color: #1a1a1a; margin-bottom: 12px; }
        .login-title { font-size: 20px; font-weight: 600; }
        .login-subtitle { font-size: 12px; color: var(--text-secondary); margin-top: 4px; }

        /* TOAST */
        .toast-container { position: fixed; top: 20px; right: 20px; z-index: 9999; display: flex; flex-direction: column; gap: 10px; }
        .toast { background: var(--bg-card); border: 1px solid var(--border); padding: 14px 18px; border-radius: 10px; display: flex; align-items: center; gap: 10px; box-shadow: 0 10px 30px rgba(0,0,0,0.3); animation: slideIn 0.3s ease; min-width: 280px; font-size: 13px; }
        .toast.success { border-left: 4px solid var(--success); }
        .toast.error { border-left: 4px solid var(--danger); }
        @keyframes slideIn { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }

        /* UPLOAD AREA */
        .upload-area { border: 2px dashed var(--border); border-radius: 10px; padding: 30px; text-align: center; cursor: pointer; transition: all 0.2s; }
        .upload-area:hover { border-color: var(--primary); background: rgba(212, 175, 55, 0.05); }
        .upload-icon { font-size: 35px; margin-bottom: 10px; }
        .upload-text { font-size: 13px; color: var(--text-secondary); }

        /* RESPONSIVE */
        @media (max-width: 1200px) { .stats-grid { grid-template-columns: repeat(2, 1fr); } .grid-2 { grid-template-columns: 1fr; } .quick-grid { grid-template-columns: repeat(2, 1fr); } }
        @media (max-width: 768px) { .sidebar { transform: translateX(-100%); } .main-content { margin-left: 0; } .stats-grid { grid-template-columns: 1fr; } }

        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: var(--bg-dark); }
        ::-webkit-scrollbar-thumb { background: var(--border); border-radius: 3px; }
        .hidden { display: none !important; }
    </style>

    <!-- iOS Safari 100vh Fix -->
    <script>
    (function(){var vh=window.innerHeight*0.01;document.documentElement.style.setProperty('--vh',vh+'px');window.addEventListener('resize',function(){vh=window.innerHeight*0.01;document.documentElement.style.setProperty('--vh',vh+'px')})})();
    </script>
</head>
<body>
    <!-- LOGIN -->
    <div class="login-overlay" id="loginScreen">
        <div class="login-box">
            <div class="login-logo">
                <div class="login-logo-icon">ðŸ </div>
                <h1 class="login-title">Yönetim Paneli</h1>
                <p class="login-subtitle">CEE Mimarlık Admin Girişi</p>
            </div>
            <div class="form-group">
                <label class="form-label">Kullanıcı Adı</label>
                <input type="text" class="form-input" id="loginUsername" placeholder="admin">
            </div>
            <div class="form-group">
                <label class="form-label">Şifre</label>
                <input type="password" class="form-input" id="loginPassword" placeholder=""¢"¢"¢"¢"¢"¢"¢"¢">
            </div>
            <button class="btn btn-primary" style="width: 100%; margin-top: 10px;" onclick="login()">Giriş Yap</button>
            <p style="text-align: center; margin-top: 15px; font-size: 12px;">
                <a href="index.html" style="color: var(--primary);">â† Ana Sayfaya Dön</a>
            </p>
        </div>
    </div>

    <!-- MAIN LAYOUT -->
    <div class="admin-layout" id="adminLayout" style="display: none;">
        <!-- SIDEBAR -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-logo" id="sidebarLogo">CEE</div>
                <div>
                    <div class="sidebar-title">CEE Mimarlık</div>
                    <div class="sidebar-subtitle">Yönetim Paneli</div>
                </div>
            </div>

            <nav class="sidebar-nav">
                <div class="nav-section">
                    <div class="nav-section-title">Ana Menü</div>
                    <a class="nav-item active" onclick="showSection('dashboard', this)">
                        <span class="nav-item-icon">ðŸ“Š</span> Dashboard
                    </a>
                    <a class="nav-item" onclick="showSection('projects', this)">
                        <span class="nav-item-icon">ðŸ—ï¸</span> Projeler
                    </a>
                    <a class="nav-item" onclick="showSection('messages', this)">
                        <span class="nav-item-icon">ðŸ’¬</span> Mesajlar
                        <span class="nav-badge" id="msgBadge" style="display:none;">0</span>
                    </a>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">İçerik Yönetimi</div>
                    <a class="nav-item" onclick="showSection('hero', this)">
                        <span class="nav-item-icon">ðŸŽ¨</span> Hero Alanı
                    </a>
                    <a class="nav-item" onclick="showSection('services', this)">
                        <span class="nav-item-icon">ðŸ› ï¸</span> Hizmetler
                    </a>
                    <a class="nav-item" onclick="showSection('references', this)">
                        <span class="nav-item-icon">ðŸ¢</span> Referanslar
                    </a>
                    <a class="nav-item" onclick="showSection('team', this)">
                        <span class="nav-item-icon">ðŸ‘¥</span> Ekip
                    </a>
                    <a class="nav-item" onclick="showSection('faq', this)">
                        <span class="nav-item-icon">â“</span> SSS
                    </a>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">Ayarlar</div>
                    <a class="nav-item" onclick="showSection('contact', this)">
                        <span class="nav-item-icon">ðŸ“ž</span> İletişim Bilgileri
                    </a>
                    <a class="nav-item" onclick="showSection('settings', this)">
                        <span class="nav-item-icon">âš™ï¸</span> Site Ayarları
                    </a>
                    <a class="nav-item" onclick="showSection('security', this)">
                        <span class="nav-item-icon">ðŸ”’</span> Güvenlik
                    </a>
                </div>
            </nav>

            <div class="sidebar-footer">
                <a href="index.html" target="_blank" class="btn btn-primary" style="width: 100%; margin-bottom: 10px; justify-content: center;">ðŸ‘ï¸ Siteyi Görüntüle</a>
                <div class="user-box">
                    <div class="user-avatar">A</div>
                    <div style="flex:1;">
                        <div class="user-name">Admin</div>
                        <div class="user-role">Yönetici</div>
                    </div>
                </div>
                <button class="btn btn-secondary btn-sm" style="width: 100%; margin-top: 10px;" onclick="logout()">ðŸšª Çıkış</button>
            </div>
        </aside>

        <!-- MAIN -->
        <main class="main-content">
            <!-- DASHBOARD -->
            <section class="content-section active" id="section-dashboard">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">Dashboard</h1>
                        <p class="page-subtitle">Site özeti ve hızlı işlemler</p>
                    </div>
                    <div class="header-actions">
                        <a href="index.html" target="_blank" class="btn btn-secondary">ðŸ‘ï¸ Siteyi Gör</a>
                    </div>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon blue">ðŸ—ï¸</div>
                        <div class="stat-value" id="statProjects">0</div>
                        <div class="stat-label">Proje</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon green">ðŸ’¬</div>
                        <div class="stat-value" id="statMessages">0</div>
                        <div class="stat-label">Mesaj</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon yellow">ðŸ› ï¸</div>
                        <div class="stat-value" id="statServices">0</div>
                        <div class="stat-label">Hizmet</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon purple">ðŸ¢</div>
                        <div class="stat-value" id="statRefs">0</div>
                        <div class="stat-label">Referans</div>
                    </div>
                </div>

                <div class="grid-2">
                    <div class="card">
                        <div class="card-header">
                            <span class="card-title">âš¡ Hızlı İşlemler</span>
                        </div>
                        <div class="card-body">
                            <div class="quick-grid">
                                <div class="quick-card" onclick="showSection('projects')">
                                    <div class="quick-card-icon">ðŸ“¸</div>
                                    <div class="quick-card-label">Proje Ekle</div>
                                </div>
                                <div class="quick-card" onclick="showSection('hero')">
                                    <div class="quick-card-icon">ðŸŽ¨</div>
                                    <div class="quick-card-label">Hero Düzenle</div>
                                </div>
                                <div class="quick-card" onclick="showSection('contact')">
                                    <div class="quick-card-icon">ðŸ“ž</div>
                                    <div class="quick-card-label">İletişim</div>
                                </div>
                                <div class="quick-card" onclick="showSection('settings')">
                                    <div class="quick-card-icon">âš™ï¸</div>
                                    <div class="quick-card-label">Ayarlar</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <span class="card-title">ðŸ’¬ Son Mesajlar</span>
                            <button class="btn btn-sm btn-secondary" onclick="showSection('messages')">Tümü</button>
                        </div>
                        <div class="card-body" style="padding: 0; max-height: 260px; overflow-y: auto;">
                            <div id="recentMsgs">
                                <div class="empty-state">
                                    <div class="empty-icon">ðŸ“­</div>
                                    <div class="empty-text">Henüz mesaj yok</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- PROJECTS -->
            <section class="content-section" id="section-projects">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">Projeler</h1>
                        <p class="page-subtitle">Proje galerisi yönetimi</p>
                    </div>
                    <div class="header-actions">
                        <input type="file" id="projectUpload" accept="image/*" multiple style="display:none;" onchange="uploadProjects(this)">
                        <button class="btn btn-primary" onclick="document.getElementById('projectUpload').click()">âÅ¾"¢ Proje Ekle</button>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-title">ðŸ—ï¸ Tüm Projeler</span>
                        <input type="text" class="form-input" placeholder="ðŸ” Ara..." style="width: 200px;" onkeyup="filterProjects(this.value)">
                    </div>
                    <div class="card-body">
                        <div class="project-grid" id="projectGrid"></div>
                    </div>
                </div>
            </section>

            <!-- MESSAGES -->
            <section class="content-section" id="section-messages">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">Mesajlar</h1>
                        <p class="page-subtitle">İletişim formundan gelen mesajlar</p>
                    </div>
                    <div class="header-actions">
                        <button class="btn btn-danger" onclick="clearMessages()">ðŸ—‘ï¸ Tümünü Sil</button>
                    </div>
                </div>

                <div class="card">
                    <div class="card-body" style="padding: 0;">
                        <div id="allMsgs"></div>
                    </div>
                </div>
            </section>

            <!-- HERO -->
            <section class="content-section" id="section-hero">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">Hero Alanı</h1>
                        <p class="page-subtitle">Ana sayfa hero bölümü</p>
                    </div>
                </div>

                <div class="card">
                    <div class="card-body">
                        <div class="form-group">
                            <label class="form-label">Marka Adı (Büyük Başlık)</label>
                            <input type="text" class="form-input" id="heroBrand" value="CEE MİMARLIK">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Açıklama Metni</label>
                            <textarea class="form-textarea" id="heroDesc" rows="3">CEE Mimarlık olarak yaşam alanlarınızı, ofislerinizi, villalarınızı ve ticari projelerinizi müşterilerimizin beklentilerine göre yeniden şekillendiriyoruz.</textarea>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Font Boyutu: <span id="heroSizeVal">52px</span></label>
                                <input type="range" class="form-input" id="heroSize" min="32" max="80" value="52" style="padding:5px;" oninput="document.getElementById('heroSizeVal').textContent=this.value+'px'">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Font Kalınlığı</label>
                                <select class="form-select" id="heroWeight">
                                    <option value="300">İnce</option>
                                    <option value="400">Normal</option>
                                    <option value="500">Orta</option>
                                    <option value="600" selected>Kalın</option>
                                    <option value="700">Çok Kalın</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Buton Metni</label>
                            <input type="text" class="form-input" id="heroBtn" value="İLETİŞİME GEÇİN">
                        </div>
                        <button class="btn btn-primary" onclick="saveHero()">ðŸ’¾ Kaydet</button>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span class="card-title">ðŸ–¼ï¸ Hero Görselleri (Slider)</span>
                        <input type="file" id="heroImgUpload" accept="image/*" multiple style="display:none;" onchange="uploadHeroImages(this)">
                        <button class="btn btn-sm btn-secondary" onclick="document.getElementById('heroImgUpload').click()">âž• Görsel Ekle</button>
                    </div>
                    <div class="card-body">
                        <div class="project-grid" id="heroImagesGrid"></div>
                    </div>
                </div>
            </section>

            <!-- SERVICES -->
            <section class="content-section" id="section-services">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">Hizmetler</h1>
                        <p class="page-subtitle">Sunulan hizmetleri yönetin</p>
                    </div>
                    <div class="header-actions">
                        <button class="btn btn-primary" onclick="addService()">âÅ¾"¢ Yeni Hizmet</button>
                    </div>
                </div>

                <div class="card">
                    <div class="card-body" id="servicesList"></div>
                    <div style="padding: 15px 20px; border-top: 1px solid var(--border);">
                        <button class="btn btn-success" onclick="saveServices()">ðŸ’¾ Hizmetleri Kaydet</button>
                    </div>
                </div>
            </section>

            <!-- REFERENCES -->
            <section class="content-section" id="section-references">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">Referanslar</h1>
                        <p class="page-subtitle">Çalıştığınız kurumlar</p>
                    </div>
                    <div class="header-actions">
                        <button class="btn btn-primary" onclick="addReference()">âÅ¾"¢ Yeni Referans</button>
                    </div>
                </div>

                <div class="card">
                    <div class="card-body" id="refsList"></div>
                    <div style="padding: 15px 20px; border-top: 1px solid var(--border);">
                        <button class="btn btn-success" onclick="saveReferences()">ðŸ’¾ Referansları Kaydet</button>
                    </div>
                </div>
            </section>

            <!-- TEAM -->
            <section class="content-section" id="section-team">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">Ekip</h1>
                        <p class="page-subtitle">Ekip üyelerini yönetin</p>
                    </div>
                    <div class="header-actions">
                        <button class="btn btn-primary" onclick="addTeamMember()">âž• Üye Ekle</button>
                    </div>
                </div>

                <div class="card">
                    <div class="card-body" id="teamList"></div>
                    <div style="padding: 15px 20px; border-top: 1px solid var(--border);">
                        <button class="btn btn-success" onclick="saveTeam()">ðŸ’¾ Ekibi Kaydet</button>
                    </div>
                </div>
            </section>

            <!-- FAQ -->
            <section class="content-section" id="section-faq">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">Sıkça Sorulan Sorular</h1>
                        <p class="page-subtitle">SSS bölümünü yönetin</p>
                    </div>
                    <div class="header-actions">
                        <button class="btn btn-primary" onclick="addFaq()">âÅ¾"¢ Soru Ekle</button>
                    </div>
                </div>

                <div class="card">
                    <div class="card-body" id="faqList"></div>
                    <div style="padding: 15px 20px; border-top: 1px solid var(--border);">
                        <button class="btn btn-success" onclick="saveFaqs()">ðŸ’¾ SSS Kaydet</button>
                    </div>
                </div>
            </section>

            <!-- CONTACT -->
            <section class="content-section" id="section-contact">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">İletişim Bilgileri</h1>
                        <p class="page-subtitle">Site genelindeki iletişim bilgileri</p>
                    </div>
                </div>

                <div class="card">
                    <div class="card-body">
                        <div class="form-group">
                            <label class="form-label">ðŸ“ Adres</label>
                            <textarea class="form-textarea" id="contactAddr" rows="2">CEE MİMARLIK, Hatip, Ali Osman Çelebi Blv. No:52 A Blok Kat 1 No:3, 59860 Çorlu/Tekirdağ</textarea>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">ðŸ“ž Telefon</label>
                                <input type="tel" class="form-input" id="contactPhone" value="+90 537 327 87 65">
                            </div>
                            <div class="form-group">
                                <label class="form-label">ðŸ“± WhatsApp</label>
                                <input type="tel" class="form-input" id="contactWa" value="+90 537 327 87 65">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">âœ‰ï¸ E-posta</label>
                            <input type="email" class="form-input" id="contactEmail" value="ceemimarlik@gmail.com">
                        </div>
                        <div class="form-group">
                            <label class="form-label">ðŸ—ºï¸ Google Maps Linki</label>
                            <input type="url" class="form-input" id="contactMap" placeholder="https://maps.google.com/...">
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">ðŸ• Çalışma Saatleri</label>
                                <input type="text" class="form-input" id="contactHours" value="Pazartesi - Cuma: 09:00 - 18:00">
                            </div>
                            <div class="form-group">
                                <label class="form-label">ðŸ“… Hafta Sonu</label>
                                <input type="text" class="form-input" id="contactWeekend" value="Cumartesi - Pazar: Kapalı">
                            </div>
                        </div>
                        <button class="btn btn-primary" onclick="saveContact()">ðŸ’¾ Kaydet</button>
                    </div>
                </div>
            </section>

            <!-- SETTINGS -->
            <section class="content-section" id="section-settings">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">Site Ayarları</h1>
                        <p class="page-subtitle">Logo, SEO, tema ve sosyal medya</p>
                    </div>
                </div>

                <div class="grid-2">
                    <div class="card">
                        <div class="card-header">
                            <span class="card-title">ðŸ–¼ï¸ Site Logosu</span>
                            <button class="btn btn-sm btn-danger" id="deleteLogoBtn" style="display:none;" onclick="deleteLogo()">ðŸ—‘ï¸ Sil</button>
                        </div>
                        <div class="card-body">
                            <div class="upload-area" id="logoUploadArea" onclick="document.getElementById('logoUpload').click()">
                                <img id="logoPreview" src="" style="max-width: 180px; max-height: 100px; display: none;">
                                <div id="logoPlaceholder">
                                    <div class="upload-icon">ðŸ“¤</div>
                                    <div class="upload-text">Logo yüklemek için tıklayın</div>
                                </div>
                            </div>
                            <input type="file" id="logoUpload" accept="image/*" style="display:none;" onchange="uploadLogo(this)">
                            <p style="font-size: 11px; color: var(--text-secondary); margin-top: 10px; text-align: center;">PNG veya SVG önerilir (şeffaf arka plan)</p>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header"><span class="card-title">ðŸŒ™ Tema Ayarları</span></div>
                        <div class="card-body">
                            <div class="form-group">
                                <label class="form-label">Varsayılan Tema</label>
                                <select class="form-input" id="defaultTheme">
                                    <option value="light">â˜€ï¸ Açık Tema (Light)</option>
                                    <option value="dark">ðŸŒ™ Koyu Tema (Dark)</option>
                                    <option value="auto">ðŸ”„ Sistem Ayarına Göre</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label" style="display: flex; align-items: center; gap: 10px;">
                                    <input type="checkbox" id="allowDarkToggle" checked style="width: 18px; height: 18px;">
                                    Kullanıcıların tema değiştirmesine izin ver
                                </label>
                            </div>
                            <button class="btn btn-primary" onclick="saveThemeSettings()">ðŸ’¾ Kaydet</button>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header"><span class="card-title">ðŸ” SEO Ayarları</span></div>
                    <div class="card-body">
                        <div class="form-group">
                            <label class="form-label">Site Başlığı (Title)</label>
                            <input type="text" class="form-input" id="seoTitle" placeholder="CEE Mimarlık - Profesyonel Mimari Proje Hizmetleri" maxlength="60">
                            <small style="color: var(--text-secondary); font-size: 11px;">Maksimum 60 karakter önerilir</small>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Site Açıklaması (Meta Description)</label>
                            <textarea class="form-textarea" id="seoDesc" rows="3" placeholder="CEE Mimarlık olarak Çorlu ve çevresinde mimari proje, ruhsat işlemleri, iç mimarlık ve 3D görselleştirme hizmetleri sunuyoruz." maxlength="160"></textarea>
                            <small style="color: var(--text-secondary); font-size: 11px;">Maksimum 160 karakter önerilir</small>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Anahtar Kelimeler (Keywords)</label>
                            <input type="text" class="form-input" id="seoKeywords" placeholder="mimarlık, çorlu mimar, proje, ruhsat, iç mimarlık">
                            <small style="color: var(--text-secondary); font-size: 11px;">Virgülle ayırarak yazın</small>
                        </div>
                        <button class="btn btn-primary" onclick="saveSeoSettings()">ðŸ’¾ Kaydet</button>
                    </div>
                </div>

                <div class="grid-2">
                    <div class="card">
                        <div class="card-header"><span class="card-title">ðŸ“„ Footer</span></div>
                        <div class="card-body">
                            <div class="form-group">
                                <label class="form-label">Şirket Adı</label>
                                <input type="text" class="form-input" id="footerCompany" value="CEE MİMARLIK">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Yıl</label>
                                <input type="number" class="form-input" id="footerYear" value="2026">
                            </div>
                            <button class="btn btn-primary" onclick="saveFooter()">ðŸ’¾ Kaydet</button>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header"><span class="card-title">ðŸŽ¨ Renk Ayarları</span></div>
                        <div class="card-body">
                            <!-- HAZIR TEMALAR -->
                            <div style="margin-bottom: 25px;">
                                <label class="form-label" style="margin-bottom: 12px; display: block;">Hazır Tema Seç:</label>
                                <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                                    <button onclick="applyTheme('cee')" class="btn" style="padding: 10px 16px; border: 2px solid #5a6677; background: linear-gradient(135deg, #f8f9fa, #e2e8f0); color: #1a202c; border-radius: 8px;">
                                        <span style="color: #5a6677;">â—</span> CEE Özel
                                    </button>
                                    <button onclick="applyTheme('classic')" class="btn" style="padding: 10px 16px; border: 2px solid #c9a227; background: linear-gradient(135deg, #fff, #f5f5f5); color: #1a1a1a; border-radius: 8px;">
                                        <span style="color: #c9a227;">â—</span> Klasik Altın
                                    </button>
                                    <button onclick="applyTheme('modern')" class="btn" style="padding: 10px 16px; border: 2px solid #3b82f6; background: linear-gradient(135deg, #fff, #f0f7ff); color: #1a1a1a; border-radius: 8px;">
                                        <span style="color: #3b82f6;">â—</span> Modern Mavi
                                    </button>
                                    <button onclick="applyTheme('dark')" class="btn" style="padding: 10px 16px; border: 2px solid #666; background: linear-gradient(135deg, #2c2c2c, #1a1a1a); color: #fff; border-radius: 8px;">
                                        <span style="color: #c9a227;">â—</span> Koyu Mod
                                    </button>
                                    <button onclick="applyTheme('warm')" class="btn" style="padding: 10px 16px; border: 2px solid #d97706; background: linear-gradient(135deg, #fffbeb, #fef3c7); color: #1a1a1a; border-radius: 8px;">
                                        <span style="color: #d97706;">â—</span> Sıcak Tonlar
                                    </button>
                                    <button onclick="applyTheme('minimal')" class="btn" style="padding: 10px 16px; border: 2px solid #000; background: #fff; color: #1a1a1a; border-radius: 8px;">
                                        <span style="color: #000;">â—</span> Minimalist
                                    </button>
                                </div>
                            </div>
                            
                            <hr style="border: none; border-top: 1px solid #eee; margin: 20px 0;">
                            
                            <!-- MANUEL AYARLAR -->
                            <label class="form-label" style="margin-bottom: 12px; display: block;">veya Manuel Ayarla:</label>
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label">Ana Renk (Accent)</label>
                                    <input type="color" class="form-input" id="colorPrimary" value="#5a6677" style="height:45px;padding:5px;">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Simge Arka Plan</label>
                                    <input type="color" class="form-input" id="colorIconBg" value="#5a6677" style="height:45px;padding:5px;">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label">Sayfa Arka Plan</label>
                                    <input type="color" class="form-input" id="colorBgMain" value="#ffffff" style="height:45px;padding:5px;">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Section Arka Plan</label>
                                    <input type="color" class="form-input" id="colorBgSection" value="#f5f5f5" style="height:45px;padding:5px;">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label">Yazı Rengi</label>
                                    <input type="color" class="form-input" id="colorText" value="#2c2c2c" style="height:45px;padding:5px;">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Header/Footer Rengi</label>
                                    <input type="color" class="form-input" id="colorHeader" value="#1a1a1a" style="height:45px;padding:5px;">
                                </div>
                            </div>
                            
                            <!-- İKON BOYUTU AYARI -->
                            <div style="margin-top: 20px; padding-top: 20px; border-top: 1px solid #e5e5e5;">
                                <label class="form-label" style="margin-bottom: 12px; display: block;">Simge Boyutu: <span id="iconSizeValue">60</span>px</label>
                                <input type="range" id="iconSize" min="40" max="100" value="60" style="width: 100%; cursor: pointer;" oninput="document.getElementById('iconSizeValue').textContent = this.value">
                            </div>
                            
                            <div style="margin-top: 20px;">
                            <button class="btn btn-primary" onclick="saveColors()">ðŸ’¾ Kaydet</button>
                            <button class="btn btn-secondary" style="margin-left:10px;" onclick="resetColors()">ðŸ”„ Sıfırla</button>
                            <button class="btn" style="margin-left:10px; background: #10b981; color: white;" onclick="exportThemeCode()">ðŸ“‹ Kodu Kopyala (Tüm Cihazlar)</button>
                            
                            <!-- Tema Kodu Modal -->
                            <div id="themeCodeModal" style="display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); z-index: 10000; align-items: center; justify-content: center;">
                                <div style="background: white; border-radius: 16px; padding: 30px; max-width: 600px; width: 90%; max-height: 80vh; overflow-y: auto;">
                                    <h3 style="margin: 0 0 20px 0; color: #1a1a1a;">ðŸ“‹ Tema Kodu</h3>
                                    <p style="color: #666; margin-bottom: 15px;">Bu kodu <strong>index.html</strong> dosyasının başındaki <code>SITE_THEME</code> kısmıyla değiştirin:</p>
                                    <textarea id="themeCodeOutput" readonly style="width: 100%; height: 200px; font-family: monospace; font-size: 12px; padding: 15px; border: 2px solid #e5e5e5; border-radius: 8px; background: #f8f9fa; resize: none;"></textarea>
                                    <div style="margin-top: 20px; display: flex; gap: 10px;">
                                        <button onclick="copyThemeCode()" class="btn btn-primary" style="flex: 1;">ðŸ“‹ Kopyala</button>
                                        <button onclick="downloadUpdatedIndex()" class="btn" style="flex: 1; background: #3b82f6; color: white;">ðŸ“¥ Güncel index.html İndir</button>
                                        <button onclick="closeThemeModal()" class="btn btn-secondary">Kapat</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header"><span class="card-title">ðŸ“± Sosyal Medya</span></div>
                    <div class="card-body">
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">ðŸ“· Instagram</label>
                                <input type="url" class="form-input" id="socialIg" placeholder="https://instagram.com/...">
                            </div>
                            <div class="form-group">
                                <label class="form-label">ð• Twitter / X</label>
                                <input type="url" class="form-input" id="socialTw" placeholder="https://twitter.com/...">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">ðŸ’¼ LinkedIn</label>
                                <input type="url" class="form-input" id="socialLi" placeholder="https://linkedin.com/...">
                            </div>
                            <div class="form-group">
                                <label class="form-label">â–¶ï¸ YouTube</label>
                                <input type="url" class="form-input" id="socialYt" placeholder="https://youtube.com/...">
                            </div>
                        </div>
                        <button class="btn btn-primary" onclick="saveSocial()">ðŸ’¾ Kaydet</button>
                    </div>
                </div>
            </section>

            <!-- SECURITY -->
            <section class="content-section" id="section-security">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">Güvenlik</h1>
                        <p class="page-subtitle">Giriş bilgileri ve yedekleme</p>
                    </div>
                </div>

                <div class="grid-2">
                    <div class="card">
                        <div class="card-header"><span class="card-title">ðŸ”’ Şifre Değiştir</span></div>
                        <div class="card-body">
                            <div class="form-group">
                                <label class="form-label">Yeni Kullanıcı Adı</label>
                                <input type="text" class="form-input" id="newUser" placeholder="admin">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Yeni Şifre</label>
                                <input type="password" class="form-input" id="newPass" placeholder=""¢"¢"¢"¢"¢"¢"¢"¢">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Şifre Tekrar</label>
                                <input type="password" class="form-input" id="newPassConfirm" placeholder=""¢"¢"¢"¢"¢"¢"¢"¢">
                            </div>
                            <button class="btn btn-primary" onclick="changePassword()">ðŸ’¾ Güncelle</button>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header"><span class="card-title">ðŸ’¾ Yedekleme</span></div>
                        <div class="card-body">
                            <p style="color: var(--text-secondary); margin-bottom: 15px; font-size: 13px;">
                                Tüm site verilerini yedekleyin veya geri yükleyin.
                            </p>
                            <button class="btn btn-secondary" onclick="exportBackup()">ðŸ“¥ Yedeği İndir</button>
                            <button class="btn btn-secondary" style="margin-left:10px;" onclick="document.getElementById('backupFile').click()">ðŸ“¤ Yedeği Yükle</button>
                            <input type="file" id="backupFile" accept=".json" style="display:none;" onchange="importBackup(this)">
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- TOAST -->
    <div class="toast-container" id="toastBox"></div>

    <!-- SAĞ ALT SABİT LOGO -->
    <div id="fixedLogo" style="position: fixed; bottom: 20px; right: 20px; z-index: 50; display: none;">
        <img id="fixedLogoImg" src="" style="max-width: 120px; max-height: 60px; opacity: 0.7; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));">
    </div>

    <script>
    // AUTH
    let credentials = { username: 'admin', password: 'admin123' };
    try { const s = localStorage.getItem('cee_credentials'); if (s) credentials = JSON.parse(s); } catch(e) {}

    function login() {
        const u = document.getElementById('loginUsername').value;
        const p = document.getElementById('loginPassword').value;
        if (u === credentials.username && p === credentials.password) {
            sessionStorage.setItem('adminLoggedIn', 'true');
            document.getElementById('loginScreen').style.display = 'none';
            document.getElementById('adminLayout').style.display = 'flex';
            loadAll();
            toast('Hoş geldiniz!', 'success');
        } else {
            toast('Hatalı giriş bilgileri!', 'error');
        }
    }

    function logout() {
        sessionStorage.removeItem('adminLoggedIn');
        document.getElementById('loginScreen').style.display = 'flex';
        document.getElementById('adminLayout').style.display = 'none';
    }

    document.addEventListener('keydown', e => { if (e.key === 'Enter' && document.getElementById('loginScreen').style.display !== 'none') login(); });

    if (sessionStorage.getItem('adminLoggedIn') === 'true') {
        document.getElementById('loginScreen').style.display = 'none';
        document.getElementById('adminLayout').style.display = 'flex';
        setTimeout(loadAll, 100);
    }

    // NAVIGATION
    function showSection(id, el) {
        document.querySelectorAll('.content-section').forEach(s => s.classList.remove('active'));
        document.getElementById('section-' + id)?.classList.add('active');
        document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
        if (el) el.classList.add('active');
        else document.querySelector(`[onclick*="'${id}'"]`)?.classList.add('active');
    }

    // DATA
    let projects = [], services = [], refs = [], team = [], faqs = [], heroImages = [];

    const defaultServices = [
        { icon: 'ðŸ ', title: 'Mimari Proje', desc: 'Modern ve fonksiyonel mimari tasarımlar' },
        { icon: 'ðŸ“', title: 'İç Mimarlık', desc: 'Yaşam alanlarınız için özel tasarımlar' },
        { icon: 'ðŸ—ï¸', title: 'Tadilat', desc: 'Profesyonel tadilat ve renovasyon' },
        { icon: 'ðŸ“‹', title: 'Ruhsat İşlemleri', desc: 'Tüm resmi işlemler için danışmanlık' }
    ];

    const defaultRefs = [
        { icon: 'ðŸ›ï¸', title: 'Kamu Kurumları', desc: 'Devlet projeleri' },
        { icon: 'ðŸ¢', title: 'Özel Sektör', desc: 'Ticari projeler' },
        { icon: 'ðŸ ', title: 'Bireysel', desc: 'Konut projeleri' }
    ];

    function loadAll() {
        projects = JSON.parse(localStorage.getItem('cee_projects') || '[]'); renderProjects();
        services = JSON.parse(localStorage.getItem('cee_services') || 'null') || [...defaultServices]; renderServices();
        refs = JSON.parse(localStorage.getItem('cee_references') || 'null') || [...defaultRefs]; renderRefs();
        team = JSON.parse(localStorage.getItem('cee_team') || '[]'); renderTeam();
        faqs = JSON.parse(localStorage.getItem('cee_faqs') || '[]'); renderFaqs();
        heroImages = JSON.parse(localStorage.getItem('hero_images') || '[]'); renderHeroImages();
        loadMessages(); loadHero(); loadContact(); loadSettings(); loadLogo(); updateStats();
    }

    function updateStats() {
        document.getElementById('statProjects').textContent = projects.length;
        const msgs = JSON.parse(localStorage.getItem('contact_messages') || '[]');
        document.getElementById('statMessages').textContent = msgs.length;
        document.getElementById('statServices').textContent = services.length;
        document.getElementById('statRefs').textContent = refs.length;
        const unread = msgs.filter(m => !m.read).length;
        const badge = document.getElementById('msgBadge');
        badge.textContent = unread;
        badge.style.display = unread > 0 ? 'block' : 'none';
    }

    // PROJECTS
    function renderProjects() {
        const grid = document.getElementById('projectGrid');
        if (projects.length === 0) { grid.innerHTML = '<div class="empty-state" style="grid-column:1/-1;"><div class="empty-icon">ðŸ—ï¸</div><div class="empty-text">Henüz proje yok</div></div>'; return; }
        grid.innerHTML = projects.map((p, i) => `<div class="project-card"><img src="${p.img || 'https://via.placeholder.com/300x200?text=Proje'}" class="project-img"><div class="project-info"><div class="project-title">${p.title || 'İsimsiz'}</div><div class="project-meta">${p.category || 'Genel'}</div></div><div class="project-actions"><button onclick="editProject(${i})">âœï¸</button><button onclick="deleteProject(${i})">ðŸ—‘ï¸</button></div></div>`).join('');
    }

    function uploadProjects(input) {
        for (let f of input.files) {
            const reader = new FileReader();
            reader.onload = e => {
                const title = prompt('Proje Adı:', f.name.replace(/\.[^.]+$/, ''));
                if (title !== null) { projects.push({ img: e.target.result, title, category: 'Genel' }); localStorage.setItem('cee_projects', JSON.stringify(projects)); renderProjects(); updateStats(); toast('Proje eklendi', 'success'); }
            };
            reader.readAsDataURL(f);
        }
        input.value = '';
    }

    function editProject(i) { const p = projects[i]; const title = prompt('Proje Adı:', p.title); if (title !== null) { projects[i].title = title; projects[i].category = prompt('Kategori:', p.category || 'Genel') || 'Genel'; localStorage.setItem('cee_projects', JSON.stringify(projects)); renderProjects(); toast('Güncellendi', 'success'); } }
    function deleteProject(i) { if (confirm('Silmek istiyor musunuz?')) { projects.splice(i, 1); localStorage.setItem('cee_projects', JSON.stringify(projects)); renderProjects(); updateStats(); toast('Silindi', 'success'); } }
    function filterProjects(q) { document.querySelectorAll('.project-card').forEach(c => { c.style.display = c.querySelector('.project-title').textContent.toLowerCase().includes(q.toLowerCase()) ? 'block' : 'none'; }); }

    // MESSAGES
    function loadMessages() { const msgs = JSON.parse(localStorage.getItem('contact_messages') || '[]'); renderMsgs(msgs.slice(0, 4), 'recentMsgs'); renderMsgs(msgs, 'allMsgs'); }
    function renderMsgs(msgs, id) {
        const el = document.getElementById(id);
        if (msgs.length === 0) { el.innerHTML = '<div class="empty-state"><div class="empty-icon">ðŸ“­</div><div class="empty-text">Henüz mesaj yok</div></div>'; return; }
        el.innerHTML = msgs.map((m, i) => `<div class="msg-item ${!m.read ? 'msg-unread' : ''}"><div class="msg-avatar">${(m.name || 'A')[0].toUpperCase()}</div><div class="msg-content"><div class="msg-header"><span class="msg-name">${m.name}</span><span class="msg-time">${new Date(m.timestamp || m.date).toLocaleDateString('tr-TR')}</span></div><div class="msg-subject">${m.subject || 'Konu yok'}</div><div class="msg-preview">${m.message}</div></div>${id === 'allMsgs' ? `<button class="btn btn-sm btn-danger" onclick="deleteMsg(${i})">ðŸ—‘ï¸</button>` : ''}</div>`).join('');
        if (id === 'allMsgs') { msgs.forEach(m => m.read = true); localStorage.setItem('contact_messages', JSON.stringify(msgs)); updateStats(); }
    }
    function deleteMsg(i) { const msgs = JSON.parse(localStorage.getItem('contact_messages') || '[]'); msgs.splice(i, 1); localStorage.setItem('contact_messages', JSON.stringify(msgs)); loadMessages(); updateStats(); toast('Silindi', 'success'); }
    function clearMessages() { if (confirm('Tüm mesajları silmek istiyor musunuz?')) { localStorage.setItem('contact_messages', '[]'); loadMessages(); updateStats(); toast('Tümü silindi', 'success'); } }

    // SERVICES
    function renderServices() {
        const el = document.getElementById('servicesList');
        if (services.length === 0) { el.innerHTML = '<div class="empty-state"><div class="empty-icon">ðŸ› ï¸</div><div class="empty-text">Hizmet yok</div></div>'; return; }
        el.innerHTML = services.map((s, i) => `<div class="list-item"><div class="list-item-icon">${s.icon}</div><div class="list-item-content"><div class="list-item-title">${s.title || s.titleTr}</div><div class="list-item-subtitle">${s.desc || s.descTr}</div></div><div class="list-item-actions"><button class="btn btn-sm btn-secondary" onclick="moveItem('services',${i},-1)" ${i===0?'disabled':''}>â–²</button><button class="btn btn-sm btn-secondary" onclick="moveItem('services',${i},1)" ${i===services.length-1?'disabled':''}>â–¼</button><button class="btn btn-sm btn-secondary" onclick="editService(${i})">âœï¸</button><button class="btn btn-sm btn-danger" onclick="deleteItem('services',${i})">ðŸ—‘ï¸</button></div></div>`).join('');
    }
    function addService() { const icon = prompt('Emoji:', 'ðŸ '); const title = prompt('Başlık:', ''); const desc = prompt('Açıklama:', ''); if (title) { services.push({ icon: icon || 'ðŸ ', title, desc }); saveServices(); renderServices(); toast('Hizmet eklendi ve kaydedildi', 'success'); } }
    function editService(i) { const s = services[i]; const icon = prompt('Emoji:', s.icon); const title = prompt('Başlık:', s.title || s.titleTr); const desc = prompt('Açıklama:', s.desc || s.descTr); if (title) { services[i] = { icon: icon || s.icon, title, desc }; saveServices(); renderServices(); toast('Hizmet güncellendi', 'success'); } }
    function saveServices() { localStorage.setItem('cee_services', JSON.stringify(services)); updateStats(); }

    // REFERENCES
    function renderRefs() {
        const el = document.getElementById('refsList');
        if (refs.length === 0) { el.innerHTML = '<div class="empty-state"><div class="empty-icon">ðŸ¢</div><div class="empty-text">Referans yok</div></div>'; return; }
        el.innerHTML = refs.map((r, i) => `<div class="list-item"><div class="list-item-icon">${r.icon}</div><div class="list-item-content"><div class="list-item-title">${r.title || r.titleTr}</div><div class="list-item-subtitle">${r.desc || r.descTr}</div></div><div class="list-item-actions"><button class="btn btn-sm btn-secondary" onclick="moveItem('refs',${i},-1)" ${i===0?'disabled':''}>â–²</button><button class="btn btn-sm btn-secondary" onclick="moveItem('refs',${i},1)" ${i===refs.length-1?'disabled':''}>â–¼</button><button class="btn btn-sm btn-secondary" onclick="editRef(${i})">âœï¸</button><button class="btn btn-sm btn-danger" onclick="deleteItem('refs',${i})">ðŸ—‘ï¸</button></div></div>`).join('');
    }
    function addReference() { const icon = prompt('Emoji:', 'ðŸ¢'); const title = prompt('Başlık:', ''); const desc = prompt('Açıklama:', ''); if (title) { refs.push({ icon: icon || 'ðŸ¢', title, desc }); saveReferences(); renderRefs(); toast('Referans eklendi ve kaydedildi', 'success'); } }
    function editRef(i) { const r = refs[i]; const icon = prompt('Emoji:', r.icon); const title = prompt('Başlık:', r.title || r.titleTr); const desc = prompt('Açıklama:', r.desc || r.descTr); if (title) { refs[i] = { icon: icon || r.icon, title, desc }; saveReferences(); renderRefs(); toast('Referans güncellendi', 'success'); } }
    function saveReferences() { localStorage.setItem('cee_references', JSON.stringify(refs)); updateStats(); }

    // TEAM
    function renderTeam() {
        const el = document.getElementById('teamList');
        if (team.length === 0) { el.innerHTML = '<div class="empty-state"><div class="empty-icon">ðŸ‘¥</div><div class="empty-text">Ekip üyesi yok</div></div>'; return; }
        el.innerHTML = team.map((t, i) => `<div class="list-item"><div class="list-item-icon">ðŸ‘¤</div><div class="list-item-content"><div class="list-item-title">${t.name}</div><div class="list-item-subtitle">${t.role}</div></div><div class="list-item-actions"><button class="btn btn-sm btn-secondary" onclick="editTeamMember(${i})">âœï¸</button><button class="btn btn-sm btn-danger" onclick="deleteItem('team',${i})">ðŸ—‘ï¸</button></div></div>`).join('');
    }
    function addTeamMember() { const name = prompt('İsim:', ''); const role = prompt('Pozisyon:', ''); if (name) { team.push({ name, role }); renderTeam(); toast('Eklendi', 'success'); } }
    function editTeamMember(i) { const t = team[i]; const name = prompt('İsim:', t.name); const role = prompt('Pozisyon:', t.role); if (name) { team[i] = { ...t, name, role }; renderTeam(); toast('Güncellendi', 'success'); } }
    function saveTeam() { localStorage.setItem('cee_team', JSON.stringify(team)); toast('Kaydedildi', 'success'); }

    // FAQ
    function renderFaqs() {
        const el = document.getElementById('faqList');
        if (faqs.length === 0) { el.innerHTML = '<div class="empty-state"><div class="empty-icon">â“</div><div class="empty-text">Soru yok</div></div>'; return; }
        el.innerHTML = faqs.map((f, i) => `<div class="list-item"><div class="list-item-icon">â“</div><div class="list-item-content"><div class="list-item-title">${f.question || f.questionTr}</div><div class="list-item-subtitle">${(f.answer || f.answerTr || '').substring(0, 80)}...</div></div><div class="list-item-actions"><button class="btn btn-sm btn-secondary" onclick="editFaq(${i})">âœï¸</button><button class="btn btn-sm btn-danger" onclick="deleteItem('faqs',${i})">ðŸ—‘ï¸</button></div></div>`).join('');
    }
    function addFaq() { const q = prompt('Soru:', ''); const a = prompt('Cevap:', ''); if (q) { faqs.push({ question: q, answer: a }); renderFaqs(); toast('Eklendi', 'success'); } }
    function editFaq(i) { const f = faqs[i]; const q = prompt('Soru:', f.question || f.questionTr); const a = prompt('Cevap:', f.answer || f.answerTr); if (q) { faqs[i] = { question: q, answer: a }; renderFaqs(); toast('Güncellendi', 'success'); } }
    function saveFaqs() { localStorage.setItem('cee_faqs', JSON.stringify(faqs)); toast('Kaydedildi', 'success'); }

    // HERO IMAGES
    function renderHeroImages() {
        const el = document.getElementById('heroImagesGrid');
        if (heroImages.length === 0) { el.innerHTML = '<div class="empty-state" style="grid-column:1/-1;"><div class="empty-icon">ðŸ–¼ï¸</div><div class="empty-text">Hero görseli yok</div></div>'; return; }
        el.innerHTML = heroImages.map((img, i) => `<div class="project-card"><img src="${img}" class="project-img"><div class="project-actions"><button onclick="deleteHeroImage(${i})">ðŸ—‘ï¸</button></div></div>`).join('');
    }
    function uploadHeroImages(input) { for (let f of input.files) { const reader = new FileReader(); reader.onload = e => { heroImages.push(e.target.result); localStorage.setItem('hero_images', JSON.stringify(heroImages)); renderHeroImages(); toast('Eklendi', 'success'); }; reader.readAsDataURL(f); } input.value = ''; }
    function deleteHeroImage(i) { if (confirm('Silmek istiyor musunuz?')) { heroImages.splice(i, 1); localStorage.setItem('hero_images', JSON.stringify(heroImages)); renderHeroImages(); toast('Silindi', 'success'); } }

    // GENERIC HELPERS
    function moveItem(type, i, dir) {
        const arr = type === 'services' ? services : type === 'refs' ? refs : null;
        if (!arr) return;
        const ni = i + dir;
        if (ni < 0 || ni >= arr.length) return;
        [arr[i], arr[ni]] = [arr[ni], arr[i]];
        if (type === 'services') { saveServices(); renderServices(); }
        else if (type === 'refs') { saveReferences(); renderRefs(); }
    }
    function deleteItem(type, i) {
        if (!confirm('Silmek istiyor musunuz?')) return;
        if (type === 'services') { services.splice(i, 1); saveServices(); renderServices(); }
        else if (type === 'refs') { refs.splice(i, 1); saveReferences(); renderRefs(); }
        else if (type === 'team') { team.splice(i, 1); localStorage.setItem('cee_team', JSON.stringify(team)); renderTeam(); }
        else if (type === 'faqs') { faqs.splice(i, 1); localStorage.setItem('cee_faqs', JSON.stringify(faqs)); renderFaqs(); }
        toast('Silindi', 'success');
    }

    // HERO SETTINGS
    function loadHero() { const s = JSON.parse(localStorage.getItem('hero_settings') || '{}'); if (s.brand) document.getElementById('heroBrand').value = s.brand; if (s.description) document.getElementById('heroDesc').value = s.description; if (s.fontSize) { document.getElementById('heroSize').value = parseInt(s.fontSize); document.getElementById('heroSizeVal').textContent = s.fontSize; } if (s.fontWeight) document.getElementById('heroWeight').value = s.fontWeight; if (s.buttonText) document.getElementById('heroBtn').value = s.buttonText; }
    function saveHero() { localStorage.setItem('hero_settings', JSON.stringify({ brand: document.getElementById('heroBrand').value, description: document.getElementById('heroDesc').value, fontSize: document.getElementById('heroSize').value + 'px', fontWeight: document.getElementById('heroWeight').value, buttonText: document.getElementById('heroBtn').value })); toast('Kaydedildi', 'success'); }

    // CONTACT SETTINGS
    function loadContact() { const s = JSON.parse(localStorage.getItem('contact_settings') || '{}'); if (s.address) document.getElementById('contactAddr').value = s.address; if (s.phone) document.getElementById('contactPhone').value = s.phone; if (s.whatsapp) document.getElementById('contactWa').value = s.whatsapp; if (s.email) document.getElementById('contactEmail').value = s.email; if (s.mapsLink) document.getElementById('contactMap').value = s.mapsLink; if (s.workHours) document.getElementById('contactHours').value = s.workHours; if (s.weekend) document.getElementById('contactWeekend').value = s.weekend; }
    function saveContact() { localStorage.setItem('contact_settings', JSON.stringify({ address: document.getElementById('contactAddr').value, phone: document.getElementById('contactPhone').value, whatsapp: document.getElementById('contactWa').value, email: document.getElementById('contactEmail').value, mapsLink: document.getElementById('contactMap').value, workHours: document.getElementById('contactHours').value, weekend: document.getElementById('contactWeekend').value })); toast('Kaydedildi', 'success'); }

    // SETTINGS
    function loadSettings() { 
        // Footer
        const f = JSON.parse(localStorage.getItem('cee_footer_settings') || '{}'); 
        if (f.company) document.getElementById('footerCompany').value = f.company; 
        if (f.year) document.getElementById('footerYear').value = f.year; 
        
        // Sosyal Medya
        const soc = JSON.parse(localStorage.getItem('social_links') || '{}'); 
        if (soc.instagram) document.getElementById('socialIg').value = soc.instagram; 
        if (soc.twitter) document.getElementById('socialTw').value = soc.twitter; 
        if (soc.linkedin) document.getElementById('socialLi').value = soc.linkedin; 
        if (soc.youtube) document.getElementById('socialYt').value = soc.youtube; 
        
        // Renkler
        const c = JSON.parse(localStorage.getItem('color_settings') || '{}'); 
        if (c.primary) document.getElementById('colorPrimary').value = c.primary; 
        if (c.iconBg) document.getElementById('colorIconBg').value = c.iconBg;
        if (c.bgMain) document.getElementById('colorBgMain').value = c.bgMain;
        if (c.bgSection) document.getElementById('colorBgSection').value = c.bgSection;
        if (c.text) document.getElementById('colorText').value = c.text;
        if (c.header) document.getElementById('colorHeader').value = c.header;
        if (c.iconSize) {
            document.getElementById('iconSize').value = c.iconSize;
            document.getElementById('iconSizeValue').textContent = c.iconSize;
        }
        
        // SEO
        const seo = JSON.parse(localStorage.getItem('seo_settings') || '{}');
        if (seo.title) document.getElementById('seoTitle').value = seo.title;
        if (seo.description) document.getElementById('seoDesc').value = seo.description;
        if (seo.keywords) document.getElementById('seoKeywords').value = seo.keywords;
        
        // Tema
        const theme = JSON.parse(localStorage.getItem('theme_settings') || '{}');
        if (theme.defaultTheme) document.getElementById('defaultTheme').value = theme.defaultTheme;
        if (theme.allowToggle !== undefined) document.getElementById('allowDarkToggle').checked = theme.allowToggle;
    }
    
    function saveFooter() { localStorage.setItem('cee_footer_settings', JSON.stringify({ company: document.getElementById('footerCompany').value, year: document.getElementById('footerYear').value })); toast('Kaydedildi', 'success'); }
    function saveSocial() { localStorage.setItem('social_links', JSON.stringify({ instagram: document.getElementById('socialIg').value, twitter: document.getElementById('socialTw').value, linkedin: document.getElementById('socialLi').value, youtube: document.getElementById('socialYt').value })); toast('Kaydedildi', 'success'); }
    function saveColors() { 
        localStorage.setItem('color_settings', JSON.stringify({ 
            primary: document.getElementById('colorPrimary').value, 
            iconBg: document.getElementById('colorIconBg').value,
            bgMain: document.getElementById('colorBgMain').value,
            bgSection: document.getElementById('colorBgSection').value,
            text: document.getElementById('colorText').value,
            header: document.getElementById('colorHeader').value,
            iconSize: document.getElementById('iconSize').value
        })); 
        toast('Renkler kaydedildi! Sayfayı yenileyin.', 'success'); 
    }
    function resetColors() { 
        document.getElementById('colorPrimary').value = '#5a6677'; 
        document.getElementById('colorIconBg').value = '#5a6677'; 
        document.getElementById('colorBgMain').value = '#ffffff';
        document.getElementById('colorBgSection').value = '#f8f9fa';
        document.getElementById('colorText').value = '#2d3748';
        document.getElementById('colorHeader').value = '#1a202c';
        document.getElementById('iconSize').value = '60';
        document.getElementById('iconSizeValue').textContent = '60';
        localStorage.removeItem('color_settings'); 
        toast('CEE Özel tema uygulandı!', 'success'); 
    }
    
    // HAZIR TEMA FONKSİYONU
    function applyTheme(theme) {
        const themes = {
            cee: {
                primary: '#5a6677', iconBg: '#5a6677', bgMain: '#ffffff', 
                bgSection: '#f8f9fa', text: '#2d3748', header: '#1a202c'
            },
            classic: {
                primary: '#c9a227', iconBg: '#c9a227', bgMain: '#ffffff', 
                bgSection: '#f5f5f5', text: '#2c2c2c', header: '#1a1a1a'
            },
            modern: {
                primary: '#3b82f6', iconBg: '#3b82f6', bgMain: '#ffffff', 
                bgSection: '#f0f7ff', text: '#1e293b', header: '#0f172a'
            },
            dark: {
                primary: '#c9a227', iconBg: '#c9a227', bgMain: '#1a1a1a', 
                bgSection: '#2c2c2c', text: '#e5e5e5', header: '#0f0f0f'
            },
            warm: {
                primary: '#d97706', iconBg: '#d97706', bgMain: '#fffbeb', 
                bgSection: '#fef3c7', text: '#78350f', header: '#451a03'
            },
            minimal: {
                primary: '#000000', iconBg: '#000000', bgMain: '#ffffff', 
                bgSection: '#fafafa', text: '#171717', header: '#000000'
            }
        };
        
        const t = themes[theme];
        if (!t) return;
        
        document.getElementById('colorPrimary').value = t.primary;
        document.getElementById('colorIconBg').value = t.iconBg;
        document.getElementById('colorBgMain').value = t.bgMain;
        document.getElementById('colorBgSection').value = t.bgSection;
        document.getElementById('colorText').value = t.text;
        document.getElementById('colorHeader').value = t.header;
        
        saveColors();
        toast(theme.charAt(0).toUpperCase() + theme.slice(1) + ' teması uygulandı!', 'success');
    }
    
    // TEMA KODU DIŞA AKTARMA
    function exportThemeCode() {
        const theme = {
            primary: document.getElementById('colorPrimary').value,
            iconBg: document.getElementById('colorIconBg').value,
            bgMain: document.getElementById('colorBgMain').value,
            bgSection: document.getElementById('colorBgSection').value,
            text: document.getElementById('colorText').value,
            header: document.getElementById('colorHeader').value
        };
        
        const code = `    <!-- GLOBAL TEMA AYARLARI - Tüm cihazlarda aynı görünüm için -->
    <script>
    // CEE MİMARLIK - Site Tema Ayarları
    // Admin panelden değiştirdiğinizde bu kısmı güncelleyin
    const SITE_THEME = {
        primary: '${theme.primary}',
        iconBg: '${theme.iconBg}',
        bgMain: '${theme.bgMain}',
        bgSection: '${theme.bgSection}',
        text: '${theme.text}',
        header: '${theme.header}'
    };
    
    // Tema ayarlarını localStorage'a yükle
    if (typeof localStorage !== 'undefined') {
        localStorage.setItem('color_settings', JSON.stringify(SITE_THEME));
    }
    <\/script>`;
        
        document.getElementById('themeCodeOutput').value = code;
        document.getElementById('themeCodeModal').style.display = 'flex';
    }
    
    function copyThemeCode() {
        const textarea = document.getElementById('themeCodeOutput');
        textarea.select();
        document.execCommand('copy');
        toast('Kod kopyalandı! index.html dosyasına yapıştırın.', 'success');
    }
    
    function downloadUpdatedIndex() {
        const theme = {
            primary: document.getElementById('colorPrimary').value,
            iconBg: document.getElementById('colorIconBg').value,
            bgMain: document.getElementById('colorBgMain').value,
            bgSection: document.getElementById('colorBgSection').value,
            text: document.getElementById('colorText').value,
            header: document.getElementById('colorHeader').value
        };
        
        // Güncel index.html oluştur
        fetch('index.html')
            .then(response => response.text())
            .then(html => {
                // SITE_THEME kısmını güncelle
                const newThemeCode = `const SITE_THEME = {
        primary: '${theme.primary}',
        iconBg: '${theme.iconBg}',
        bgMain: '${theme.bgMain}',
        bgSection: '${theme.bgSection}',
        text: '${theme.text}',
        header: '${theme.header}'
    };`;
                
                html = html.replace(/const SITE_THEME = \{[^}]+\};/s, newThemeCode);
                
                // Dosyayı indir
                const blob = new Blob([html], { type: 'text/html;charset=utf-8' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'index.html';
                a.click();
                URL.revokeObjectURL(url);
                
                toast('index.html indirildi! GitHub\'a yükleyin.', 'success');
                closeThemeModal();
            })
            .catch(err => {
                toast('Hata: ' + err.message, 'error');
            });
    }
    
    function closeThemeModal() {
        document.getElementById('themeCodeModal').style.display = 'none';
    }
    
    // SEO SETTINGS
    function saveSeoSettings() {
        const seo = {
            title: document.getElementById('seoTitle').value,
            description: document.getElementById('seoDesc').value,
            keywords: document.getElementById('seoKeywords').value
        };
        localStorage.setItem('seo_settings', JSON.stringify(seo));
        toast('SEO ayarları kaydedildi', 'success');
    }
    
    // TEMA SETTINGS
    function saveThemeSettings() {
        const theme = {
            defaultTheme: document.getElementById('defaultTheme').value,
            allowToggle: document.getElementById('allowDarkToggle').checked
        };
        localStorage.setItem('theme_settings', JSON.stringify(theme));
        toast('Tema ayarları kaydedildi', 'success');
    }

    // LOGO
    function loadLogo() { 
        const logo = localStorage.getItem('site_logo'); 
        if (logo) { 
            document.getElementById('logoPreview').src = logo; 
            document.getElementById('logoPreview').style.display = 'block'; 
            document.getElementById('logoPlaceholder').style.display = 'none'; 
            document.getElementById('deleteLogoBtn').style.display = 'block';
            document.getElementById('sidebarLogo').innerHTML = `<img src="${logo}">`;
            // Sağ alt sabit logo
            document.getElementById('fixedLogoImg').src = logo;
            document.getElementById('fixedLogo').style.display = 'block';
        } else {
            document.getElementById('logoPreview').style.display = 'none';
            document.getElementById('logoPlaceholder').style.display = 'block';
            document.getElementById('deleteLogoBtn').style.display = 'none';
            document.getElementById('sidebarLogo').innerHTML = 'CEE';
            document.getElementById('fixedLogo').style.display = 'none';
        }
    }
    function uploadLogo(input) { 
        const f = input.files[0]; 
        if (!f) return; 
        const reader = new FileReader(); 
        reader.onload = e => { 
            localStorage.setItem('site_logo', e.target.result); 
            loadLogo(); 
            toast('Logo yüklendi', 'success'); 
        }; 
        reader.readAsDataURL(f); 
    }
    function deleteLogo() {
        if (confirm('Logoyu silmek istediğinize emin misiniz?')) {
            localStorage.removeItem('site_logo');
            loadLogo();
            toast('Logo silindi', 'success');
        }
    }

    // SECURITY
    function changePassword() { const u = document.getElementById('newUser').value; const p = document.getElementById('newPass').value; const pc = document.getElementById('newPassConfirm').value; if (!u && !p) { toast('En az bir alan doldurun', 'error'); return; } if (p && p !== pc) { toast('Şifreler eşleşmiyor', 'error'); return; } if (u) credentials.username = u; if (p) credentials.password = p; localStorage.setItem('cee_credentials', JSON.stringify(credentials)); document.getElementById('newUser').value = ''; document.getElementById('newPass').value = ''; document.getElementById('newPassConfirm').value = ''; toast('Güncellendi', 'success'); }

    // BACKUP
    function exportBackup() { 
        const backup = { 
            projects: localStorage.getItem('cee_projects'), 
            services: localStorage.getItem('cee_services'), 
            references: localStorage.getItem('cee_references'), 
            team: localStorage.getItem('cee_team'), 
            faqs: localStorage.getItem('cee_faqs'), 
            hero: localStorage.getItem('hero_settings'), 
            heroImages: localStorage.getItem('hero_images'), 
            contact: localStorage.getItem('contact_settings'), 
            footer: localStorage.getItem('cee_footer_settings'), 
            social: localStorage.getItem('social_links'), 
            colors: localStorage.getItem('color_settings'), 
            messages: localStorage.getItem('contact_messages'), 
            logo: localStorage.getItem('site_logo'),
            seo: localStorage.getItem('seo_settings'),
            theme: localStorage.getItem('theme_settings'),
            date: new Date().toISOString() 
        }; 
        const blob = new Blob([JSON.stringify(backup, null, 2)], { type: 'application/json' }); 
        const a = document.createElement('a'); 
        a.href = URL.createObjectURL(blob); 
        a.download = `cee-backup-${new Date().toISOString().split('T')[0]}.json`; 
        a.click(); 
        toast('Yedek indirildi', 'success'); 
    }
    
    function importBackup(input) { 
        const f = input.files[0]; 
        if (!f) return; 
        const reader = new FileReader(); 
        reader.onload = e => { 
            try { 
                const b = JSON.parse(e.target.result); 
                if (b.projects) localStorage.setItem('cee_projects', b.projects); 
                if (b.services) localStorage.setItem('cee_services', b.services); 
                if (b.references) localStorage.setItem('cee_references', b.references); 
                if (b.team) localStorage.setItem('cee_team', b.team); 
                if (b.faqs) localStorage.setItem('cee_faqs', b.faqs); 
                if (b.hero) localStorage.setItem('hero_settings', b.hero); 
                if (b.heroImages) localStorage.setItem('hero_images', b.heroImages); 
                if (b.contact) localStorage.setItem('contact_settings', b.contact); 
                if (b.footer) localStorage.setItem('cee_footer_settings', b.footer); 
                if (b.social) localStorage.setItem('social_links', b.social); 
                if (b.colors) localStorage.setItem('color_settings', b.colors); 
                if (b.messages) localStorage.setItem('contact_messages', b.messages); 
                if (b.logo) localStorage.setItem('site_logo', b.logo);
                if (b.seo) localStorage.setItem('seo_settings', b.seo);
                if (b.theme) localStorage.setItem('theme_settings', b.theme);
                loadAll(); 
                toast('Yedek yüklendi', 'success'); 
            } catch(e) { 
                toast('Geçersiz dosya', 'error'); 
            } 
        }; 
        reader.readAsText(f); 
    }

    // TOAST
    function toast(msg, type = 'success') { const box = document.getElementById('toastBox'); const t = document.createElement('div'); t.className = `toast ${type}`; t.innerHTML = `<span>${type === 'success' ? 'âœ…' : 'âŒ'}</span><span>${msg}</span>`; box.appendChild(t); setTimeout(() => t.remove(), 3000); }
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CEE Mimarlƒ±k | Y√∂netim Paneli</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root {
            --primary: #d4af37;
            --primary-dark: #b8962e;
            --primary-light: rgba(212, 175, 55, 0.1);
            --bg-dark: #0f172a;
            --bg-card: #1e293b;
            --bg-hover: #334155;
            --text-primary: #f1f5f9;
            --text-secondary: #94a3b8;
            --border: #334155;
            --success: #10b981;
            --danger: #ef4444;
            --warning: #f59e0b;
            --info: #3b82f6;
        }
        body {
            font-family: 'Inter', -apple-system, sans-serif;
            background: var(--bg-dark);
            color: var(--text-primary);
            min-height: 100vh;
        }
        .admin-layout { display: flex; min-height: 100vh; }
        
        /* SIDEBAR */
        .sidebar {
            width: 260px;
            background: var(--bg-card);
            border-right: 1px solid var(--border);
            position: fixed;
            height: 100vh;
            display: flex;
            flex-direction: column;
            z-index: 100;
            transition: transform 0.3s ease;
        }
        .sidebar-header {
            padding: 20px;
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .sidebar-logo {
            width: 42px;
            height: 42px;
            background: var(--primary);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 14px;
            color: #1a1a1a;
            overflow: hidden;
        }
        .sidebar-logo img { width: 100%; height: 100%; object-fit: contain; }
        .sidebar-title { font-size: 15px; font-weight: 600; }
        .sidebar-subtitle { font-size: 11px; color: var(--text-secondary); }
        .sidebar-nav { flex: 1; padding: 15px 10px; overflow-y: auto; }
        .nav-section { margin-bottom: 20px; }
        .nav-section-title { font-size: 10px; font-weight: 600; color: var(--text-secondary); text-transform: uppercase; letter-spacing: 1px; padding: 8px 15px; }
        .nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 11px 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 13px;
            margin-bottom: 2px;
        }
        .nav-item:hover { background: var(--bg-hover); color: var(--text-primary); }
        .nav-item.active { background: var(--primary); color: #1a1a1a; font-weight: 500; }
        .nav-item-icon { font-size: 16px; width: 22px; text-align: center; }
        .nav-badge {
            margin-left: auto;
            background: var(--danger);
            color: white;
            font-size: 10px;
            padding: 2px 7px;
            border-radius: 10px;
            font-weight: 600;
        }
        .sidebar-footer { padding: 15px; border-top: 1px solid var(--border); }
        .user-box {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            border-radius: 8px;
            background: var(--bg-hover);
        }
        .user-avatar {
            width: 34px;
            height: 34px;
            background: var(--primary);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 14px;
            color: #1a1a1a;
        }
        .user-name { font-size: 13px; font-weight: 500; }
        .user-role { font-size: 11px; color: var(--text-secondary); }
        
        /* MOBILE */
        .mobile-menu-btn {
            display: none;
            position: fixed;
            top: 15px;
            left: 15px;
            z-index: 200;
            width: 44px;
            height: 44px;
            background: var(--primary);
            border: none;
            border-radius: 10px;
            cursor: pointer;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 5px;
        }
        .mobile-menu-btn span {
            display: block;
            width: 22px;
            height: 2px;
            background: #1a1a1a;
            transition: all 0.3s;
        }
        .sidebar-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 99;
        }
        
        /* MAIN */
        .main-content { flex: 1; margin-left: 260px; padding: 25px; min-height: 100vh; transition: margin 0.3s; }
        .page-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px; flex-wrap: wrap; gap: 15px; }
        .page-title { font-size: 22px; font-weight: 600; }
        .page-subtitle { font-size: 13px; color: var(--text-secondary); margin-top: 3px; }
        .header-actions { display: flex; gap: 10px; flex-wrap: wrap; }
        
        /* BUTTONS */
        .btn {
            padding: 10px 18px;
            border: none;
            border-radius: 8px;
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            font-family: inherit;
        }
        .btn:disabled { opacity: 0.5; cursor: not-allowed; }
        .btn-primary { background: var(--primary); color: #1a1a1a; }
        .btn-primary:hover:not(:disabled) { background: var(--primary-dark); }
        .btn-secondary { background: var(--bg-hover); color: var(--text-primary); }
        .btn-secondary:hover:not(:disabled) { background: #475569; }
        .btn-danger { background: var(--danger); color: white; }
        .btn-danger:hover:not(:disabled) { background: #dc2626; }
        .btn-success { background: var(--success); color: white; }
        .btn-info { background: var(--info); color: white; }
        .btn-sm { padding: 6px 12px; font-size: 12px; }
        .btn-xs { padding: 4px 8px; font-size: 11px; }
        .btn-icon { width: 36px; height: 36px; padding: 0; justify-content: center; }
        
        /* CARDS */
        .card { background: var(--bg-card); border-radius: 12px; border: 1px solid var(--border); margin-bottom: 20px; }
        .card-header { padding: 16px 20px; border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 10px; }
        .card-title { font-size: 14px; font-weight: 600; display: flex; align-items: center; gap: 10px; }
        .card-body { padding: 20px; }
        .card-footer { padding: 15px 20px; border-top: 1px solid var(--border); display: flex; gap: 10px; flex-wrap: wrap; }
        
        /* STATS */
        .stats-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; margin-bottom: 25px; }
        .stat-card { background: var(--bg-card); border-radius: 12px; padding: 20px; border: 1px solid var(--border); }
        .stat-icon { width: 42px; height: 42px; border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 20px; margin-bottom: 12px; }
        .stat-icon.blue { background: rgba(59, 130, 246, 0.15); }
        .stat-icon.green { background: rgba(16, 185, 129, 0.15); }
        .stat-icon.yellow { background: rgba(245, 158, 11, 0.15); }
        .stat-icon.purple { background: rgba(139, 92, 246, 0.15); }
        .stat-value { font-size: 26px; font-weight: 700; margin-bottom: 4px; }
        .stat-label { font-size: 12px; color: var(--text-secondary); }
        
        /* GRID */
        .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .grid-3 { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; }
        
        /* FORM */
        .form-group { margin-bottom: 16px; }
        .form-label { display: block; font-size: 12px; font-weight: 500; margin-bottom: 6px; color: var(--text-secondary); }
        .form-label.required::after { content: ' *'; color: var(--danger); }
        .form-input, .form-select, .form-textarea {
            width: 100%;
            padding: 11px 14px;
            background: var(--bg-dark);
            border: 1px solid var(--border);
            border-radius: 8px;
            color: var(--text-primary);
            font-size: 13px;
            font-family: inherit;
            transition: all 0.2s;
        }
        .form-input:focus, .form-select:focus, .form-textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.1);
        }
        .form-textarea { min-height: 90px; resize: vertical; }
        .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .form-hint { font-size: 11px; color: var(--text-secondary); margin-top: 4px; }
        .form-check {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            font-size: 13px;
        }
        .form-check input { width: 18px; height: 18px; cursor: pointer; }
        
        /* QUICK ACTIONS */
        .quick-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; }
        .quick-card {
            background: var(--bg-dark);
            border: 1px solid var(--border);
            border-radius: 10px;
            padding: 18px 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
        }
        .quick-card:hover { border-color: var(--primary); transform: translateY(-2px); }
        .quick-card-icon { font-size: 26px; margin-bottom: 10px; }
        .quick-card-label { font-size: 12px; color: var(--text-secondary); }
        
        /* MESSAGES */
        .msg-item { display: flex; gap: 12px; padding: 14px; border-bottom: 1px solid var(--border); transition: background 0.2s; cursor: pointer; }
        .msg-item:hover { background: var(--bg-hover); }
        .msg-item:last-child { border-bottom: none; }
        .msg-avatar {
            width: 40px; height: 40px;
            background: var(--primary);
            border-radius: 10px;
            display: flex; align-items: center; justify-content: center;
            font-weight: 600; color: #1a1a1a; flex-shrink: 0; font-size: 14px;
        }
        .msg-content { flex: 1; min-width: 0; }
        .msg-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 3px; }
        .msg-name { font-weight: 500; font-size: 13px; }
        .msg-time { font-size: 11px; color: var(--text-secondary); }
        .msg-subject { font-size: 12px; color: var(--primary); margin-bottom: 3px; }
        .msg-preview { font-size: 12px; color: var(--text-secondary); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .msg-unread { background: rgba(212, 175, 55, 0.05); }
        
        /* DROPZONE */
        .dropzone {
            border: 2px dashed var(--border);
            border-radius: 12px;
            padding: 40px 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            background: var(--bg-dark);
        }
        .dropzone:hover, .dropzone.dragover {
            border-color: var(--primary);
            background: var(--primary-light);
        }
        .dropzone-icon { font-size: 48px; margin-bottom: 15px; opacity: 0.7; }
        .dropzone-text { font-size: 14px; color: var(--text-secondary); margin-bottom: 8px; }
        .dropzone-hint { font-size: 12px; color: var(--text-secondary); opacity: 0.7; }
        
        /* PROJECT GRID */
        .project-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); 
            gap: 20px; 
        }
        .project-card { 
            background: var(--bg-dark); 
            border-radius: 12px; 
            overflow: hidden; 
            border: 1px solid var(--border); 
            transition: all 0.2s;
            position: relative;
        }
        .project-card:hover { border-color: var(--primary); transform: translateY(-3px); box-shadow: 0 10px 30px rgba(0,0,0,0.2); }
        .project-card.dragging { opacity: 0.5; transform: scale(0.95); }
        .project-card.drag-over { border-color: var(--primary); border-width: 2px; }
        .project-card-drag {
            position: absolute;
            top: 10px;
            left: 10px;
            width: 30px;
            height: 30px;
            background: rgba(0,0,0,0.7);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: grab;
            opacity: 0;
            transition: opacity 0.2s;
            z-index: 5;
            color: white;
        }
        .project-card:hover .project-card-drag { opacity: 1; }
        .project-img-container {
            position: relative;
            width: 100%;
            height: 160px;
            overflow: hidden;
        }
        .project-img { 
            width: 100%; 
            height: 100%; 
            object-fit: cover; 
            transition: transform 0.3s;
        }
        .project-card:hover .project-img { transform: scale(1.05); }
        .project-img-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, transparent 50%, rgba(0,0,0,0.8));
            opacity: 0;
            transition: opacity 0.3s;
            display: flex;
            align-items: flex-end;
            justify-content: center;
            padding-bottom: 15px;
            gap: 8px;
        }
        .project-card:hover .project-img-overlay { opacity: 1; }
        .project-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 10px;
            font-weight: 600;
            text-transform: uppercase;
        }
        .project-badge.featured { background: var(--primary); color: #1a1a1a; }
        .project-badge.draft { background: var(--warning); color: #1a1a1a; }
        .project-info { padding: 15px; }
        .project-title { font-size: 14px; font-weight: 600; margin-bottom: 6px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .project-meta { font-size: 12px; color: var(--text-secondary); display: flex; align-items: center; gap: 10px; }
        .project-category { background: var(--bg-hover); padding: 3px 8px; border-radius: 4px; font-size: 11px; }
        .project-gallery-count {
            position: absolute;
            bottom: 10px;
            right: 10px;
            background: rgba(0,0,0,0.7);
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 11px;
            display: flex;
            align-items: center;
            gap: 4px;
        }
        
        /* LIST ITEMS */
        .sortable-list { min-height: 50px; }
        .list-item { 
            display: flex; 
            align-items: center; 
            gap: 14px; 
            padding: 14px; 
            background: var(--bg-dark); 
            border-radius: 10px; 
            margin-bottom: 10px; 
            border: 1px solid var(--border);
            transition: all 0.2s;
        }
        .list-item:hover { border-color: var(--primary); }
        .list-item.dragging { opacity: 0.5; }
        .list-item.drag-over { border-color: var(--primary); border-width: 2px; }
        .list-item-drag {
            cursor: grab;
            padding: 5px;
            color: var(--text-secondary);
            font-size: 16px;
        }
        .list-item-drag:active { cursor: grabbing; }
        .list-item-icon { font-size: 28px; width: 50px; height: 50px; display: flex; align-items: center; justify-content: center; background: var(--bg-hover); border-radius: 10px; }
        .list-item-img { width: 50px; height: 50px; border-radius: 10px; object-fit: cover; }
        .list-item-content { flex: 1; min-width: 0; }
        .list-item-title { font-weight: 500; font-size: 14px; margin-bottom: 2px; }
        .list-item-subtitle { font-size: 12px; color: var(--text-secondary); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .list-item-actions { display: flex; gap: 6px; flex-shrink: 0; }
        
        /* SECTIONS */
        .content-section { display: none; }
        .content-section.active { display: block; }
        
        /* EMPTY STATE */
        .empty-state { text-align: center; padding: 50px 20px; color: var(--text-secondary); }
        .empty-icon { font-size: 55px; margin-bottom: 15px; opacity: 0.4; }
        .empty-text { font-size: 14px; margin-bottom: 20px; }
        
        /* LOGIN */
        .login-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--bg-dark);
            display: flex; align-items: center; justify-content: center;
            z-index: 10000;
        }
        .login-box { background: var(--bg-card); padding: 35px; border-radius: 16px; width: 100%; max-width: 380px; border: 1px solid var(--border); }
        .login-logo { text-align: center; margin-bottom: 25px; }
        .login-logo-icon { width: 65px; height: 65px; background: var(--primary); border-radius: 14px; display: inline-flex; align-items: center; justify-content: center; font-size: 28px; color: #1a1a1a; margin-bottom: 12px; }
        .login-title { font-size: 20px; font-weight: 600; }
        .login-subtitle { font-size: 12px; color: var(--text-secondary); margin-top: 4px; }
        
        /* MODAL */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s;
            padding: 20px;
        }
        .modal-overlay.active { opacity: 1; visibility: visible; }
        .modal {
            background: var(--bg-card);
            border-radius: 16px;
            width: 100%;
            max-width: 600px;
            max-height: 90vh;
            overflow: hidden;
            transform: translateY(-20px);
            transition: transform 0.3s;
            display: flex;
            flex-direction: column;
        }
        .modal-overlay.active .modal { transform: translateY(0); }
        .modal.large { max-width: 900px; }
        .modal-header {
            padding: 20px;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .modal-title { font-size: 18px; font-weight: 600; }
        .modal-close {
            width: 36px;
            height: 36px;
            border: none;
            background: var(--bg-hover);
            border-radius: 8px;
            cursor: pointer;
            font-size: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-secondary);
            transition: all 0.2s;
        }
        .modal-close:hover { background: var(--danger); color: white; }
        .modal-body {
            padding: 20px;
            overflow-y: auto;
            flex: 1;
        }
        .modal-footer {
            padding: 15px 20px;
            border-top: 1px solid var(--border);
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }
        
        /* LIGHTBOX */
        .lightbox {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.95);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10001;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s;
        }
        .lightbox.active { opacity: 1; visibility: visible; }
        .lightbox img { max-width: 90%; max-height: 90%; object-fit: contain; }
        .lightbox-close {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            background: rgba(255,255,255,0.1);
            border: none;
            border-radius: 50%;
            cursor: pointer;
            font-size: 24px;
            color: white;
        }
        .lightbox-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 50px;
            height: 50px;
            background: rgba(255,255,255,0.1);
            border: none;
            border-radius: 50%;
            cursor: pointer;
            font-size: 24px;
            color: white;
        }
        .lightbox-nav.prev { left: 20px; }
        .lightbox-nav.next { right: 20px; }
        
        /* TOAST */
        .toast-container { position: fixed; top: 20px; right: 20px; z-index: 9999; display: flex; flex-direction: column; gap: 10px; }
        .toast { 
            background: var(--bg-card); 
            border: 1px solid var(--border); 
            padding: 14px 18px; 
            border-radius: 10px; 
            display: flex; 
            align-items: center; 
            gap: 10px; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.3); 
            animation: slideIn 0.3s ease; 
            min-width: 280px; 
            font-size: 13px; 
        }
        .toast.success { border-left: 4px solid var(--success); }
        .toast.error { border-left: 4px solid var(--danger); }
        .toast.warning { border-left: 4px solid var(--warning); }
        @keyframes slideIn { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
        
        /* LOADING */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(15, 23, 42, 0.9);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 10002;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s;
        }
        .loading-overlay.active { opacity: 1; visibility: visible; }
        .spinner {
            width: 50px;
            height: 50px;
            border: 4px solid var(--border);
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        @keyframes spin { to { transform: rotate(360deg); } }
        .loading-text { margin-top: 20px; color: var(--text-secondary); font-size: 14px; }
        
        /* TABS */
        .tabs { display: flex; gap: 5px; margin-bottom: 20px; border-bottom: 1px solid var(--border); padding-bottom: 10px; flex-wrap: wrap; }
        .tab {
            padding: 10px 20px;
            background: transparent;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 13px;
            color: var(--text-secondary);
            transition: all 0.2s;
            font-family: inherit;
        }
        .tab:hover { background: var(--bg-hover); color: var(--text-primary); }
        .tab.active { background: var(--primary); color: #1a1a1a; font-weight: 500; }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        
        /* GALLERY */
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 10px;
        }
        .gallery-item {
            position: relative;
            aspect-ratio: 1;
            border-radius: 8px;
            overflow: hidden;
            border: 2px solid var(--border);
            cursor: pointer;
            transition: all 0.2s;
        }
        .gallery-item:hover { border-color: var(--primary); }
        .gallery-item.main { border-color: var(--primary); }
        .gallery-item img { width: 100%; height: 100%; object-fit: cover; }
        .gallery-item-badge {
            position: absolute;
            top: 5px;
            left: 5px;
            background: var(--primary);
            color: #1a1a1a;
            font-size: 9px;
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: 600;
        }
        .gallery-item-delete {
            position: absolute;
            top: 5px;
            right: 5px;
            width: 24px;
            height: 24px;
            background: var(--danger);
            border: none;
            border-radius: 50%;
            cursor: pointer;
            font-size: 12px;
            color: white;
            opacity: 0;
            transition: opacity 0.2s;
        }
        .gallery-item:hover .gallery-item-delete { opacity: 1; }
        
        /* CATEGORIES */
        .category-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }
        .category-tag {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 6px 12px;
            background: var(--bg-hover);
            border-radius: 20px;
            font-size: 12px;
        }
        .category-tag button {
            width: 18px;
            height: 18px;
            border: none;
            background: var(--danger);
            border-radius: 50%;
            cursor: pointer;
            font-size: 10px;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* SELECTION */
        .selectable { position: relative; }
        .select-checkbox {
            position: absolute;
            top: 10px;
            left: 10px;
            width: 22px;
            height: 22px;
            background: rgba(0,0,0,0.7);
            border: 2px solid var(--border);
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: all 0.2s;
            z-index: 5;
        }
        .selectable:hover .select-checkbox,
        .selectable.selected .select-checkbox { opacity: 1; }
        .selectable.selected .select-checkbox { background: var(--primary); border-color: var(--primary); }
        .selectable.selected .select-checkbox::after { content: '‚úì'; color: #1a1a1a; font-size: 14px; font-weight: bold; }
        
        /* BULK ACTIONS */
        .bulk-actions {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 12px 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.4);
            z-index: 1000;
            transition: transform 0.3s;
        }
        .bulk-actions.active { transform: translateX(-50%) translateY(0); }
        .bulk-count { font-size: 13px; color: var(--text-secondary); }
        .bulk-count strong { color: var(--primary); }
        
        /* RESPONSIVE */
        @media (max-width: 1200px) { 
            .stats-grid { grid-template-columns: repeat(2, 1fr); } 
            .grid-2 { grid-template-columns: 1fr; } 
            .quick-grid { grid-template-columns: repeat(2, 1fr); }
            .form-row { grid-template-columns: 1fr; }
        }
        @media (max-width: 768px) { 
            .sidebar { transform: translateX(-100%); }
            .sidebar.open { transform: translateX(0); }
            .sidebar-overlay.active { display: block; }
            .mobile-menu-btn { display: flex; }
            .main-content { margin-left: 0; padding: 70px 15px 15px; }
            .stats-grid { grid-template-columns: 1fr; }
            .page-header { flex-direction: column; align-items: flex-start; }
            .header-actions { width: 100%; }
            .header-actions .btn { flex: 1; justify-content: center; }
            .project-grid { grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); }
            .modal { margin: 10px; max-height: 95vh; }
        }
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: var(--bg-dark); }
        ::-webkit-scrollbar-thumb { background: var(--border); border-radius: 3px; }
        .hidden { display: none !important; }
    </style>
</head>
<body>
    <!-- LOGIN -->
    <div class="login-overlay" id="loginScreen">
        <div class="login-box">
            <div class="login-logo">
                <div class="login-logo-icon">üè†</div>
                <h1 class="login-title">Y√∂netim Paneli</h1>
                <p class="login-subtitle">CEE Mimarlƒ±k Admin Giri≈üi</p>
            </div>
            <div class="form-group">
                <label class="form-label">Kullanƒ±cƒ± Adƒ±</label>
                <input type="text" class="form-input" id="loginUsername" placeholder="admin">
            </div>
            <div class="form-group">
                <label class="form-label">≈ûifre</label>
                <input type="password" class="form-input" id="loginPassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
            </div>
            <button class="btn btn-primary" style="width: 100%; margin-top: 10px;" onclick="login()">Giri≈ü Yap</button>
            <p style="text-align: center; margin-top: 15px; font-size: 12px;">
                <a href="index.html" style="color: var(--primary);">‚Üê Ana Sayfaya D√∂n</a>
            </p>
        </div>
    </div>

    <!-- MOBILE MENU -->
    <button class="mobile-menu-btn" id="mobileMenuBtn" onclick="toggleMobileMenu()">
        <span></span><span></span><span></span>
    </button>
    <div class="sidebar-overlay" id="sidebarOverlay" onclick="toggleMobileMenu()"></div>

    <!-- MAIN LAYOUT -->
    <div class="admin-layout" id="adminLayout" style="display: none;">
        <!-- SIDEBAR -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-logo" id="sidebarLogo">CEE</div>
                <div>
                    <div class="sidebar-title">CEE Mimarlƒ±k</div>
                    <div class="sidebar-subtitle">Y√∂netim Paneli</div>
                </div>
            </div>
            <nav class="sidebar-nav">
                <div class="nav-section">
                    <div class="nav-section-title">Ana Men√º</div>
                    <a class="nav-item active" onclick="showSection('dashboard', this)">
                        <span class="nav-item-icon">üìä</span> Dashboard
                    </a>
                    <a class="nav-item" onclick="showSection('projects', this)">
                        <span class="nav-item-icon">üèóÔ∏è</span> Projeler
                    </a>
                    <a class="nav-item" onclick="showSection('messages', this)">
                        <span class="nav-item-icon">üí¨</span> Mesajlar
                        <span class="nav-badge" id="msgBadge" style="display:none;">0</span>
                    </a>
                </div>
                <div class="nav-section">
                    <div class="nav-section-title">ƒ∞√ßerik Y√∂netimi</div>
                    <a class="nav-item" onclick="showSection('hero', this)">
                        <span class="nav-item-icon">üé®</span> Hero Alanƒ±
                    </a>
                    <a class="nav-item" onclick="showSection('services', this)">
                        <span class="nav-item-icon">üõ†Ô∏è</span> Hizmetler
                    </a>
                    <a class="nav-item" onclick="showSection('references', this)">
                        <span class="nav-item-icon">üè¢</span> Referanslar
                    </a>
                    <a class="nav-item" onclick="showSection('team', this)">
                        <span class="nav-item-icon">üë•</span> Ekip
                    </a>
                    <a class="nav-item" onclick="showSection('faq', this)">
                        <span class="nav-item-icon">‚ùì</span> SSS
                    </a>
                </div>
                <div class="nav-section">
                    <div class="nav-section-title">Ayarlar</div>
                    <a class="nav-item" onclick="showSection('categories', this)">
                        <span class="nav-item-icon">üè∑Ô∏è</span> Kategoriler
                    </a>
                    <a class="nav-item" onclick="showSection('contact', this)">
                        <span class="nav-item-icon">üìû</span> ƒ∞leti≈üim Bilgileri
                    </a>
                    <a class="nav-item" onclick="showSection('settings', this)">
                        <span class="nav-item-icon">‚öôÔ∏è</span> Site Ayarlarƒ±
                    </a>
                    <a class="nav-item" onclick="showSection('security', this)">
                        <span class="nav-item-icon">üîí</span> G√ºvenlik
                    </a>
                </div>
            </nav>
            <div class="sidebar-footer">
                <a href="index.html" target="_blank" class="btn btn-primary" style="width: 100%; margin-bottom: 10px; justify-content: center;">üëÅÔ∏è Siteyi G√∂r√ºnt√ºle</a>
                <div class="user-box">
                    <div class="user-avatar">A</div>
                    <div style="flex:1;">
                        <div class="user-name">Admin</div>
                        <div class="user-role">Y√∂netici</div>
                    </div>
                </div>
                <button class="btn btn-secondary btn-sm" style="width: 100%; margin-top: 10px;" onclick="logout()">üö™ √áƒ±kƒ±≈ü</button>
            </div>
        </aside>

        <!-- MAIN CONTENT -->
        <main class="main-content">
            <!-- DASHBOARD -->
            <section class="content-section active" id="section-dashboard">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">Dashboard</h1>
                        <p class="page-subtitle">Site √∂zeti ve hƒ±zlƒ± i≈ülemler</p>
                    </div>
                    <div class="header-actions">
                        <a href="index.html" target="_blank" class="btn btn-secondary">üëÅÔ∏è Siteyi G√∂r</a>
                    </div>
                </div>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon blue">üèóÔ∏è</div>
                        <div class="stat-value" id="statProjects">0</div>
                        <div class="stat-label">Proje</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon green">üí¨</div>
                        <div class="stat-value" id="statMessages">0</div>
                        <div class="stat-label">Mesaj</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon yellow">üõ†Ô∏è</div>
                        <div class="stat-value" id="statServices">0</div>
                        <div class="stat-label">Hizmet</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon purple">üë•</div>
                        <div class="stat-value" id="statTeam">0</div>
                        <div class="stat-label">Ekip √úyesi</div>
                    </div>
                </div>
                <div class="grid-2">
                    <div class="card">
                        <div class="card-header"><span class="card-title">‚ö° Hƒ±zlƒ± ƒ∞≈ülemler</span></div>
                        <div class="card-body">
                            <div class="quick-grid">
                                <div class="quick-card" onclick="openProjectModal()">
                                    <div class="quick-card-icon">üì∏</div>
                                    <div class="quick-card-label">Proje Ekle</div>
                                </div>
                                <div class="quick-card" onclick="showSection('hero')">
                                    <div class="quick-card-icon">üé®</div>
                                    <div class="quick-card-label">Hero D√ºzenle</div>
                                </div>
                                <div class="quick-card" onclick="showSection('contact')">
                                    <div class="quick-card-icon">üìû</div>
                                    <div class="quick-card-label">ƒ∞leti≈üim</div>
                                </div>
                                <div class="quick-card" onclick="showSection('settings')">
                                    <div class="quick-card-icon">‚öôÔ∏è</div>
                                    <div class="quick-card-label">Ayarlar</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header">
                            <span class="card-title">üí¨ Son Mesajlar</span>
                            <button class="btn btn-sm btn-secondary" onclick="showSection('messages')">T√ºm√º</button>
                        </div>
                        <div class="card-body" style="padding: 0; max-height: 260px; overflow-y: auto;">
                            <div id="recentMsgs">
                                <div class="empty-state">
                                    <div class="empty-icon">üì≠</div>
                                    <div class="empty-text">Hen√ºz mesaj yok</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- PROJECTS -->
            <section class="content-section" id="section-projects">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">Projeler</h1>
                        <p class="page-subtitle">Proje galerisi y√∂netimi ‚Ä¢ S√ºr√ºkle-bƒ±rak ile sƒ±ralayƒ±n</p>
                    </div>
                    <div class="header-actions">
                        <select class="form-select" style="width: 150px;" id="projectFilter" onchange="filterProjects()">
                            <option value="">T√ºm Kategoriler</option>
                        </select>
                        <input type="text" class="form-input" placeholder="üîç Ara..." style="width: 180px;" id="projectSearch" onkeyup="filterProjects()">
                        <button class="btn btn-primary" onclick="openProjectModal()">‚ûï Yeni Proje</button>
                    </div>
                </div>
                <div class="card" style="margin-bottom: 20px;">
                    <div class="dropzone" id="projectDropzone">
                        <div class="dropzone-icon">üìÅ</div>
                        <div class="dropzone-text">G√∂rselleri s√ºr√ºkleyip bƒ±rakƒ±n veya tƒ±klayƒ±n</div>
                        <div class="dropzone-hint">PNG, JPG, WEBP ‚Ä¢ √áoklu se√ßim desteklenir</div>
                        <input type="file" id="projectBulkUpload" accept="image/*" multiple style="display:none;" onchange="bulkUploadProjects(this)">
                    </div>
                </div>
                <div class="card">
                    <div class="card-header">
                        <span class="card-title">üèóÔ∏è T√ºm Projeler (<span id="projectCount">0</span>)</span>
                        <div style="display: flex; gap: 10px;">
                            <button class="btn btn-sm btn-secondary" onclick="selectAllProjects()">‚òëÔ∏è T√ºm√ºn√º Se√ß</button>
                            <button class="btn btn-sm btn-secondary" onclick="deselectAllProjects()">‚¨ú Se√ßimi Kaldƒ±r</button>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="project-grid" id="projectGrid"></div>
                    </div>
                </div>
            </section>

            <!-- MESSAGES -->
            <section class="content-section" id="section-messages">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">Mesajlar</h1>
                        <p class="page-subtitle">ƒ∞leti≈üim formundan gelen mesajlar</p>
                    </div>
                    <div class="header-actions">
                        <button class="btn btn-danger" onclick="clearMessages()">üóëÔ∏è T√ºm√ºn√º Sil</button>
                    </div>
                </div>
                <div class="card">
                    <div class="card-body" style="padding: 0;">
                        <div id="allMsgs"></div>
                    </div>
                </div>
            </section>

            <!-- HERO -->
            <section class="content-section" id="section-hero">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">Hero Alanƒ±</h1>
                        <p class="page-subtitle">Ana sayfa hero b√∂l√ºm√º</p>
                    </div>
                </div>
                <div class="grid-2">
                    <div class="card">
                        <div class="card-header"><span class="card-title">‚úèÔ∏è Hero ƒ∞√ßeriƒüi</span></div>
                        <div class="card-body">
                            <div class="form-group">
                                <label class="form-label">Marka Adƒ±</label>
                                <input type="text" class="form-input" id="heroBrand" value="CEE Mƒ∞MARLIK">
                            </div>
                            <div class="form-group">
                                <label class="form-label">A√ßƒ±klama Metni</label>
                                <textarea class="form-textarea" id="heroDesc" rows="3">CEE Mimarlƒ±k olarak ya≈üam alanlarƒ±nƒ±zƒ±, ofislerinizi, villalarƒ±nƒ±zƒ± ve ticari projelerinizi m√º≈üterilerimizin beklentilerine g√∂re yeniden ≈üekillendiriyoruz.</textarea>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label">Font Boyutu: <span id="heroSizeVal">52px</span></label>
                                    <input type="range" class="form-input" id="heroSize" min="32" max="80" value="52" style="padding:5px;" oninput="document.getElementById('heroSizeVal').textContent=this.value+'px'">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Font Kalƒ±nlƒ±ƒüƒ±</label>
                                    <select class="form-select" id="heroWeight">
                                        <option value="300">ƒ∞nce</option>
                                        <option value="400">Normal</option>
                                        <option value="500">Orta</option>
                                        <option value="600" selected>Kalƒ±n</option>
                                        <option value="700">√áok Kalƒ±n</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Buton Metni</label>
                                <input type="text" class="form-input" id="heroBtn" value="ƒ∞LETƒ∞≈ûƒ∞ME GE√áƒ∞N">
                            </div>
                            <button class="btn btn-primary" onclick="saveHero()">üíæ Kaydet</button>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header"><span class="card-title">üñºÔ∏è Hero G√∂rselleri</span></div>
                        <div class="card-body">
                            <div class="dropzone" id="heroDropzone" style="padding: 25px; margin-bottom: 15px;">
                                <div class="dropzone-icon">üñºÔ∏è</div>
                                <div class="dropzone-text">G√∂rselleri s√ºr√ºkleyin veya tƒ±klayƒ±n</div>
                                <input type="file" id="heroImgUpload" accept="image/*" multiple style="display:none;" onchange="uploadHeroImages(this)">
                            </div>
                            <p style="font-size: 11px; color: var(--text-secondary); margin-bottom: 15px;">üí° Sƒ±ralamak i√ßin g√∂rselleri s√ºr√ºkleyin</p>
                            <div class="gallery-grid" id="heroImagesGrid"></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- SERVICES -->
            <section class="content-section" id="section-services">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">Hizmetler</h1>
                        <p class="page-subtitle">Sunulan hizmetleri y√∂netin ‚Ä¢ S√ºr√ºkle-bƒ±rak ile sƒ±ralayƒ±n</p>
                    </div>
                    <div class="header-actions">
                        <button class="btn btn-primary" onclick="openServiceModal()">‚ûï Yeni Hizmet</button>
                    </div>
                </div>
                <div class="card">
                    <div class="card-body sortable-list" id="servicesList"></div>
                </div>
            </section>

            <!-- REFERENCES -->
            <section class="content-section" id="section-references">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">Referanslar</h1>
                        <p class="page-subtitle">√áalƒ±≈ütƒ±ƒüƒ±nƒ±z kurumlar ‚Ä¢ S√ºr√ºkle-bƒ±rak ile sƒ±ralayƒ±n</p>
                    </div>
                    <div class="header-actions">
                        <button class="btn btn-primary" onclick="openRefModal()">‚ûï Yeni Referans</button>
                    </div>
                </div>
                <div class="card">
                    <div class="card-body sortable-list" id="refsList"></div>
                </div>
            </section>

            <!-- TEAM -->
            <section class="content-section" id="section-team">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">Ekip</h1>
                        <p class="page-subtitle">Ekip √ºyelerini y√∂netin ‚Ä¢ S√ºr√ºkle-bƒ±rak ile sƒ±ralayƒ±n</p>
                    </div>
                    <div class="header-actions">
                        <button class="btn btn-primary" onclick="openTeamModal()">‚ûï √úye Ekle</button>
                    </div>
                </div>
                <div class="card">
                    <div class="card-body sortable-list" id="teamList"></div>
                </div>
            </section>

            <!-- FAQ -->
            <section class="content-section" id="section-faq">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">Sƒ±k√ßa Sorulan Sorular</h1>
                        <p class="page-subtitle">SSS b√∂l√ºm√ºn√º y√∂netin ‚Ä¢ S√ºr√ºkle-bƒ±rak ile sƒ±ralayƒ±n</p>
                    </div>
                    <div class="header-actions">
                        <button class="btn btn-primary" onclick="openFaqModal()">‚ûï Soru Ekle</button>
                    </div>
                </div>
                <div class="card">
                    <div class="card-body sortable-list" id="faqList"></div>
                </div>
            </section>

            <!-- CATEGORIES -->
            <section class="content-section" id="section-categories">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">Kategoriler</h1>
                        <p class="page-subtitle">Proje kategorilerini y√∂netin</p>
                    </div>
                </div>
                <div class="card">
                    <div class="card-header"><span class="card-title">üè∑Ô∏è Proje Kategorileri</span></div>
                    <div class="card-body">
                        <div class="form-row" style="margin-bottom: 20px;">
                            <div class="form-group" style="margin-bottom: 0;">
                                <input type="text" class="form-input" id="newCategoryInput" placeholder="Yeni kategori adƒ±...">
                            </div>
                            <div>
                                <button class="btn btn-primary" onclick="addCategory()">‚ûï Ekle</button>
                            </div>
                        </div>
                        <div class="category-tags" id="categoryTags"></div>
                    </div>
                </div>
            </section>

            <!-- CONTACT -->
            <section class="content-section" id="section-contact">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">ƒ∞leti≈üim Bilgileri</h1>
                        <p class="page-subtitle">Site genelindeki ileti≈üim bilgileri</p>
                    </div>
                </div>
                <div class="card">
                    <div class="card-body">
                        <div class="form-group">
                            <label class="form-label">üìç Adres</label>
                            <textarea class="form-textarea" id="contactAddr" rows="2">CEE Mƒ∞MARLIK, Hatip, Ali Osman √áelebi Blv. No:52 A Blok Kat 1 No:3, 59860 √áorlu/Tekirdaƒü</textarea>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">üìû Telefon</label>
                                <input type="tel" class="form-input" id="contactPhone" value="+90 537 327 87 65">
                            </div>
                            <div class="form-group">
                                <label class="form-label">üì± WhatsApp</label>
                                <input type="tel" class="form-input" id="contactWa" value="+90 537 327 87 65">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">‚úâÔ∏è E-posta</label>
                            <input type="email" class="form-input" id="contactEmail" value="ceemimarlik@gmail.com">
                        </div>
                        <div class="form-group">
                            <label class="form-label">üó∫Ô∏è Google Maps Linki</label>
                            <input type="url" class="form-input" id="contactMap" placeholder="https://maps.google.com/...">
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">üïê √áalƒ±≈üma Saatleri</label>
                                <input type="text" class="form-input" id="contactHours" value="Pazartesi - Cuma: 09:00 - 18:00">
                            </div>
                            <div class="form-group">
                                <label class="form-label">üìÖ Hafta Sonu</label>
                                <input type="text" class="form-input" id="contactWeekend" value="Cumartesi - Pazar: Kapalƒ±">
                            </div>
                        </div>
                        <button class="btn btn-primary" onclick="saveContact()">üíæ Kaydet</button>
                    </div>
                </div>
            </section>

            <!-- SETTINGS -->
            <section class="content-section" id="section-settings">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">Site Ayarlarƒ±</h1>
                        <p class="page-subtitle">Logo, SEO, tema ve sosyal medya</p>
                    </div>
                </div>
                <div class="grid-2">
                    <div class="card">
                        <div class="card-header">
                            <span class="card-title">üñºÔ∏è Site Logosu</span>
                            <button class="btn btn-sm btn-danger" id="deleteLogoBtn" style="display:none;" onclick="deleteLogo()">üóëÔ∏è Sil</button>
                        </div>
                        <div class="card-body">
                            <div class="dropzone" id="logoDropzone" style="padding: 25px;">
                                <img id="logoPreview" src="" style="max-width: 180px; max-height: 100px; display: none;">
                                <div id="logoPlaceholder">
                                    <div class="dropzone-icon">üì§</div>
                                    <div class="dropzone-text">Logo y√ºklemek i√ßin tƒ±klayƒ±n</div>
                                </div>
                            </div>
                            <input type="file" id="logoUpload" accept="image/*" style="display:none;" onchange="uploadLogo(this)">
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header"><span class="card-title">üåô Tema Ayarlarƒ±</span></div>
                        <div class="card-body">
                            <div class="form-group">
                                <label class="form-label">Varsayƒ±lan Tema</label>
                                <select class="form-select" id="defaultTheme">
                                    <option value="light">‚òÄÔ∏è A√ßƒ±k Tema</option>
                                    <option value="dark">üåô Koyu Tema</option>
                                    <option value="auto">üîÑ Sistem Ayarƒ±na G√∂re</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-check">
                                    <input type="checkbox" id="allowDarkToggle" checked>
                                    Kullanƒ±cƒ±larƒ±n tema deƒüi≈ütirmesine izin ver
                                </label>
                            </div>
                            <button class="btn btn-primary" onclick="saveThemeSettings()">üíæ Kaydet</button>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <div class="card-header"><span class="card-title">üîç SEO Ayarlarƒ±</span></div>
                    <div class="card-body">
                        <div class="form-group">
                            <label class="form-label">Site Ba≈ülƒ±ƒüƒ±</label>
                            <input type="text" class="form-input" id="seoTitle" placeholder="CEE Mimarlƒ±k - Profesyonel Mimari Proje Hizmetleri">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Site A√ßƒ±klamasƒ±</label>
                            <textarea class="form-textarea" id="seoDesc" rows="3" placeholder="CEE Mimarlƒ±k olarak √áorlu ve √ßevresinde mimari proje hizmetleri sunuyoruz."></textarea>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Anahtar Kelimeler</label>
                            <input type="text" class="form-input" id="seoKeywords" placeholder="mimarlƒ±k, √ßorlu mimar, proje">
                        </div>
                        <button class="btn btn-primary" onclick="saveSeoSettings()">üíæ Kaydet</button>
                    </div>
                </div>
                <div class="grid-2">
                    <div class="card">
                        <div class="card-header"><span class="card-title">üìÑ Footer</span></div>
                        <div class="card-body">
                            <div class="form-group">
                                <label class="form-label">≈ûirket Adƒ±</label>
                                <input type="text" class="form-input" id="footerCompany" value="CEE Mƒ∞MARLIK">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Yƒ±l</label>
                                <input type="number" class="form-input" id="footerYear" value="2026">
                            </div>
                            <button class="btn btn-primary" onclick="saveFooter()">üíæ Kaydet</button>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header"><span class="card-title">üé® Renk Ayarlarƒ±</span></div>
                        <div class="card-body">
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label">Ana Renk</label>
                                    <input type="color" class="form-input" id="colorPrimary" value="#d4af37" style="height:45px;padding:5px;">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">ƒ∞kon Arka Plan</label>
                                    <input type="color" class="form-input" id="colorIconBg" value="#d4af37" style="height:45px;padding:5px;">
                                </div>
                            </div>
                            <button class="btn btn-primary" onclick="saveColors()">üíæ Kaydet</button>
                            <button class="btn btn-secondary" style="margin-left:10px;" onclick="resetColors()">üîÑ Sƒ±fƒ±rla</button>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <div class="card-header"><span class="card-title">üì± Sosyal Medya</span></div>
                    <div class="card-body">
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">üì∑ Instagram</label>
                                <input type="url" class="form-input" id="socialIg" placeholder="https://instagram.com/...">
                            </div>
                            <div class="form-group">
                                <label class="form-label">ùïè Twitter / X</label>
                                <input type="url" class="form-input" id="socialTw" placeholder="https://twitter.com/...">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">üíº LinkedIn</label>
                                <input type="url" class="form-input" id="socialLi" placeholder="https://linkedin.com/...">
                            </div>
                            <div class="form-group">
                                <label class="form-label">‚ñ∂Ô∏è YouTube</label>
                                <input type="url" class="form-input" id="socialYt" placeholder="https://youtube.com/...">
                            </div>
                        </div>
                        <button class="btn btn-primary" onclick="saveSocial()">üíæ Kaydet</button>
                    </div>
                </div>
            </section>

            <!-- SECURITY -->
            <section class="content-section" id="section-security">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">G√ºvenlik</h1>
                        <p class="page-subtitle">Giri≈ü bilgileri ve yedekleme</p>
                    </div>
                </div>
                <div class="grid-2">
                    <div class="card">
                        <div class="card-header"><span class="card-title">üîë ≈ûifre Deƒüi≈ütir</span></div>
                        <div class="card-body">
                            <div class="form-group">
                                <label class="form-label">Yeni Kullanƒ±cƒ± Adƒ±</label>
                                <input type="text" class="form-input" id="newUser" placeholder="admin">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Yeni ≈ûifre</label>
                                <input type="password" class="form-input" id="newPass" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                            </div>
                            <div class="form-group">
                                <label class="form-label">≈ûifre Tekrar</label>
                                <input type="password" class="form-input" id="newPassConfirm" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                            </div>
                            <button class="btn btn-primary" onclick="changePassword()">üíæ G√ºncelle</button>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header"><span class="card-title">üíæ Yedekleme</span></div>
                        <div class="card-body">
                            <p style="color: var(--text-secondary); margin-bottom: 15px; font-size: 13px;">T√ºm site verilerini yedekleyin veya geri y√ºkleyin.</p>
                            <button class="btn btn-secondary" onclick="exportBackup()">üì• Yedeƒüi ƒ∞ndir</button>
                            <button class="btn btn-secondary" style="margin-left:10px;" onclick="document.getElementById('backupFile').click()">üì§ Yedeƒüi Y√ºkle</button>
                            <input type="file" id="backupFile" accept=".json" style="display:none;" onchange="importBackup(this)">
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- BULK ACTIONS -->
    <div class="bulk-actions" id="bulkActions">
        <span class="bulk-count"><strong id="selectedCount">0</strong> √∂ƒüe se√ßildi</span>
        <button class="btn btn-sm btn-danger" onclick="bulkDelete()">üóëÔ∏è Se√ßilenleri Sil</button>
        <button class="btn btn-sm btn-secondary" onclick="deselectAllProjects()">‚úï ƒ∞ptal</button>
    </div>

    <!-- TOAST -->
    <div class="toast-container" id="toastBox"></div>

    <!-- LOADING -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="spinner"></div>
        <div class="loading-text" id="loadingText">Y√ºkleniyor...</div>
    </div>

    <!-- LIGHTBOX -->
    <div class="lightbox" id="lightbox" onclick="closeLightbox()">
        <button class="lightbox-close" onclick="closeLightbox()">‚úï</button>
        <button class="lightbox-nav prev" onclick="event.stopPropagation(); lightboxPrev()">‚ùÆ</button>
        <img id="lightboxImg" src="">
        <button class="lightbox-nav next" onclick="event.stopPropagation(); lightboxNext()">‚ùØ</button>
    </div>

    <!-- MODALS -->
    <!-- PROJECT MODAL -->
    <div class="modal-overlay" id="projectModal">
        <div class="modal large">
            <div class="modal-header">
                <h3 class="modal-title" id="projectModalTitle">Yeni Proje</h3>
                <button class="modal-close" onclick="closeProjectModal()">‚úï</button>
            </div>
            <div class="modal-body">
                <div class="tabs">
                    <button class="tab active" onclick="switchProjectTab('info', this)">üìù Bilgiler</button>
                    <button class="tab" onclick="switchProjectTab('gallery', this)">üñºÔ∏è Galeri</button>
                    <button class="tab" onclick="switchProjectTab('details', this)">üìã Detaylar</button>
                </div>
                <div class="tab-content active" id="projectTab-info">
                    <div class="form-group">
                        <label class="form-label required">Proje Adƒ±</label>
                        <input type="text" class="form-input" id="projectTitle" placeholder="Proje ba≈ülƒ±ƒüƒ±">
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Kategori</label>
                            <select class="form-select" id="projectCategory"><option value="Genel">Genel</option></select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Durum</label>
                            <select class="form-select" id="projectStatus">
                                <option value="published">‚úÖ Yayƒ±nda</option>
                                <option value="draft">üìù Taslak</option>
                                <option value="featured">‚≠ê √ñne √áƒ±kan</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Kƒ±sa A√ßƒ±klama</label>
                        <textarea class="form-textarea" id="projectDesc" rows="3" placeholder="Proje hakkƒ±nda kƒ±sa bilgi..."></textarea>
                    </div>
                </div>
                <div class="tab-content" id="projectTab-gallery">
                    <div class="dropzone" id="projectGalleryDropzone" style="margin-bottom: 20px;">
                        <div class="dropzone-icon">üñºÔ∏è</div>
                        <div class="dropzone-text">G√∂rselleri s√ºr√ºkleyin veya tƒ±klayƒ±n</div>
                        <div class="dropzone-hint">ƒ∞lk g√∂rsel kapak fotoƒürafƒ± olacak</div>
                        <input type="file" id="projectGalleryUpload" accept="image/*" multiple style="display:none;">
                    </div>
                    <p style="font-size: 12px; color: var(--text-secondary); margin-bottom: 15px;">üí° G√∂rselleri s√ºr√ºkleyerek sƒ±ralayƒ±n. ƒ∞lk g√∂rsel ana g√∂rsel olur.</p>
                    <div class="gallery-grid" id="projectGalleryGrid"></div>
                </div>
                <div class="tab-content" id="projectTab-details">
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">üìç Konum</label>
                            <input type="text" class="form-input" id="projectLocation" placeholder="ƒ∞stanbul, T√ºrkiye">
                        </div>
                        <div class="form-group">
                            <label class="form-label">üìÖ Tarih</label>
                            <input type="text" class="form-input" id="projectDate" placeholder="2024">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">üë§ M√º≈üteri</label>
                            <input type="text" class="form-input" id="projectClient" placeholder="M√º≈üteri adƒ±">
                        </div>
                        <div class="form-group">
                            <label class="form-label">üìê Alan (m¬≤)</label>
                            <input type="text" class="form-input" id="projectArea" placeholder="150">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">üìù Detaylƒ± A√ßƒ±klama</label>
                        <textarea class="form-textarea" id="projectFullDesc" rows="5" placeholder="Proje hakkƒ±nda detaylƒ± bilgi..."></textarea>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeProjectModal()">ƒ∞ptal</button>
                <button class="btn btn-primary" onclick="saveProject()">üíæ Kaydet</button>
            </div>
        </div>
    </div>

    <!-- SERVICE MODAL -->
    <div class="modal-overlay" id="serviceModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title" id="serviceModalTitle">Yeni Hizmet</h3>
                <button class="modal-close" onclick="closeModal('serviceModal')">‚úï</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Emoji / ƒ∞kon</label>
                    <input type="text" class="form-input" id="serviceIcon" placeholder="üè†" maxlength="4">
                </div>
                <div class="form-group">
                    <label class="form-label required">Ba≈ülƒ±k</label>
                    <input type="text" class="form-input" id="serviceTitle" placeholder="Hizmet adƒ±">
                </div>
                <div class="form-group">
                    <label class="form-label">A√ßƒ±klama</label>
                    <textarea class="form-textarea" id="serviceDesc" rows="3" placeholder="Hizmet a√ßƒ±klamasƒ±..."></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('serviceModal')">ƒ∞ptal</button>
                <button class="btn btn-primary" onclick="saveService()">üíæ Kaydet</button>
            </div>
        </div>
    </div>

    <!-- REFERENCE MODAL -->
    <div class="modal-overlay" id="refModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title" id="refModalTitle">Yeni Referans</h3>
                <button class="modal-close" onclick="closeModal('refModal')">‚úï</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Emoji / ƒ∞kon</label>
                    <input type="text" class="form-input" id="refIcon" placeholder="üè¢" maxlength="4">
                </div>
                <div class="form-group">
                    <label class="form-label required">Ba≈ülƒ±k</label>
                    <input type="text" class="form-input" id="refTitle" placeholder="Referans adƒ±">
                </div>
                <div class="form-group">
                    <label class="form-label">A√ßƒ±klama</label>
                    <textarea class="form-textarea" id="refDesc" rows="3" placeholder="Referans a√ßƒ±klamasƒ±..."></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('refModal')">ƒ∞ptal</button>
                <button class="btn btn-primary" onclick="saveRef()">üíæ Kaydet</button>
            </div>
        </div>
    </div>

    <!-- TEAM MODAL -->
    <div class="modal-overlay" id="teamModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title" id="teamModalTitle">Yeni Ekip √úyesi</h3>
                <button class="modal-close" onclick="closeModal('teamModal')">‚úï</button>
            </div>
            <div class="modal-body">
                <div class="form-group" style="text-align: center;">
                    <div class="dropzone" id="teamPhotoDropzone" style="width: 120px; height: 120px; margin: 0 auto 15px; border-radius: 50%; padding: 0; display: flex; align-items: center; justify-content: center; overflow: hidden;">
                        <img id="teamPhotoPreview" src="" style="width: 100%; height: 100%; object-fit: cover; display: none;">
                        <div id="teamPhotoPlaceholder" style="text-align: center;">
                            <div style="font-size: 32px;">üë§</div>
                            <div style="font-size: 11px; color: var(--text-secondary);">Fotoƒüraf</div>
                        </div>
                    </div>
                    <input type="file" id="teamPhotoUpload" accept="image/*" style="display:none;">
                </div>
                <div class="form-group">
                    <label class="form-label required">ƒ∞sim Soyisim</label>
                    <input type="text" class="form-input" id="teamName" placeholder="Ad Soyad">
                </div>
                <div class="form-group">
                    <label class="form-label">Pozisyon</label>
                    <input type="text" class="form-input" id="teamRole" placeholder="Mimar">
                </div>
                <div class="form-group">
                    <label class="form-label">üìß E-posta</label>
                    <input type="email" class="form-input" id="teamEmail" placeholder="email@example.com">
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">üíº LinkedIn</label>
                        <input type="url" class="form-input" id="teamLinkedin" placeholder="https://linkedin.com/in/...">
                    </div>
                    <div class="form-group">
                        <label class="form-label">üì∑ Instagram</label>
                        <input type="url" class="form-input" id="teamInstagram" placeholder="https://instagram.com/...">
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('teamModal')">ƒ∞ptal</button>
                <button class="btn btn-primary" onclick="saveTeamMember()">üíæ Kaydet</button>
            </div>
        </div>
    </div>

    <!-- FAQ MODAL -->
    <div class="modal-overlay" id="faqModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title" id="faqModalTitle">Yeni Soru</h3>
                <button class="modal-close" onclick="closeModal('faqModal')">‚úï</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label required">Soru</label>
                    <input type="text" class="form-input" id="faqQuestion" placeholder="Soru metni">
                </div>
                <div class="form-group">
                    <label class="form-label required">Cevap</label>
                    <textarea class="form-textarea" id="faqAnswer" rows="5" placeholder="Cevap metni..."></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('faqModal')">ƒ∞ptal</button>
                <button class="btn btn-primary" onclick="saveFaq()">üíæ Kaydet</button>
            </div>
        </div>
    </div>

    <!-- MESSAGE MODAL -->
    <div class="modal-overlay" id="messageModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">Mesaj Detayƒ±</h3>
                <button class="modal-close" onclick="closeModal('messageModal')">‚úï</button>
            </div>
            <div class="modal-body" id="messageModalBody"></div>
            <div class="modal-footer">
                <button class="btn btn-danger" id="deleteMessageBtn">üóëÔ∏è Sil</button>
                <button class="btn btn-secondary" onclick="closeModal('messageModal')">Kapat</button>
            </div>
        </div>
    </div>

    <script>
    // ========================================
    // GLOBAL STATE
    // ========================================
    let credentials = { username: 'admin', password: 'admin123' };
    let projects = [], services = [], refs = [], team = [], faqs = [], heroImages = [];
    let categories = ['Genel', 'Konut', 'Ticari', 'Villa', 'Ofis', 'Renovasyon'];
    let selectedProjects = new Set();
    let editingIndex = -1;
    let currentProjectGallery = [];
    let lightboxImages = [], lightboxIndex = 0;
    let dragType = '', dragIndex = -1;
    let teamPhotoData = '';

    try { const s = localStorage.getItem('cee_credentials'); if (s) credentials = JSON.parse(s); } catch(e) {}

    // ========================================
    // AUTH
    // ========================================
    function login() {
        const u = document.getElementById('loginUsername').value;
        const p = document.getElementById('loginPassword').value;
        if (u === credentials.username && p === credentials.password) {
            sessionStorage.setItem('adminLoggedIn', 'true');
            document.getElementById('loginScreen').style.display = 'none';
            document.getElementById('adminLayout').style.display = 'flex';
            loadAll();
            toast('Ho≈ü geldiniz!', 'success');
        } else {
            toast('Hatalƒ± giri≈ü bilgileri!', 'error');
        }
    }

    function logout() {
        sessionStorage.removeItem('adminLoggedIn');
        document.getElementById('loginScreen').style.display = 'flex';
        document.getElementById('adminLayout').style.display = 'none';
    }

    document.addEventListener('keydown', e => { 
        if (e.key === 'Enter' && document.getElementById('loginScreen').style.display !== 'none') login();
        if (e.key === 'Escape') {
            document.querySelectorAll('.modal-overlay.active').forEach(m => closeModal(m.id));
            closeLightbox();
        }
    });

    if (sessionStorage.getItem('adminLoggedIn') === 'true') {
        document.getElementById('loginScreen').style.display = 'none';
        document.getElementById('adminLayout').style.display = 'flex';
        setTimeout(loadAll, 100);
    }

    // ========================================
    // NAVIGATION & MOBILE
    // ========================================
    function showSection(id, el) {
        document.querySelectorAll('.content-section').forEach(s => s.classList.remove('active'));
        document.getElementById('section-' + id)?.classList.add('active');
        document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
        if (el) el.classList.add('active');
        else document.querySelector(`[onclick*="'${id}'"]`)?.classList.add('active');
        if (window.innerWidth <= 768) toggleMobileMenu();
    }

    function toggleMobileMenu() {
        document.getElementById('sidebar').classList.toggle('open');
        document.getElementById('sidebarOverlay').classList.toggle('active');
    }

    // ========================================
    // DATA LOADING
    // ========================================
    function loadAll() {
        showLoading('Veriler y√ºkleniyor...');
        projects = JSON.parse(localStorage.getItem('cee_projects') || '[]');
        services = JSON.parse(localStorage.getItem('cee_services') || 'null') || [
            { icon: 'üè†', title: 'Mimari Proje', desc: 'Modern ve fonksiyonel mimari tasarƒ±mlar' },
            { icon: 'üîç', title: 'ƒ∞√ß Mimarlƒ±k', desc: 'Ya≈üam alanlarƒ±nƒ±z i√ßin √∂zel tasarƒ±mlar' },
            { icon: 'üèóÔ∏è', title: 'Tadilat', desc: 'Profesyonel tadilat ve renovasyon' },
            { icon: 'üìã', title: 'Ruhsat ƒ∞≈ülemleri', desc: 'T√ºm resmi i≈ülemler i√ßin danƒ±≈ümanlƒ±k' }
        ];
        refs = JSON.parse(localStorage.getItem('cee_references') || 'null') || [
            { icon: 'üèõÔ∏è', title: 'Kamu Kurumlarƒ±', desc: 'Devlet projeleri' },
            { icon: 'üè¢', title: '√ñzel Sekt√∂r', desc: 'Ticari projeler' },
            { icon: 'üè†', title: 'Bireysel', desc: 'Konut projeleri' }
        ];
        team = JSON.parse(localStorage.getItem('cee_team') || '[]');
        faqs = JSON.parse(localStorage.getItem('cee_faqs') || '[]');
        heroImages = JSON.parse(localStorage.getItem('hero_images') || '[]');
        categories = JSON.parse(localStorage.getItem('cee_categories') || 'null') || ['Genel', 'Konut', 'Ticari', 'Villa', 'Ofis', 'Renovasyon'];
        
        renderAll();
        loadSettings();
        hideLoading();
    }

    function renderAll() {
        renderProjects();
        renderServices();
        renderRefs();
        renderTeam();
        renderFaqs();
        renderHeroImages();
        renderCategories();
        loadMessages();
        loadHero();
        loadContact();
        loadLogo();
        updateStats();
        updateCategorySelects();
    }

    function updateStats() {
        document.getElementById('statProjects').textContent = projects.length;
        document.getElementById('statServices').textContent = services.length;
        document.getElementById('statTeam').textContent = team.length;
        const msgs = JSON.parse(localStorage.getItem('contact_messages') || '[]');
        document.getElementById('statMessages').textContent = msgs.length;
        const unread = msgs.filter(m => !m.read).length;
        const badge = document.getElementById('msgBadge');
        badge.textContent = unread;
        badge.style.display = unread > 0 ? 'block' : 'none';
    }

    // ========================================
    // PROJECTS
    // ========================================
    function renderProjects() {
        const grid = document.getElementById('projectGrid');
        document.getElementById('projectCount').textContent = projects.length;
        
        if (projects.length === 0) {
            grid.innerHTML = '<div class="empty-state" style="grid-column:1/-1;"><div class="empty-icon">üèóÔ∏è</div><div class="empty-text">Hen√ºz proje yok</div><button class="btn btn-primary" onclick="openProjectModal()">‚ûï ƒ∞lk Projeyi Ekle</button></div>';
            return;
        }
        
        grid.innerHTML = projects.map((p, i) => {
            const mainImg = p.gallery?.[0] || p.img || 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 200"><rect fill="%231e293b" width="300" height="200"/><text fill="%2394a3b8" x="150" y="100" text-anchor="middle" font-size="14">G√∂rsel Yok</text></svg>';
            const galleryCount = p.gallery?.length || (p.img ? 1 : 0);
            const isSelected = selectedProjects.has(i);
            return `
                <div class="project-card selectable ${isSelected ? 'selected' : ''}" data-index="${i}" draggable="true"
                     ondragstart="dragStart(event, 'project', ${i})" ondragover="dragOver(event)" ondragleave="dragLeave(event)" ondrop="drop(event, 'project', ${i})">
                    <div class="select-checkbox" onclick="event.stopPropagation(); toggleProjectSelect(${i})"></div>
                    <div class="project-card-drag">‚ãÆ‚ãÆ</div>
                    ${p.status === 'featured' ? '<span class="project-badge featured">‚≠ê √ñne √áƒ±kan</span>' : ''}
                    ${p.status === 'draft' ? '<span class="project-badge draft">üìù Taslak</span>' : ''}
                    <div class="project-img-container">
                        <img src="${mainImg}" class="project-img" onclick="openLightbox(${i})">
                        ${galleryCount > 1 ? `<div class="project-gallery-count">üñºÔ∏è ${galleryCount}</div>` : ''}
                        <div class="project-img-overlay">
                            <button class="btn btn-sm btn-secondary" onclick="event.stopPropagation(); editProject(${i})">‚úèÔ∏è</button>
                            <button class="btn btn-sm btn-info" onclick="event.stopPropagation(); openLightbox(${i})">üëÅÔ∏è</button>
                            <button class="btn btn-sm btn-danger" onclick="event.stopPropagation(); deleteProject(${i})">üóëÔ∏è</button>
                        </div>
                    </div>
                    <div class="project-info">
                        <div class="project-title">${p.title || 'ƒ∞simsiz'}</div>
                        <div class="project-meta">
                            <span class="project-category">${p.category || 'Genel'}</span>
                            ${p.date ? `<span>${p.date}</span>` : ''}
                        </div>
                    </div>
                </div>
            `;
        }).join('');
    }

    function openProjectModal(index = -1) {
        editingIndex = index;
        currentProjectGallery = [];
        if (index >= 0) {
            const p = projects[index];
            document.getElementById('projectModalTitle').textContent = 'Proje D√ºzenle';
            document.getElementById('projectTitle').value = p.title || '';
            document.getElementById('projectCategory').value = p.category || 'Genel';
            document.getElementById('projectStatus').value = p.status || 'published';
            document.getElementById('projectDesc').value = p.desc || '';
            document.getElementById('projectLocation').value = p.location || '';
            document.getElementById('projectDate').value = p.date || '';
            document.getElementById('projectClient').value = p.client || '';
            document.getElementById('projectArea').value = p.area || '';
            document.getElementById('projectFullDesc').value = p.fullDesc || '';
            currentProjectGallery = p.gallery ? [...p.gallery] : (p.img ? [p.img] : []);
        } else {
            document.getElementById('projectModalTitle').textContent = 'Yeni Proje';
            ['projectTitle','projectDesc','projectLocation','projectDate','projectClient','projectArea','projectFullDesc'].forEach(id => document.getElementById(id).value = '');
            document.getElementById('projectCategory').value = 'Genel';
            document.getElementById('projectStatus').value = 'published';
        }
        renderProjectGallery();
        switchProjectTab('info', document.querySelector('#projectModal .tab'));
        openModal('projectModal');
    }

    function closeProjectModal() { closeModal('projectModal'); editingIndex = -1; currentProjectGallery = []; }

    function switchProjectTab(tab, el) {
        document.querySelectorAll('#projectModal .tab').forEach(t => t.classList.remove('active'));
        document.querySelectorAll('#projectModal .tab-content').forEach(c => c.classList.remove('active'));
        el.classList.add('active');
        document.getElementById('projectTab-' + tab).classList.add('active');
    }

    function renderProjectGallery() {
        const grid = document.getElementById('projectGalleryGrid');
        if (currentProjectGallery.length === 0) {
            grid.innerHTML = '<div style="grid-column:1/-1; text-align:center; color:var(--text-secondary); padding:20px;">Hen√ºz g√∂rsel eklenmedi</div>';
            return;
        }
        grid.innerHTML = currentProjectGallery.map((img, i) => `
            <div class="gallery-item ${i === 0 ? 'main' : ''}" draggable="true" data-index="${i}"
                 ondragstart="galleryDragStart(event, ${i})" ondragover="dragOver(event)" ondragleave="dragLeave(event)" ondrop="galleryDrop(event, ${i})">
                ${i === 0 ? '<span class="gallery-item-badge">Kapak</span>' : ''}
                <img src="${img}" onclick="openSingleLightbox('${img.replace(/'/g, "\\'")}')">
                <button class="gallery-item-delete" onclick="event.stopPropagation(); removeProjectGalleryItem(${i})">‚úï</button>
            </div>
        `).join('');
    }

    let galleryDragIndex = -1;
    function galleryDragStart(e, index) { galleryDragIndex = index; e.dataTransfer.effectAllowed = 'move'; }
    function galleryDrop(e, targetIndex) {
        e.preventDefault();
        e.target.closest('.gallery-item')?.classList.remove('drag-over');
        if (galleryDragIndex === -1 || galleryDragIndex === targetIndex) return;
        const item = currentProjectGallery.splice(galleryDragIndex, 1)[0];
        currentProjectGallery.splice(targetIndex, 0, item);
        galleryDragIndex = -1;
        renderProjectGallery();
    }
    function removeProjectGalleryItem(index) { currentProjectGallery.splice(index, 1); renderProjectGallery(); }

    function saveProject() {
        const title = document.getElementById('projectTitle').value.trim();
        if (!title) { toast('Proje adƒ± gerekli!', 'error'); return; }
        const projectData = {
            title,
            category: document.getElementById('projectCategory').value,
            status: document.getElementById('projectStatus').value,
            desc: document.getElementById('projectDesc').value,
            location: document.getElementById('projectLocation').value,
            date: document.getElementById('projectDate').value,
            client: document.getElementById('projectClient').value,
            area: document.getElementById('projectArea').value,
            fullDesc: document.getElementById('projectFullDesc').value,
            gallery: currentProjectGallery,
            img: currentProjectGallery[0] || ''
        };
        if (editingIndex >= 0) {
            projects[editingIndex] = { ...projects[editingIndex], ...projectData };
            toast('Proje g√ºncellendi', 'success');
        } else {
            projects.push(projectData);
            toast('Proje eklendi', 'success');
        }
        localStorage.setItem('cee_projects', JSON.stringify(projects));
        renderProjects();
        updateStats();
        closeProjectModal();
    }

    function editProject(index) { openProjectModal(index); }
    function deleteProject(index) {
        if (confirm('Bu projeyi silmek istediƒüinize emin misiniz?')) {
            projects.splice(index, 1);
            localStorage.setItem('cee_projects', JSON.stringify(projects));
            renderProjects();
            updateStats();
            toast('Proje silindi', 'success');
        }
    }

    function filterProjects() {
        const search = document.getElementById('projectSearch').value.toLowerCase();
        const category = document.getElementById('projectFilter').value;
        document.querySelectorAll('.project-card').forEach(card => {
            const index = parseInt(card.dataset.index);
            const p = projects[index];
            if (!p) return;
            const matchesSearch = p.title?.toLowerCase().includes(search) || false;
            const matchesCategory = !category || p.category === category;
            card.style.display = (matchesSearch && matchesCategory) ? 'block' : 'none';
        });
    }

    function bulkUploadProjects(input) {
        const files = Array.from(input.files);
        if (files.length === 0) return;
        showLoading(`${files.length} g√∂rsel i≈üleniyor...`);
        let processed = 0;
        files.forEach(file => {
            const reader = new FileReader();
            reader.onload = e => {
                const title = file.name.replace(/\.[^.]+$/, '');
                projects.push({ title, category: 'Genel', status: 'published', gallery: [e.target.result], img: e.target.result });
                processed++;
                if (processed === files.length) {
                    localStorage.setItem('cee_projects', JSON.stringify(projects));
                    renderProjects();
                    updateStats();
                    hideLoading();
                    toast(`${files.length} proje eklendi`, 'success');
                }
            };
            reader.readAsDataURL(file);
        });
        input.value = '';
    }

    // Selection
    function toggleProjectSelect(index) {
        if (selectedProjects.has(index)) selectedProjects.delete(index);
        else selectedProjects.add(index);
        renderProjects();
        updateBulkActions();
    }
    function selectAllProjects() { projects.forEach((_, i) => selectedProjects.add(i)); renderProjects(); updateBulkActions(); }
    function deselectAllProjects() { selectedProjects.clear(); renderProjects(); updateBulkActions(); }
    function updateBulkActions() {
        const bar = document.getElementById('bulkActions');
        document.getElementById('selectedCount').textContent = selectedProjects.size;
        bar.classList.toggle('active', selectedProjects.size > 0);
    }
    function bulkDelete() {
        if (selectedProjects.size === 0) return;
        if (confirm(`${selectedProjects.size} projeyi silmek istediƒüinize emin misiniz?`)) {
            Array.from(selectedProjects).sort((a, b) => b - a).forEach(i => projects.splice(i, 1));
            localStorage.setItem('cee_projects', JSON.stringify(projects));
            selectedProjects.clear();
            renderProjects();
            updateStats();
            updateBulkActions();
            toast('Se√ßili projeler silindi', 'success');
        }
    }

    // ========================================
    // DRAG & DROP
    // ========================================
    function dragStart(e, type, index) {
        dragType = type; dragIndex = index;
        e.dataTransfer.effectAllowed = 'move';
        setTimeout(() => e.target.classList.add('dragging'), 0);
    }
    function dragOver(e) {
        e.preventDefault();
        const target = e.target.closest('.project-card, .list-item, .gallery-item');
        if (target) target.classList.add('drag-over');
    }
    function dragLeave(e) {
        const target = e.target.closest('.project-card, .list-item, .gallery-item');
        if (target) target.classList.remove('drag-over');
    }
    function drop(e, type, targetIndex) {
        e.preventDefault();
        document.querySelectorAll('.dragging, .drag-over').forEach(el => el.classList.remove('dragging', 'drag-over'));
        if (dragType !== type || dragIndex === targetIndex || dragIndex === -1) { dragIndex = -1; return; }
        let arr, storageKey, renderFn;
        switch(type) {
            case 'project': arr = projects; storageKey = 'cee_projects'; renderFn = renderProjects; break;
            case 'service': arr = services; storageKey = 'cee_services'; renderFn = renderServices; break;
            case 'ref': arr = refs; storageKey = 'cee_references'; renderFn = renderRefs; break;
            case 'team': arr = team; storageKey = 'cee_team'; renderFn = renderTeam; break;
            case 'faq': arr = faqs; storageKey = 'cee_faqs'; renderFn = renderFaqs; break;
            case 'hero': arr = heroImages; storageKey = 'hero_images'; renderFn = renderHeroImages; break;
        }
        if (arr) {
            const item = arr.splice(dragIndex, 1)[0];
            arr.splice(targetIndex, 0, item);
            localStorage.setItem(storageKey, JSON.stringify(arr));
            renderFn();
            toast('Sƒ±ralama g√ºncellendi', 'success');
        }
        dragIndex = -1;
    }

    // ========================================
    // SERVICES
    // ========================================
    function renderServices() {
        const el = document.getElementById('servicesList');
        if (services.length === 0) {
            el.innerHTML = '<div class="empty-state"><div class="empty-icon">üõ†Ô∏è</div><div class="empty-text">Hizmet yok</div><button class="btn btn-primary" onclick="openServiceModal()">‚ûï Hizmet Ekle</button></div>';
            return;
        }
        el.innerHTML = services.map((s, i) => `
            <div class="list-item" data-index="${i}" draggable="true"
                 ondragstart="dragStart(event, 'service', ${i})" ondragover="dragOver(event)" ondragleave="dragLeave(event)" ondrop="drop(event, 'service', ${i})">
                <div class="list-item-drag">‚ãÆ‚ãÆ</div>
                <div class="list-item-icon">${s.icon || 'üè†'}</div>
                <div class="list-item-content">
                    <div class="list-item-title">${s.title || s.titleTr || ''}</div>
                    <div class="list-item-subtitle">${s.desc || s.descTr || ''}</div>
                </div>
                <div class="list-item-actions">
                    <button class="btn btn-sm btn-secondary" onclick="editService(${i})">‚úèÔ∏è</button>
                    <button class="btn btn-sm btn-danger" onclick="deleteService(${i})">üóëÔ∏è</button>
                </div>
            </div>
        `).join('');
    }

    function openServiceModal(index = -1) {
        editingIndex = index;
        if (index >= 0) {
            const s = services[index];
            document.getElementById('serviceModalTitle').textContent = 'Hizmet D√ºzenle';
            document.getElementById('serviceIcon').value = s.icon || '';
            document.getElementById('serviceTitle').value = s.title || s.titleTr || '';
            document.getElementById('serviceDesc').value = s.desc || s.descTr || '';
        } else {
            document.getElementById('serviceModalTitle').textContent = 'Yeni Hizmet';
            document.getElementById('serviceIcon').value = 'üè†';
            document.getElementById('serviceTitle').value = '';
            document.getElementById('serviceDesc').value = '';
        }
        openModal('serviceModal');
    }

    function saveService() {
        const title = document.getElementById('serviceTitle').value.trim();
        if (!title) { toast('Ba≈ülƒ±k gerekli!', 'error'); return; }
        const data = { icon: document.getElementById('serviceIcon').value || 'üè†', title, desc: document.getElementById('serviceDesc').value };
        if (editingIndex >= 0) { services[editingIndex] = data; toast('Hizmet g√ºncellendi', 'success'); }
        else { services.push(data); toast('Hizmet eklendi', 'success'); }
        localStorage.setItem('cee_services', JSON.stringify(services));
        renderServices(); updateStats(); closeModal('serviceModal'); editingIndex = -1;
    }
    function editService(index) { openServiceModal(index); }
    function deleteService(index) {
        if (confirm('Bu hizmeti silmek istediƒüinize emin misiniz?')) {
            services.splice(index, 1);
            localStorage.setItem('cee_services', JSON.stringify(services));
            renderServices(); updateStats(); toast('Hizmet silindi', 'success');
        }
    }

    // ========================================
    // REFERENCES
    // ========================================
    function renderRefs() {
        const el = document.getElementById('refsList');
        if (refs.length === 0) {
            el.innerHTML = '<div class="empty-state"><div class="empty-icon">üè¢</div><div class="empty-text">Referans yok</div><button class="btn btn-primary" onclick="openRefModal()">‚ûï Referans Ekle</button></div>';
            return;
        }
        el.innerHTML = refs.map((r, i) => `
            <div class="list-item" data-index="${i}" draggable="true"
                 ondragstart="dragStart(event, 'ref', ${i})" ondragover="dragOver(event)" ondragleave="dragLeave(event)" ondrop="drop(event, 'ref', ${i})">
                <div class="list-item-drag">‚ãÆ‚ãÆ</div>
                <div class="list-item-icon">${r.icon || 'üè¢'}</div>
                <div class="list-item-content">
                    <div class="list-item-title">${r.title || r.titleTr || ''}</div>
                    <div class="list-item-subtitle">${r.desc || r.descTr || ''}</div>
                </div>
                <div class="list-item-actions">
                    <button class="btn btn-sm btn-secondary" onclick="editRef(${i})">‚úèÔ∏è</button>
                    <button class="btn btn-sm btn-danger" onclick="deleteRef(${i})">üóëÔ∏è</button>
                </div>
            </div>
        `).join('');
    }

    function openRefModal(index = -1) {
        editingIndex = index;
        if (index >= 0) {
            const r = refs[index];
            document.getElementById('refModalTitle').textContent = 'Referans D√ºzenle';
            document.getElementById('refIcon').value = r.icon || '';
            document.getElementById('refTitle').value = r.title || r.titleTr || '';
            document.getElementById('refDesc').value = r.desc || r.descTr || '';
        } else {
            document.getElementById('refModalTitle').textContent = 'Yeni Referans';
            document.getElementById('refIcon').value = 'üè¢';
            document.getElementById('refTitle').value = '';
            document.getElementById('refDesc').value = '';
        }
        openModal('refModal');
    }

    function saveRef() {
        const title = document.getElementById('refTitle').value.trim();
        if (!title) { toast('Ba≈ülƒ±k gerekli!', 'error'); return; }
        const data = { icon: document.getElementById('refIcon').value || 'üè¢', title, desc: document.getElementById('refDesc').value };
        if (editingIndex >= 0) { refs[editingIndex] = data; toast('Referans g√ºncellendi', 'success'); }
        else { refs.push(data); toast('Referans eklendi', 'success'); }
        localStorage.setItem('cee_references', JSON.stringify(refs));
        renderRefs(); closeModal('refModal'); editingIndex = -1;
    }
    function editRef(index) { openRefModal(index); }
    function deleteRef(index) {
        if (confirm('Bu referansƒ± silmek istediƒüinize emin misiniz?')) {
            refs.splice(index, 1);
            localStorage.setItem('cee_references', JSON.stringify(refs));
            renderRefs(); toast('Referans silindi', 'success');
        }
    }

    // ========================================
    // TEAM
    // ========================================
    function renderTeam() {
        const el = document.getElementById('teamList');
        if (team.length === 0) {
            el.innerHTML = '<div class="empty-state"><div class="empty-icon">üë•</div><div class="empty-text">Ekip √ºyesi yok</div><button class="btn btn-primary" onclick="openTeamModal()">‚ûï √úye Ekle</button></div>';
            return;
        }
        el.innerHTML = team.map((t, i) => `
            <div class="list-item" data-index="${i}" draggable="true"
                 ondragstart="dragStart(event, 'team', ${i})" ondragover="dragOver(event)" ondragleave="dragLeave(event)" ondrop="drop(event, 'team', ${i})">
                <div class="list-item-drag">‚ãÆ‚ãÆ</div>
                ${t.photo ? `<img src="${t.photo}" class="list-item-img">` : '<div class="list-item-icon">üë§</div>'}
                <div class="list-item-content">
                    <div class="list-item-title">${t.name || ''}</div>
                    <div class="list-item-subtitle">${t.role || ''}</div>
                </div>
                <div class="list-item-actions">
                    <button class="btn btn-sm btn-secondary" onclick="editTeamMember(${i})">‚úèÔ∏è</button>
                    <button class="btn btn-sm btn-danger" onclick="deleteTeamMember(${i})">üóëÔ∏è</button>
                </div>
            </div>
        `).join('');
    }

    function openTeamModal(index = -1) {
        editingIndex = index;
        teamPhotoData = '';
        if (index >= 0) {
            const t = team[index];
            document.getElementById('teamModalTitle').textContent = 'Ekip √úyesi D√ºzenle';
            document.getElementById('teamName').value = t.name || '';
            document.getElementById('teamRole').value = t.role || '';
            document.getElementById('teamEmail').value = t.email || '';
            document.getElementById('teamLinkedin').value = t.linkedin || '';
            document.getElementById('teamInstagram').value = t.instagram || '';
            if (t.photo) {
                teamPhotoData = t.photo;
                document.getElementById('teamPhotoPreview').src = t.photo;
                document.getElementById('teamPhotoPreview').style.display = 'block';
                document.getElementById('teamPhotoPlaceholder').style.display = 'none';
            } else {
                document.getElementById('teamPhotoPreview').style.display = 'none';
                document.getElementById('teamPhotoPlaceholder').style.display = 'block';
            }
        } else {
            document.getElementById('teamModalTitle').textContent = 'Yeni Ekip √úyesi';
            ['teamName','teamRole','teamEmail','teamLinkedin','teamInstagram'].forEach(id => document.getElementById(id).value = '');
            document.getElementById('teamPhotoPreview').style.display = 'none';
            document.getElementById('teamPhotoPlaceholder').style.display = 'block';
        }
        openModal('teamModal');
    }

    function saveTeamMember() {
        const name = document.getElementById('teamName').value.trim();
        if (!name) { toast('ƒ∞sim gerekli!', 'error'); return; }
        const data = {
            name, role: document.getElementById('teamRole').value,
            email: document.getElementById('teamEmail').value,
            linkedin: document.getElementById('teamLinkedin').value,
            instagram: document.getElementById('teamInstagram').value,
            photo: teamPhotoData
        };
        if (editingIndex >= 0) { team[editingIndex] = { ...team[editingIndex], ...data }; toast('√úye g√ºncellendi', 'success'); }
        else { team.push(data); toast('√úye eklendi', 'success'); }
        localStorage.setItem('cee_team', JSON.stringify(team));
        renderTeam(); updateStats(); closeModal('teamModal'); editingIndex = -1;
    }
    function editTeamMember(index) { openTeamModal(index); }
    function deleteTeamMember(index) {
        if (confirm('Bu √ºyeyi silmek istediƒüinize emin misiniz?')) {
            team.splice(index, 1);
            localStorage.setItem('cee_team', JSON.stringify(team));
            renderTeam(); updateStats(); toast('√úye silindi', 'success');
        }
    }

    // ========================================
    // FAQ
    // ========================================
    function renderFaqs() {
        const el = document.getElementById('faqList');
        if (faqs.length === 0) {
            el.innerHTML = '<div class="empty-state"><div class="empty-icon">‚ùì</div><div class="empty-text">Soru yok</div><button class="btn btn-primary" onclick="openFaqModal()">‚ûï Soru Ekle</button></div>';
            return;
        }
        el.innerHTML = faqs.map((f, i) => `
            <div class="list-item" data-index="${i}" draggable="true"
                 ondragstart="dragStart(event, 'faq', ${i})" ondragover="dragOver(event)" ondragleave="dragLeave(event)" ondrop="drop(event, 'faq', ${i})">
                <div class="list-item-drag">‚ãÆ‚ãÆ</div>
                <div class="list-item-icon">‚ùì</div>
                <div class="list-item-content">
                    <div class="list-item-title">${f.question || f.questionTr || ''}</div>
                    <div class="list-item-subtitle">${(f.answer || f.answerTr || '').substring(0, 100)}...</div>
                </div>
                <div class="list-item-actions">
                    <button class="btn btn-sm btn-secondary" onclick="editFaq(${i})">‚úèÔ∏è</button>
                    <button class="btn btn-sm btn-danger" onclick="deleteFaq(${i})">üóëÔ∏è</button>
                </div>
            </div>
        `).join('');
    }

    function openFaqModal(index = -1) {
        editingIndex = index;
        if (index >= 0) {
            const f = faqs[index];
            document.getElementById('faqModalTitle').textContent = 'Soru D√ºzenle';
            document.getElementById('faqQuestion').value = f.question || f.questionTr || '';
            document.getElementById('faqAnswer').value = f.answer || f.answerTr || '';
        } else {
            document.getElementById('faqModalTitle').textContent = 'Yeni Soru';
            document.getElementById('faqQuestion').value = '';
            document.getElementById('faqAnswer').value = '';
        }
        openModal('faqModal');
    }

    function saveFaq() {
        const question = document.getElementById('faqQuestion').value.trim();
        const answer = document.getElementById('faqAnswer').value.trim();
        if (!question || !answer) { toast('Soru ve cevap gerekli!', 'error'); return; }
        const data = { question, answer };
        if (editingIndex >= 0) { faqs[editingIndex] = data; toast('Soru g√ºncellendi', 'success'); }
        else { faqs.push(data); toast('Soru eklendi', 'success'); }
        localStorage.setItem('cee_faqs', JSON.stringify(faqs));
        renderFaqs(); closeModal('faqModal'); editingIndex = -1;
    }
    function editFaq(index) { openFaqModal(index); }
    function deleteFaq(index) {
        if (confirm('Bu soruyu silmek istediƒüinize emin misiniz?')) {
            faqs.splice(index, 1);
            localStorage.setItem('cee_faqs', JSON.stringify(faqs));
            renderFaqs(); toast('Soru silindi', 'success');
        }
    }

    // ========================================
    // HERO IMAGES
    // ========================================
    function renderHeroImages() {
        const el = document.getElementById('heroImagesGrid');
        if (heroImages.length === 0) {
            el.innerHTML = '<div style="grid-column:1/-1; text-align:center; color:var(--text-secondary); padding:20px;">Hero g√∂rseli yok</div>';
            return;
        }
        el.innerHTML = heroImages.map((img, i) => `
            <div class="gallery-item ${i === 0 ? 'main' : ''}" draggable="true" data-index="${i}"
                 ondragstart="dragStart(event, 'hero', ${i})" ondragover="dragOver(event)" ondragleave="dragLeave(event)" ondrop="drop(event, 'hero', ${i})">
                ${i === 0 ? '<span class="gallery-item-badge">ƒ∞lk</span>' : ''}
                <img src="${img}" onclick="openSingleLightbox('${img.replace(/'/g, "\\'")}')">
                <button class="gallery-item-delete" onclick="event.stopPropagation(); deleteHeroImage(${i})">‚úï</button>
            </div>
        `).join('');
    }

    function uploadHeroImages(input) {
        for (let f of input.files) {
            const reader = new FileReader();
            reader.onload = e => {
                heroImages.push(e.target.result);
                localStorage.setItem('hero_images', JSON.stringify(heroImages));
                renderHeroImages();
                toast('G√∂rsel eklendi', 'success');
            };
            reader.readAsDataURL(f);
        }
        input.value = '';
    }

    function deleteHeroImage(i) {
        if (confirm('Silmek istiyor musunuz?')) {
            heroImages.splice(i, 1);
            localStorage.setItem('hero_images', JSON.stringify(heroImages));
            renderHeroImages();
            toast('Silindi', 'success');
        }
    }

    // ========================================
    // CATEGORIES
    // ========================================
    function renderCategories() {
        const el = document.getElementById('categoryTags');
        el.innerHTML = categories.map((c, i) => `
            <div class="category-tag">${c}${c !== 'Genel' ? `<button onclick="deleteCategory(${i})">‚úï</button>` : ''}</div>
        `).join('');
    }

    function addCategory() {
        const input = document.getElementById('newCategoryInput');
        const name = input.value.trim();
        if (!name) { toast('Kategori adƒ± gerekli!', 'error'); return; }
        if (categories.includes(name)) { toast('Bu kategori zaten var!', 'error'); return; }
        categories.push(name);
        localStorage.setItem('cee_categories', JSON.stringify(categories));
        renderCategories();
        updateCategorySelects();
        input.value = '';
        toast('Kategori eklendi', 'success');
    }

    function deleteCategory(index) {
        if (categories[index] === 'Genel') return;
        if (confirm('Bu kategoriyi silmek istediƒüinize emin misiniz?')) {
            categories.splice(index, 1);
            localStorage.setItem('cee_categories', JSON.stringify(categories));
            renderCategories();
            updateCategorySelects();
            toast('Kategori silindi', 'success');
        }
    }

    function updateCategorySelects() {
        ['projectFilter', 'projectCategory'].forEach(id => {
            const select = document.getElementById(id);
            if (!select) return;
            const isFilter = id === 'projectFilter';
            const currentValue = select.value;
            select.innerHTML = isFilter ? '<option value="">T√ºm Kategoriler</option>' : '';
            categories.forEach(c => { select.innerHTML += `<option value="${c}">${c}</option>`; });
            select.value = currentValue;
        });
    }

    // ========================================
    // MESSAGES
    // ========================================
    function loadMessages() {
        const msgs = JSON.parse(localStorage.getItem('contact_messages') || '[]');
        renderMsgs(msgs.slice(0, 4), 'recentMsgs');
        renderMsgs(msgs, 'allMsgs');
    }

    function renderMsgs(msgs, id) {
        const el = document.getElementById(id);
        if (msgs.length === 0) {
            el.innerHTML = '<div class="empty-state"><div class="empty-icon">üì≠</div><div class="empty-text">Hen√ºz mesaj yok</div></div>';
            return;
        }
        el.innerHTML = msgs.map((m, i) => `
            <div class="msg-item ${!m.read ? 'msg-unread' : ''}" onclick="showMessage(${i})">
                <div class="msg-avatar">${(m.name || 'A')[0].toUpperCase()}</div>
                <div class="msg-content">
                    <div class="msg-header">
                        <span class="msg-name">${m.name || 'Anonim'}</span>
                        <span class="msg-time">${new Date(m.timestamp || m.date).toLocaleDateString('tr-TR')}</span>
                    </div>
                    <div class="msg-subject">${m.subject || 'Konu yok'}</div>
                    <div class="msg-preview">${m.message || ''}</div>
                </div>
                ${id === 'allMsgs' ? `<button class="btn btn-sm btn-danger" onclick="event.stopPropagation(); deleteMsg(${i})">üóëÔ∏è</button>` : ''}
            </div>
        `).join('');
        if (id === 'allMsgs') {
            const allMsgs = JSON.parse(localStorage.getItem('contact_messages') || '[]');
            allMsgs.forEach(m => m.read = true);
            localStorage.setItem('contact_messages', JSON.stringify(allMsgs));
            updateStats();
        }
    }

    function showMessage(index) {
        const msgs = JSON.parse(localStorage.getItem('contact_messages') || '[]');
        const m = msgs[index];
        if (!m) return;
        document.getElementById('messageModalBody').innerHTML = `
            <div style="margin-bottom: 20px;"><strong>G√∂nderen:</strong> ${m.name || 'Anonim'}</div>
            <div style="margin-bottom: 20px;"><strong>E-posta:</strong> ${m.email || '-'}</div>
            <div style="margin-bottom: 20px;"><strong>Telefon:</strong> ${m.phone || '-'}</div>
            <div style="margin-bottom: 20px;"><strong>Konu:</strong> ${m.subject || '-'}</div>
            <div style="margin-bottom: 20px;"><strong>Tarih:</strong> ${new Date(m.timestamp || m.date).toLocaleString('tr-TR')}</div>
            <div><strong>Mesaj:</strong><p style="margin-top: 10px; padding: 15px; background: var(--bg-dark); border-radius: 8px;">${m.message || '-'}</p></div>
        `;
        document.getElementById('deleteMessageBtn').onclick = () => { deleteMsg(index); closeModal('messageModal'); };
        openModal('messageModal');
    }

    function deleteMsg(i) {
        const msgs = JSON.parse(localStorage.getItem('contact_messages') || '[]');
        msgs.splice(i, 1);
        localStorage.setItem('contact_messages', JSON.stringify(msgs));
        loadMessages();
        updateStats();
        toast('Mesaj silindi', 'success');
    }

    function clearMessages() {
        if (confirm('T√ºm mesajlarƒ± silmek istiyor musunuz?')) {
            localStorage.setItem('contact_messages', '[]');
            loadMessages();
            updateStats();
            toast('T√ºm mesajlar silindi', 'success');
        }
    }

    // ========================================
    // SETTINGS
    // ========================================
    function loadHero() {
        const s = JSON.parse(localStorage.getItem('hero_settings') || '{}');
        if (s.brand) document.getElementById('heroBrand').value = s.brand;
        if (s.description) document.getElementById('heroDesc').value = s.description;
        if (s.fontSize) { document.getElementById('heroSize').value = parseInt(s.fontSize); document.getElementById('heroSizeVal').textContent = s.fontSize; }
        if (s.fontWeight) document.getElementById('heroWeight').value = s.fontWeight;
        if (s.buttonText) document.getElementById('heroBtn').value = s.buttonText;
    }

    function saveHero() {
        localStorage.setItem('hero_settings', JSON.stringify({
            brand: document.getElementById('heroBrand').value,
            description: document.getElementById('heroDesc').value,
            fontSize: document.getElementById('heroSize').value + 'px',
            fontWeight: document.getElementById('heroWeight').value,
            buttonText: document.getElementById('heroBtn').value
        }));
        toast('Hero ayarlarƒ± kaydedildi', 'success');
    }

    function loadContact() {
        const s = JSON.parse(localStorage.getItem('contact_settings') || '{}');
        if (s.address) document.getElementById('contactAddr').value = s.address;
        if (s.phone) document.getElementById('contactPhone').value = s.phone;
        if (s.whatsapp) document.getElementById('contactWa').value = s.whatsapp;
        if (s.email) document.getElementById('contactEmail').value = s.email;
        if (s.mapsLink) document.getElementById('contactMap').value = s.mapsLink;
        if (s.workHours) document.getElementById('contactHours').value = s.workHours;
        if (s.weekend) document.getElementById('contactWeekend').value = s.weekend;
    }

    function saveContact() {
        localStorage.setItem('contact_settings', JSON.stringify({
            address: document.getElementById('contactAddr').value,
            phone: document.getElementById('contactPhone').value,
            whatsapp: document.getElementById('contactWa').value,
            email: document.getElementById('contactEmail').value,
            mapsLink: document.getElementById('contactMap').value,
            workHours: document.getElementById('contactHours').value,
            weekend: document.getElementById('contactWeekend').value
        }));
        toast('ƒ∞leti≈üim bilgileri kaydedildi', 'success');
    }

    function loadSettings() {
        const f = JSON.parse(localStorage.getItem('cee_footer_settings') || '{}');
        if (f.company) document.getElementById('footerCompany').value = f.company;
        if (f.year) document.getElementById('footerYear').value = f.year;
        const soc = JSON.parse(localStorage.getItem('social_links') || '{}');
        if (soc.instagram) document.getElementById('socialIg').value = soc.instagram;
        if (soc.twitter) document.getElementById('socialTw').value = soc.twitter;
        if (soc.linkedin) document.getElementById('socialLi').value = soc.linkedin;
        if (soc.youtube) document.getElementById('socialYt').value = soc.youtube;
        const c = JSON.parse(localStorage.getItem('color_settings') || '{}');
        if (c.primary) document.getElementById('colorPrimary').value = c.primary;
        if (c.iconBg) document.getElementById('colorIconBg').value = c.iconBg;
        const seo = JSON.parse(localStorage.getItem('seo_settings') || '{}');
        if (seo.title) document.getElementById('seoTitle').value = seo.title;
        if (seo.description) document.getElementById('seoDesc').value = seo.description;
        if (seo.keywords) document.getElementById('seoKeywords').value = seo.keywords;
        const theme = JSON.parse(localStorage.getItem('theme_settings') || '{}');
        if (theme.defaultTheme) document.getElementById('defaultTheme').value = theme.defaultTheme;
        if (theme.allowToggle !== undefined) document.getElementById('allowDarkToggle').checked = theme.allowToggle;
    }

    function saveFooter() { localStorage.setItem('cee_footer_settings', JSON.stringify({ company: document.getElementById('footerCompany').value, year: document.getElementById('footerYear').value })); toast('Footer kaydedildi', 'success'); }
    function saveSocial() { localStorage.setItem('social_links', JSON.stringify({ instagram: document.getElementById('socialIg').value, twitter: document.getElementById('socialTw').value, linkedin: document.getElementById('socialLi').value, youtube: document.getElementById('socialYt').value })); toast('Sosyal medya kaydedildi', 'success'); }
    function saveColors() { localStorage.setItem('color_settings', JSON.stringify({ primary: document.getElementById('colorPrimary').value, iconBg: document.getElementById('colorIconBg').value })); toast('Renkler kaydedildi', 'success'); }
    function resetColors() { document.getElementById('colorPrimary').value = '#d4af37'; document.getElementById('colorIconBg').value = '#d4af37'; localStorage.removeItem('color_settings'); toast('Renkler sƒ±fƒ±rlandƒ±', 'success'); }
    function saveSeoSettings() { localStorage.setItem('seo_settings', JSON.stringify({ title: document.getElementById('seoTitle').value, description: document.getElementById('seoDesc').value, keywords: document.getElementById('seoKeywords').value })); toast('SEO ayarlarƒ± kaydedildi', 'success'); }
    function saveThemeSettings() { localStorage.setItem('theme_settings', JSON.stringify({ defaultTheme: document.getElementById('defaultTheme').value, allowToggle: document.getElementById('allowDarkToggle').checked })); toast('Tema ayarlarƒ± kaydedildi', 'success'); }

    // LOGO
    function loadLogo() {
        const logo = localStorage.getItem('site_logo');
        if (logo) {
            document.getElementById('logoPreview').src = logo;
            document.getElementById('logoPreview').style.display = 'block';
            document.getElementById('logoPlaceholder').style.display = 'none';
            document.getElementById('deleteLogoBtn').style.display = 'block';
            document.getElementById('sidebarLogo').innerHTML = `<img src="${logo}">`;
        } else {
            document.getElementById('logoPreview').style.display = 'none';
            document.getElementById('logoPlaceholder').style.display = 'block';
            document.getElementById('deleteLogoBtn').style.display = 'none';
            document.getElementById('sidebarLogo').innerHTML = 'CEE';
        }
    }
    function uploadLogo(input) {
        const f = input.files[0];
        if (!f) return;
        const reader = new FileReader();
        reader.onload = e => { localStorage.setItem('site_logo', e.target.result); loadLogo(); toast('Logo y√ºklendi', 'success'); };
        reader.readAsDataURL(f);
    }
    function deleteLogo() {
        if (confirm('Logoyu silmek istediƒüinize emin misiniz?')) {
            localStorage.removeItem('site_logo');
            loadLogo();
            toast('Logo silindi', 'success');
        }
    }

    // SECURITY
    function changePassword() {
        const u = document.getElementById('newUser').value;
        const p = document.getElementById('newPass').value;
        const pc = document.getElementById('newPassConfirm').value;
        if (!u && !p) { toast('En az bir alan doldurun', 'error'); return; }
        if (p && p !== pc) { toast('≈ûifreler e≈üle≈ümiyor', 'error'); return; }
        if (u) credentials.username = u;
        if (p) credentials.password = p;
        localStorage.setItem('cee_credentials', JSON.stringify(credentials));
        document.getElementById('newUser').value = '';
        document.getElementById('newPass').value = '';
        document.getElementById('newPassConfirm').value = '';
        toast('Giri≈ü bilgileri g√ºncellendi', 'success');
    }

    // BACKUP
    function exportBackup() {
        const backup = {
            projects: localStorage.getItem('cee_projects'),
            services: localStorage.getItem('cee_services'),
            references: localStorage.getItem('cee_references'),
            team: localStorage.getItem('cee_team'),
            faqs: localStorage.getItem('cee_faqs'),
            categories: localStorage.getItem('cee_categories'),
            hero: localStorage.getItem('hero_settings'),
            heroImages: localStorage.getItem('hero_images'),
            contact: localStorage.getItem('contact_settings'),
            footer: localStorage.getItem('cee_footer_settings'),
            social: localStorage.getItem('social_links'),
            colors: localStorage.getItem('color_settings'),
            messages: localStorage.getItem('contact_messages'),
            logo: localStorage.getItem('site_logo'),
            seo: localStorage.getItem('seo_settings'),
            theme: localStorage.getItem('theme_settings'),
            date: new Date().toISOString()
        };
        const blob = new Blob([JSON.stringify(backup, null, 2)], { type: 'application/json' });
        const a = document.createElement('a');
        a.href = URL.createObjectURL(blob);
        a.download = `cee-backup-${new Date().toISOString().split('T')[0]}.json`;
        a.click();
        toast('Yedek indirildi', 'success');
    }

    function importBackup(input) {
        const f = input.files[0];
        if (!f) return;
        const reader = new FileReader();
        reader.onload = e => {
            try {
                const b = JSON.parse(e.target.result);
                Object.keys(b).forEach(key => {
                    if (b[key] && key !== 'date') {
                        const storageKey = key === 'hero' ? 'hero_settings' : key === 'heroImages' ? 'hero_images' : key === 'contact' ? 'contact_settings' : key === 'footer' ? 'cee_footer_settings' : key === 'social' ? 'social_links' : key === 'colors' ? 'color_settings' : key === 'messages' ? 'contact_messages' : key === 'logo' ? 'site_logo' : key === 'seo' ? 'seo_settings' : key === 'theme' ? 'theme_settings' : `cee_${key}`;
                        localStorage.setItem(storageKey, b[key]);
                    }
                });
                loadAll();
                toast('Yedek y√ºklendi', 'success');
            } catch(e) { toast('Ge√ßersiz dosya', 'error'); }
        };
        reader.readAsText(f);
    }

    // ========================================
    // MODALS & LIGHTBOX
    // ========================================
    function openModal(id) { document.getElementById(id).classList.add('active'); document.body.style.overflow = 'hidden'; }
    function closeModal(id) { document.getElementById(id).classList.remove('active'); document.body.style.overflow = ''; editingIndex = -1; }

    function openLightbox(projectIndex) {
        const p = projects[projectIndex];
        if (!p) return;
        lightboxImages = p.gallery || (p.img ? [p.img] : []);
        if (lightboxImages.length === 0) return;
        lightboxIndex = 0;
        updateLightbox();
        document.getElementById('lightbox').classList.add('active');
    }
    function openSingleLightbox(img) {
        lightboxImages = [img];
        lightboxIndex = 0;
        updateLightbox();
        document.getElementById('lightbox').classList.add('active');
    }
    function updateLightbox() { document.getElementById('lightboxImg').src = lightboxImages[lightboxIndex]; }
    function closeLightbox() { document.getElementById('lightbox').classList.remove('active'); }
    function lightboxPrev() { lightboxIndex = (lightboxIndex - 1 + lightboxImages.length) % lightboxImages.length; updateLightbox(); }
    function lightboxNext() { lightboxIndex = (lightboxIndex + 1) % lightboxImages.length; updateLightbox(); }

    // ========================================
    // TOAST & LOADING
    // ========================================
    function toast(msg, type = 'success') {
        const box = document.getElementById('toastBox');
        const t = document.createElement('div');
        t.className = `toast ${type}`;
        const icon = type === 'success' ? '‚úÖ' : type === 'error' ? '‚ùå' : '‚ö†Ô∏è';
        t.innerHTML = `<span>${icon}</span><span>${msg}</span>`;
        box.appendChild(t);
        setTimeout(() => t.remove(), 3000);
    }
    function showLoading(text = 'Y√ºkleniyor...') { document.getElementById('loadingText').textContent = text; document.getElementById('loadingOverlay').classList.add('active'); }
    function hideLoading() { document.getElementById('loadingOverlay').classList.remove('active'); }

    // ========================================
    // DROPZONE SETUP
    // ========================================
    function setupDropzone(dropzoneId, inputId, uploadFn) {
        const dropzone = document.getElementById(dropzoneId);
        const input = document.getElementById(inputId);
        if (!dropzone || !input) return;
        dropzone.addEventListener('click', () => input.click());
        dropzone.addEventListener('dragover', e => { e.preventDefault(); dropzone.classList.add('dragover'); });
        dropzone.addEventListener('dragleave', () => dropzone.classList.remove('dragover'));
        dropzone.addEventListener('drop', e => {
            e.preventDefault();
            dropzone.classList.remove('dragover');
            if (e.dataTransfer.files.length > 0) { input.files = e.dataTransfer.files; uploadFn(input); }
        });
    }

    function handleProjectGalleryUpload(files) {
        Array.from(files).forEach(file => {
            if (!file.type.startsWith('image/')) return;
            const reader = new FileReader();
            reader.onload = e => { currentProjectGallery.push(e.target.result); renderProjectGallery(); };
            reader.readAsDataURL(file);
        });
    }

    function handleTeamPhotoUpload(file) {
        if (!file || !file.type.startsWith('image/')) return;
        const reader = new FileReader();
        reader.onload = e => {
            teamPhotoData = e.target.result;
            document.getElementById('teamPhotoPreview').src = e.target.result;
            document.getElementById('teamPhotoPreview').style.display = 'block';
            document.getElementById('teamPhotoPlaceholder').style.display = 'none';
        };
        reader.readAsDataURL(file);
    }

    // Initialize dropzones on DOM ready
    document.addEventListener('DOMContentLoaded', () => {
        setupDropzone('projectDropzone', 'projectBulkUpload', bulkUploadProjects);
        setupDropzone('heroDropzone', 'heroImgUpload', uploadHeroImages);
        setupDropzone('logoDropzone', 'logoUpload', uploadLogo);

        const galleryDropzone = document.getElementById('projectGalleryDropzone');
        const galleryInput = document.getElementById('projectGalleryUpload');
        if (galleryDropzone && galleryInput) {
            galleryDropzone.addEventListener('click', () => galleryInput.click());
            galleryDropzone.addEventListener('dragover', e => { e.preventDefault(); galleryDropzone.classList.add('dragover'); });
            galleryDropzone.addEventListener('dragleave', () => galleryDropzone.classList.remove('dragover'));
            galleryDropzone.addEventListener('drop', e => { e.preventDefault(); galleryDropzone.classList.remove('dragover'); handleProjectGalleryUpload(e.dataTransfer.files); });
            galleryInput.addEventListener('change', () => { handleProjectGalleryUpload(galleryInput.files); galleryInput.value = ''; });
        }

        const teamDropzone = document.getElementById('teamPhotoDropzone');
        const teamInput = document.getElementById('teamPhotoUpload');
        if (teamDropzone && teamInput) {
            teamDropzone.addEventListener('click', () => teamInput.click());
            teamDropzone.addEventListener('dragover', e => { e.preventDefault(); teamDropzone.classList.add('dragover'); });
            teamDropzone.addEventListener('dragleave', () => teamDropzone.classList.remove('dragover'));
            teamDropzone.addEventListener('drop', e => { e.preventDefault(); teamDropzone.classList.remove('dragover'); handleTeamPhotoUpload(e.dataTransfer.files[0]); });
            teamInput.addEventListener('change', () => { handleTeamPhotoUpload(teamInput.files[0]); teamInput.value = ''; });
        }
    });

    // Keyboard navigation for lightbox
    document.addEventListener('keydown', e => {
        if (!document.getElementById('lightbox').classList.contains('active')) return;
        if (e.key === 'ArrowLeft') lightboxPrev();
        if (e.key === 'ArrowRight') lightboxNext();
    });

    // Close modal on overlay click
    document.querySelectorAll('.modal-overlay').forEach(m => {
        m.addEventListener('click', e => { if (e.target === m) closeModal(m.id); });
    });
    </script>
</body>
</html>
